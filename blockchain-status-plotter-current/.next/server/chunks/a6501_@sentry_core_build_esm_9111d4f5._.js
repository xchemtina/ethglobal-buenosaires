module.exports=[31704,e=>{"use strict";let t=globalThis;e.s(["GLOBAL_OBJ",()=>t])},2455,e=>{"use strict";e.s(["SDK_VERSION",()=>"10.26.0"])},71339,34923,5537,37364,83909,11925,72259,5864,1627,89058,21171,677,82186,62557,75509,46001,92812,15625,e=>{"use strict";let t,n,r;var i=e.i(2455),s=e.i(31704);function o(){return a(s.GLOBAL_OBJ),s.GLOBAL_OBJ}function a(e){let t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||i.SDK_VERSION,t[i.SDK_VERSION]=t[i.SDK_VERSION]||{}}function u(e,t,n=s.GLOBAL_OBJ){let r=n.__SENTRY__=n.__SENTRY__||{},o=r[i.SDK_VERSION]=r[i.SDK_VERSION]||{};return o[e]||(o[e]=t())}e.s(["getGlobalSingleton",()=>u,"getMainCarrier",()=>o,"getSentryCarrier",()=>a],34923);let l="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;e.s(["DEBUG_BUILD",()=>l],5537);let c=Object.prototype.toString;function p(e){switch(c.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return N(e,Error)}}function _(e,t){return c.call(e)===`[object ${t}]`}function d(e){return _(e,"ErrorEvent")}function g(e){return _(e,"DOMError")}function f(e){return _(e,"DOMException")}function E(e){return _(e,"String")}function T(e){return"object"==typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function m(e){return null===e||T(e)||"object"!=typeof e&&"function"!=typeof e}function S(e){return _(e,"Object")}function h(e){return"undefined"!=typeof Event&&N(e,Event)}function I(e){return"undefined"!=typeof Element&&N(e,Element)}function A(e){return _(e,"RegExp")}function y(e){return!!(e?.then&&"function"==typeof e.then)}function b(e){return S(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function N(e,t){try{return e instanceof t}catch{return!1}}function R(e){return!!("object"==typeof e&&null!==e&&(e.__isVue||e._isVue||e.__v_isVNode))}function v(e){return"undefined"!=typeof Request&&N(e,Request)}e.s(["isDOMError",()=>g,"isDOMException",()=>f,"isElement",()=>I,"isError",()=>p,"isErrorEvent",()=>d,"isEvent",()=>h,"isInstanceOf",()=>N,"isParameterizedString",()=>T,"isPlainObject",()=>S,"isPrimitive",()=>m,"isRegExp",()=>A,"isRequest",()=>v,"isString",()=>E,"isSyntheticEvent",()=>b,"isThenable",()=>y,"isVueViewModel",()=>R],37364);let O=s.GLOBAL_OBJ;function U(e,t={}){if(!e)return"<unknown>";try{let n,r=e,i=[],s=0,o=0,a=Array.isArray(t)?t:t.keyAttrs,u=!Array.isArray(t)&&t.maxStringLength||80;for(;r&&s++<5&&(n=function(e,t){let n=[];if(!e?.tagName)return"";if(O.HTMLElement&&e instanceof HTMLElement&&e.dataset){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}n.push(e.tagName.toLowerCase());let r=t?.length?t.filter(t=>e.getAttribute(t)).map(t=>[t,e.getAttribute(t)]):null;if(r?.length)r.forEach(e=>{n.push(`[${e[0]}="${e[1]}"]`)});else{e.id&&n.push(`#${e.id}`);let t=e.className;if(t&&E(t))for(let e of t.split(/\s+/))n.push(`.${e}`)}for(let t of["aria-label","type","name","title","alt"]){let r=e.getAttribute(t);r&&n.push(`[${t}="${r}"]`)}return n.join("")}(r,a),"html"!==n&&(!(s>1)||!(o+3*i.length+n.length>=u)));)i.push(n),o+=n.length,r=r.parentNode;return i.reverse().join(" > ")}catch{return"<unknown>"}}function C(){try{return O.document.location.href}catch{return""}}function B(e){if(!O.HTMLElement)return null;let t=e;for(let e=0;e<5&&t;e++){if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}e.s(["getComponentName",()=>B,"getLocationHref",()=>C,"htmlTreeAsString",()=>U],83909);let x=["debug","info","warn","error","log","assert","trace"],k={};function D(e){if(!("console"in s.GLOBAL_OBJ))return e();let t=s.GLOBAL_OBJ.console,n={},r=Object.keys(k);r.forEach(e=>{let r=k[e];n[e]=t[e],t[e]=r});try{return e()}finally{r.forEach(e=>{t[e]=n[e]})}}function P(){return L().enabled}function M(e,...t){l&&P()&&D(()=>{s.GLOBAL_OBJ.console[e](`Sentry Logger [${e}]:`,...t)})}function L(){return l?u("loggerSettings",()=>({enabled:!1})):{enabled:!1}}let G={enable:function(){L().enabled=!0},disable:function(){L().enabled=!1},isEnabled:P,log:function(...e){M("log",...e)},warn:function(...e){M("warn",...e)},error:function(...e){M("error",...e)}};function w(e,t,n){if(!(t in e))return;let r=e[t];if("function"!=typeof r)return;let i=n(r);"function"==typeof i&&j(i,r);try{e[t]=i}catch{l&&G.log(`Failed to replace method "${t}" in object`,e)}}function $(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{l&&G.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function j(e,t){try{let n=t.prototype||{};e.prototype=t.prototype=n,$(e,"__sentry_original__",t)}catch{}}function F(e){return e.__sentry_original__}function J(e){if(p(e))return{message:e.message,name:e.name,stack:e.stack,...Y(e)};if(!h(e))return e;{let t={type:e.type,target:H(e.target),currentTarget:H(e.currentTarget),...Y(e)};return"undefined"!=typeof CustomEvent&&N(e,CustomEvent)&&(t.detail=e.detail),t}}function H(e){try{return I(e)?U(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function Y(e){if("object"!=typeof e||null===e)return{};{let t={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}}function K(e){let t=Object.keys(J(e));return t.sort(),t[0]?t.join(", "):"[object has no keys]"}e.s(["CONSOLE_LEVELS",()=>x,"consoleSandbox",()=>D,"debug",()=>G,"originalConsoleMethods",()=>k],11925),e.s(["addNonEnumerableProperty",()=>$,"convertToPlainObject",()=>J,"extractExceptionKeysForMessage",()=>K,"fill",()=>w,"getOriginalFunction",()=>F,"markFunctionWrapped",()=>j],72259);let Q=/\(error: (.*)\)/,V=/captureMessage|captureException/;function z(...e){let t=e.sort((e,t)=>e[0]-t[0]).map(e=>e[1]);return(e,n=0,r=0)=>{let i=[],s=e.split("\n");for(let e=n;e<s.length;e++){let n=s[e];n.length>1024&&(n=n.slice(0,1024));let o=Q.test(n)?n.replace(Q,"$1"):n;if(!o.match(/\S*Error: /)){for(let e of t){let t=e(o);if(t){i.push(t);break}}if(i.length>=50+r)break}}var o=i.slice(r);if(!o.length)return[];let a=Array.from(o);return/sentryWrapped/.test(W(a).function||"")&&a.pop(),a.reverse(),V.test(W(a).function||"")&&(a.pop(),V.test(W(a).function||"")&&a.pop()),a.slice(0,50).map(e=>({...e,filename:e.filename||W(a).filename,function:e.function||"?"}))}}function q(e){return Array.isArray(e)?z(...e):e}function W(e){return e[e.length-1]||{}}let X="<anonymous>";function Z(e){try{if(!e||"function"!=typeof e)return X;return e.name||X}catch{return X}}function ee(e){let t=e.exception;if(t){let e=[];try{return t.values.forEach(t=>{t.stacktrace.frames&&e.push(...t.stacktrace.frames)}),e}catch{}}}function et(e){return"__v_isVNode"in e&&e.__v_isVNode?"[VueVNode]":"[VueViewModel]"}function en(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function er(e,t){let n=e,r=n.length;if(r<=150)return n;t>r&&(t=r);let i=Math.max(t-60,0);i<5&&(i=0);let s=Math.min(i+140,r);return s>r-5&&(s=r),s===r&&(i=Math.max(s-140,0)),n=n.slice(i,s),i>0&&(n=`'{snip} ${n}`),s<r&&(n+=" {snip}"),n}function ei(e,t){if(!Array.isArray(e))return"";let n=[];for(let t=0;t<e.length;t++){let r=e[t];try{R(r)?n.push(et(r)):n.push(String(r))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function es(e,t,n=!1){return!!E(e)&&(A(t)?t.test(e):!!E(t)&&(n?e===t:e.includes(t)))}function eo(e,t=[],n=!1){return t.some(t=>es(e,t,n))}function ea(e=function(){let e=s.GLOBAL_OBJ;return e.crypto||e.msCrypto}()){try{if(e?.randomUUID)return e.randomUUID().replace(/-/g,"")}catch{}return t||(t="10000000100040008000100000000000"),t.replace(/[018]/g,e=>(e^(15&16*Math.random())>>e/4).toString(16))}function eu(e){return e.exception?.values?.[0]}function el(e){let{message:t,event_id:n}=e;if(t)return t;let r=eu(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function ec(e,t,n){let r=e.exception=e.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{};s.value||(s.value=t||""),s.type||(s.type=n||"Error")}function ep(e,t){let n=eu(e);if(!n)return;let r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){let e={...r?.data,...t.data};n.mechanism.data=e}}e.s(["UNKNOWN_FUNCTION",()=>"?","createStackParser",()=>z,"getFramesFromEvent",()=>ee,"getFunctionName",()=>Z,"getVueInternalName",()=>et,"stackParserFromStackParserOptions",()=>q],5864),e.s(["isMatchingPattern",()=>es,"safeJoin",()=>ei,"snipLine",()=>er,"stringMatchesSomePattern",()=>eo,"truncate",()=>en],1627);let e_=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;function ed(e){return parseInt(e||"",10)}function eg(e){let t=e.match(e_)||[],n=ed(t[1]),r=ed(t[2]),i=ed(t[3]);return{buildmetadata:t[5],major:isNaN(n)?void 0:n,minor:isNaN(r)?void 0:r,patch:isNaN(i)?void 0:i,prerelease:t[4]}}function ef(e,t,n=5){if(void 0===t.lineno)return;let r=e.length,i=Math.max(Math.min(r-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,i-n),i).map(e=>er(e,0)),t.context_line=er(e[Math.min(r-1,i)],t.colno||0),t.post_context=e.slice(Math.min(i+1,r),i+1+n).map(e=>er(e,0))}function eE(e){if(function(e){try{return e.__sentry_captured__}catch{}}(e))return!0;try{$(e,"__sentry_captured__",!0)}catch{}return!1}function eT(){return Date.now()/1e3}function em(){return(n??(n=function(){let{performance:e}=s.GLOBAL_OBJ;if(!e?.now||!e.timeOrigin)return eT;let t=e.timeOrigin;return()=>(t+e.now())/1e3}()))()}function eS(){return r||(r=function(){let{performance:e}=s.GLOBAL_OBJ;if(!e?.now)return[void 0,"none"];let t=e.now(),n=Date.now(),r=e.timeOrigin?Math.abs(e.timeOrigin+t-n):36e5,i=e.timing?.navigationStart,o="number"==typeof i?Math.abs(i+t-n):36e5;if(r<36e5||o<36e5)if(r<=o)return[e.timeOrigin,"timeOrigin"];else return[i,"navigationStart"];return[n,"dateNow"]}()),r[0]}function eh(e){let t=em(),n={sid:ea(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>{var e;return e=n,{sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}};return e&&eI(n,e),n}function eI(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||em(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:ea()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{let t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function eA(e,t){let n={};t?n={status:t}:"ok"===e.status&&(n={status:"exited"}),eI(e,n)}function ey(e,t,n=2){if(!t||"object"!=typeof t||n<=0)return t;if(e&&0===Object.keys(t).length)return e;let r={...e};for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=ey(r[e],t[e],n-1));return r}function eb(){return ea()}function eN(){return ea().substring(16)}e.s(["addContextToFrame",()=>ef,"addExceptionMechanism",()=>ep,"addExceptionTypeValue",()=>ec,"checkOrSetAlreadyCaught",()=>eE,"getEventDescription",()=>el,"parseSemver",()=>eg,"uuid4",()=>ea],89058),e.s(["browserPerformanceTimeOrigin",()=>eS,"dateTimestampInSeconds",()=>eT,"timestampInSeconds",()=>em],21171),e.s(["closeSession",()=>eA,"makeSession",()=>eh,"updateSession",()=>eI],677),e.s(["merge",()=>ey],82186),e.s(["generateSpanId",()=>eN,"generateTraceId",()=>eb],62557);let eR="_sentrySpan";function ev(e,t){t?$(e,eR,t):delete e[eR]}function eO(e){return e[eR]}e.s(["_getSpanForScope",()=>eO,"_setSpanForScope",()=>ev],75509);class eU{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:eb(),sampleRand:Math.random()}}clone(){let e=new eU;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,ev(e,this[eR]),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&eI(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this.setTags({[e]:t})}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;let t="function"==typeof e?e(this):e,{tags:n,extra:r,user:i,contexts:s,level:o,fingerprint:a=[],propagationContext:u}=(t instanceof eU?t.getScopeData():S(t)?e:void 0)||{};return this._tags={...this._tags,...n},this._extra={...this._extra,...r},this._contexts={...this._contexts,...s},i&&Object.keys(i).length&&(this._user=i),o&&(this._level=o),a.length&&(this._fingerprint=a),u&&(this._propagationContext=u),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,ev(this,void 0),this._attachments=[],this.setPropagationContext({traceId:eb(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(e,t){let n="number"==typeof t?t:100;if(n<=0)return this;let r={timestamp:eT(),...e,message:e.message?en(e.message,2048):e.message};return this._breadcrumbs.push(r),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:this[eR]}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=ey(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){let n=t?.event_id||ea();if(!this._client)return l&&G.warn("No client configured on scope - will not capture exception!"),n;let r=Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:r,...t,event_id:n},this),n}captureMessage(e,t,n){let r=n?.event_id||ea();if(!this._client)return l&&G.warn("No client configured on scope - will not capture message!"),r;let i=n?.syntheticException??Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:i,...n,event_id:r},this),r}captureEvent(e,t){let n=t?.event_id||ea();return this._client?this._client.captureEvent(e,{...t,event_id:n},this):l&&G.warn("No client configured on scope - will not capture event!"),n}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}function eC(){return u("defaultCurrentScope",()=>new eU)}function eB(){return u("defaultIsolationScope",()=>new eU)}e.s(["Scope",()=>eU],46001),e.s(["getDefaultCurrentScope",()=>eC,"getDefaultIsolationScope",()=>eB],92812);class ex{constructor(e,t){let n,r;n=e||new eU,r=t||new eU,this._stack=[{scope:n}],this._isolationScope=r}withScope(e){let t,n=this._pushScope();try{t=e(n)}catch(e){throw this._popScope(),e}return y(t)?t.then(e=>(this._popScope(),e),e=>{throw this._popScope(),e}):(this._popScope(),t)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function ek(){let e=a(o());return e.stack=e.stack||new ex(eC(),eB())}function eD(e){return ek().withScope(e)}function eP(e,t){let n=ek();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function eM(e){return ek().withScope(()=>e(ek().getIsolationScope()))}function eL(e){a(o()).acs=e}function eG(e){let t=a(e);return t.acs?t.acs:{withIsolationScope:eM,withScope:eD,withSetScope:eP,withSetIsolationScope:(e,t)=>eM(t),getCurrentScope:()=>ek().getScope(),getIsolationScope:()=>ek().getIsolationScope()}}function ew(){return eG(o()).getCurrentScope()}function e$(){return eG(o()).getIsolationScope()}function ej(){return u("globalScope",()=>new eU)}function eF(...e){let t=eG(o());if(2===e.length){let[n,r]=e;return n?t.withSetScope(n,r):t.withScope(r)}return t.withScope(e[0])}function eJ(...e){let t=eG(o());if(2===e.length){let[n,r]=e;return n?t.withSetIsolationScope(n,r):t.withIsolationScope(r)}return t.withIsolationScope(e[0])}function eH(){return ew().getClient()}function eY(e){let{traceId:t,parentSpanId:n,propagationSpanId:r}=e.getPropagationContext(),i={trace_id:t,span_id:r||eN()};return n&&(i.parent_span_id=n),i}e.s(["getAsyncContextStrategy",()=>eG,"setAsyncContextStrategy",()=>eL],15625),e.s(["getClient",()=>eH,"getCurrentScope",()=>ew,"getGlobalScope",()=>ej,"getIsolationScope",()=>e$,"getTraceContextFromScope",()=>eY,"withIsolationScope",()=>eJ,"withScope",()=>eF],71339)},26020,e=>{"use strict";var t=e.i(71339);function n(e,r={},i=(0,t.getCurrentScope)()){let{message:s,name:o,email:a,url:u,source:l,associatedEventId:c,tags:p}=e,_={contexts:{feedback:{contact_email:a,name:o,message:s,url:u,source:l,associated_event_id:c}},type:"feedback",level:"info",tags:p},d=i?.getClient()||(0,t.getClient)();return d&&d.emit("beforeSendFeedback",_,r),i.captureEvent(_,r)}e.s(["captureFeedback",()=>n])},64738,92967,e=>{"use strict";function t(){return"undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}function n(){return"npm"}function r(){return!1}e.s(["getSDKSource",()=>n,"isBrowserBundle",()=>t],92967),e.i(31704),e.s(["isBrowser",()=>r],64738)},3818,e=>{"use strict";var t=e.i(71339),n=e.i(5537),r=e.i(11925);let i=[];function s(e){let t,n,r=e.defaultIntegrations||[],i=e.integrations;if(r.forEach(e=>{e.isDefaultInstance=!0}),Array.isArray(i))t=[...r,...i];else if("function"==typeof i){let e=i(r);t=Array.isArray(e)?e:[e]}else t=r;return n={},t.forEach(e=>{let{name:t}=e,r=n[t];r&&!r.isDefaultInstance&&e.isDefaultInstance||(n[t]=e)}),Object.values(n)}function o(e,t){let n={};return t.forEach(t=>{t&&u(e,t,n)}),n}function a(e,t){for(let n of t)n?.afterAllSetup&&n.afterAllSetup(e)}function u(e,t,s){if(s[t.name]){n.DEBUG_BUILD&&r.debug.log(`Integration skipped because it was already installed: ${t.name}`);return}if(s[t.name]=t,i.includes(t.name)||"function"!=typeof t.setupOnce||(t.setupOnce(),i.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),"function"==typeof t.preprocessEvent){let n=t.preprocessEvent.bind(t);e.on("preprocessEvent",(t,r)=>n(t,r,e))}if("function"==typeof t.processEvent){let n=t.processEvent.bind(t),r=Object.assign((t,r)=>n(t,r,e),{id:t.name});e.addEventProcessor(r)}n.DEBUG_BUILD&&r.debug.log(`Integration installed: ${t.name}`)}function l(e){let i=(0,t.getClient)();if(!i){n.DEBUG_BUILD&&r.debug.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`);return}i.addIntegration(e)}function c(e){return e}e.s(["addIntegration",()=>l,"afterSetupIntegrations",()=>a,"defineIntegration",()=>c,"getIntegrationsToSetup",()=>s,"setupIntegration",()=>u,"setupIntegrations",()=>o])},77610,39983,99058,38150,66419,88919,e=>{"use strict";e.s(["DEFAULT_ENVIRONMENT",()=>"production"],77610);var t=e.i(5537),n=e.i(11925),r=e.i(37364);function i(e){return new o(t=>{t(e)})}function s(e){return new o((t,n)=>{n(e)})}class o{constructor(e){this._state=0,this._handlers=[],this._runExecutor(e)}then(e,t){return new o((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){r(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){r(e)}else r(e)}]),this._executeHandlers()})}catch(e){return this.then(e=>e,e)}finally(e){return new o((t,n)=>{let r,i;return this.then(t=>{i=!1,r=t,e&&e()},t=>{i=!0,r=t,e&&e()}).then(()=>{i?n(r):t(r)})})}_executeHandlers(){if(0===this._state)return;let e=this._handlers.slice();this._handlers=[],e.forEach(e=>{e[0]||(1===this._state&&e[1](this._value),2===this._state&&e[2](this._value),e[0]=!0)})}_runExecutor(e){let t=(e,t)=>{if(0===this._state){if((0,r.isThenable)(t))return void t.then(n,i);this._state=e,this._value=t,this._executeHandlers()}},n=e=>{t(1,e)},i=e=>{t(2,e)};try{e(n,i)}catch(e){i(e)}}}function a(e,o,u,l=0){try{let s=function e(i,s,o,a){let u=o[a];if(!i||!u)return i;let l=u({...i},s);return(t.DEBUG_BUILD&&null===l&&n.debug.log(`Event processor "${u.id||"?"}" dropped event`),(0,r.isThenable)(l))?l.then(t=>e(t,s,o,a+1)):e(l,s,o,a+1)}(o,u,e,l);return(0,r.isThenable)(s)?s:i(s)}catch(e){return s(e)}}e.s(["rejectedSyncPromise",()=>s,"resolvedSyncPromise",()=>i],39983),e.s(["notifyEventProcessors",()=>a],99058),e.s(["SEMANTIC_ATTRIBUTE_CACHE_HIT",()=>"cache.hit","SEMANTIC_ATTRIBUTE_CACHE_ITEM_SIZE",()=>"cache.item_size","SEMANTIC_ATTRIBUTE_CACHE_KEY",()=>"cache.key","SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME",()=>"sentry.exclusive_time","SEMANTIC_ATTRIBUTE_HTTP_REQUEST_METHOD",()=>"http.request.method","SEMANTIC_ATTRIBUTE_PROFILE_ID",()=>"sentry.profile_id","SEMANTIC_ATTRIBUTE_SENTRY_CUSTOM_SPAN_NAME",()=>"sentry.custom_span_name","SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON",()=>"sentry.idle_span_finish_reason","SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT",()=>"sentry.measurement_unit","SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE",()=>"sentry.measurement_value","SEMANTIC_ATTRIBUTE_SENTRY_OP",()=>"sentry.op","SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN",()=>"sentry.origin","SEMANTIC_ATTRIBUTE_SENTRY_PREVIOUS_TRACE_SAMPLE_RATE",()=>"sentry.previous_trace_sample_rate","SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE",()=>"sentry.sample_rate","SEMANTIC_ATTRIBUTE_SENTRY_SOURCE",()=>"sentry.source","SEMANTIC_ATTRIBUTE_URL_FULL",()=>"url.full","SEMANTIC_LINK_ATTRIBUTE_LINK_TYPE",()=>"sentry.link.type"],38150);let u="sentry-",l=/^sentry-/;function c(e){let t=_(e);if(!t)return;let n=Object.entries(t).reduce((e,[t,n])=>(t.match(l)&&(e[t.slice(u.length)]=n),e),{});return Object.keys(n).length>0?n:void 0}function p(e){if(e)return g(Object.entries(e).reduce((e,[t,n])=>(n&&(e[`${u}${t}`]=n),e),{}))}function _(e){if(e&&((0,r.isString)(e)||Array.isArray(e)))return Array.isArray(e)?e.reduce((e,t)=>(Object.entries(d(t)).forEach(([t,n])=>{e[t]=n}),e),{}):d(e)}function d(e){return e.split(",").map(e=>{let t=e.indexOf("=");return -1===t?[]:[e.slice(0,t),e.slice(t+1)].map(e=>{try{return decodeURIComponent(e.trim())}catch{return}})}).reduce((e,[t,n])=>(t&&n&&(e[t]=n),e),{})}function g(e){if(0!==Object.keys(e).length)return Object.entries(e).reduce((e,[r,i],s)=>{let o=`${encodeURIComponent(r)}=${encodeURIComponent(i)}`,a=0===s?o:`${e},${o}`;return a.length>8192?(t.DEBUG_BUILD&&n.debug.warn(`Not adding key: ${r} with val: ${i} to baggage header due to exceeding baggage size limits.`),e):a},"")}e.s(["SENTRY_BAGGAGE_KEY_PREFIX",()=>u,"baggageHeaderToDynamicSamplingContext",()=>c,"dynamicSamplingContextToSentryBaggageHeader",()=>p,"objectToBaggageHeader",()=>g,"parseBaggageHeader",()=>_],66419);let f=/^o(\d+)\./,E=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function T(e,t=!1){let{host:n,path:r,pass:i,port:s,projectId:o,protocol:a,publicKey:u}=e;return`${a}://${u}${t&&i?`:${i}`:""}@${n}${s?`:${s}`:""}/${r?`${r}/`:r}${o}`}function m(e){let t=E.exec(e);if(!t)return void(0,n.consoleSandbox)(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});let[r,i,s="",o="",a="",u=""]=t.slice(1),l="",c=u,p=c.split("/");if(p.length>1&&(l=p.slice(0,-1).join("/"),c=p.pop()),c){let e=c.match(/^\d+/);e&&(c=e[0])}return S({host:o,pass:s,path:l,projectId:c,port:a,protocol:r,publicKey:i})}function S(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function h(e){let t,n=e.getOptions(),{host:r}=e.getDsn()||{};if(n.orgId)t=String(n.orgId);else{let e;r&&(e=r.match(f),t=e?.[1])}return t}function I(e){let r="string"==typeof e?m(e):S(e);if(r&&function(e){if(!t.DEBUG_BUILD)return!0;let{port:r,projectId:i,protocol:s}=e;return!["protocol","publicKey","host","projectId"].find(t=>!e[t]&&(n.debug.error(`Invalid Sentry Dsn: ${t} missing`),!0))&&(i.match(/^\d+$/)?"http"!==s&&"https"!==s?(n.debug.error(`Invalid Sentry Dsn: Invalid protocol ${s}`),!1):!(r&&isNaN(parseInt(r,10)))||(n.debug.error(`Invalid Sentry Dsn: Invalid port ${r}`),!1):(n.debug.error(`Invalid Sentry Dsn: Invalid projectId ${i}`),!1))}(r))return r}e.s(["dsnFromString",()=>m,"dsnToString",()=>T,"extractOrgIdFromClient",()=>h,"makeDsn",()=>I],88919)},95861,e=>{"use strict";var t=e.i(71339);function n(e){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;let n=e||(0,t.getClient)()?.getOptions();return!!n&&(null!=n.tracesSampleRate||!!n.tracesSampler)}e.s(["hasSpansEnabled",()=>n])},3110,98942,65957,89322,39213,17783,87211,85067,12550,4075,23550,e=>{"use strict";let t,n,r,i;var s=e.i(71339),o=e.i(5537),a=e.i(677),u=e.i(11925),l=e.i(37364),c=e.i(89058),p=e.i(77610),_=e.i(99058),d=e.i(46001),g=e.i(38150),f=e.i(66419),E=e.i(88919),T=e.i(95861),m=e.i(72259),S=e.i(15625),h=e.i(34923);function I(e){if(e<400&&e>=100)return{code:1};if(e>=400&&e<500)switch(e){case 401:return{code:2,message:"unauthenticated"};case 403:return{code:2,message:"permission_denied"};case 404:return{code:2,message:"not_found"};case 409:return{code:2,message:"already_exists"};case 413:return{code:2,message:"failed_precondition"};case 429:return{code:2,message:"resource_exhausted"};case 499:return{code:2,message:"cancelled"};default:return{code:2,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:2,message:"unimplemented"};case 503:return{code:2,message:"unavailable"};case 504:return{code:2,message:"deadline_exceeded"}}return{code:2,message:"internal_error"}}function A(e,t){e.setAttribute("http.response.status_code",t);let n=I(t);"unknown_error"!==n.message&&e.setStatus(n)}e.s(["SPAN_STATUS_ERROR",()=>2,"SPAN_STATUS_OK",()=>1,"SPAN_STATUS_UNSET",()=>0,"getSpanStatusFromHttpCode",()=>I,"setHttpStatus",()=>A],98942);var y=e.i(31704);let b="_sentryScope",N="_sentryIsolationScope";function R(e,t,n){e&&((0,m.addNonEnumerableProperty)(e,N,function(e){try{let t=y.GLOBAL_OBJ.WeakRef;if("function"==typeof t)return new t(e)}catch{}return e}(n)),(0,m.addNonEnumerableProperty)(e,b,t))}function v(e){return{scope:e[b],isolationScope:function(e){if(e){if("object"==typeof e&&"deref"in e&&"function"==typeof e.deref)try{return e.deref()}catch{return}return e}}(e[N])}}e.s(["getCapturedScopesOnSpan",()=>v,"setCapturedScopesOnSpan",()=>R],65957);var O=e.i(62557),U=e.i(21171);function C(e){if("boolean"==typeof e)return Number(e);let t="string"==typeof e?parseFloat(e):e;if(!("number"!=typeof t||isNaN(t))&&!(t<0)&&!(t>1))return t}e.s(["parseSampleRate",()=>C],89322);let B=RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function x(e,t){let n=function(e){let t;if(!e)return;let n=e.match(B);if(n)return"1"===n[3]?t=!0:"0"===n[3]&&(t=!1),{traceId:n[1],parentSampled:t,parentSpanId:n[2]}}(e),r=(0,f.baggageHeaderToDynamicSamplingContext)(t);if(!n?.traceId)return{traceId:(0,O.generateTraceId)(),sampleRand:Math.random()};let i=function(e,t){let n=C(t?.sample_rand);if(void 0!==n)return n;let r=C(t?.sample_rate);return r&&e?.parentSampled!==void 0?e.parentSampled?Math.random()*r:r+Math.random()*(1-r):Math.random()}(n,r);r&&(r.sample_rand=i.toString());let{traceId:s,parentSpanId:o,parentSampled:a}=n;return{traceId:s,parentSpanId:o,sampled:a,dsc:r||{},sampleRand:i}}function k(e=(0,O.generateTraceId)(),t=(0,O.generateSpanId)(),n){let r="";return void 0!==n&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function D(e=(0,O.generateTraceId)(),t=(0,O.generateSpanId)(),n){return`00-${e}-${t}-${n?"01":"00"}`}function P(e,t){let n=(0,E.extractOrgIdFromClient)(e);return t&&n&&t!==n?(u.debug.log(`Won't continue trace because org IDs don't match (incoming baggage: ${t}, SDK options: ${n})`),!1):!e.getOptions().strictTraceContinuation||(!t||!!n)&&(!!t||!n)||(u.debug.log(`Starting a new trace because strict trace continuation is enabled but one org ID is missing (incoming baggage: ${t}, Sentry client: ${n})`),!1)}e.s(["TRACEPARENT_REGEXP",()=>B,"generateSentryTraceHeader",()=>k,"generateTraceparentHeader",()=>D,"propagationContextFromHeaders",()=>x,"shouldContinueTrace",()=>P],39213);var M=e.i(75509);let L=!1;function G(e){let{spanId:t,traceId:n}=e.spanContext(),{data:r,op:i,parent_span_id:s,status:o,origin:a,links:u}=Y(e);return{parent_span_id:s,span_id:t,trace_id:n,data:r,op:i,status:o,origin:a,links:u}}function w(e){let{spanId:t,traceId:n,isRemote:r}=e.spanContext(),i=r?t:Y(e).parent_span_id,s=v(e).scope;return{parent_span_id:i,span_id:r?s?.getPropagationContext().propagationSpanId||(0,O.generateSpanId)():t,trace_id:n}}function $(e){let{traceId:t,spanId:n}=e.spanContext();return k(t,n,K(e))}function j(e){let{traceId:t,spanId:n}=e.spanContext();return D(t,n,K(e))}function F(e){return e&&e.length>0?e.map(({context:{spanId:e,traceId:t,traceFlags:n,...r},attributes:i})=>({span_id:e,trace_id:t,sampled:1===n,attributes:i,...r})):void 0}function J(e){return"number"==typeof e?H(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?H(e.getTime()):(0,U.timestampInSeconds)()}function H(e){return e>0x2540be3ff?e/1e3:e}function Y(e){var t;if("function"==typeof e.getSpanJSON)return e.getSpanJSON();let{spanId:n,traceId:r}=e.spanContext();if((t=e).attributes&&t.startTime&&t.name&&t.endTime&&t.status){let{attributes:t,startTime:i,name:s,endTime:o,status:a,links:u}=e;return{span_id:n,trace_id:r,data:t,description:s,parent_span_id:"parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?e.parentSpanContext?.spanId:void 0,start_timestamp:J(i),timestamp:J(o)||void 0,status:Q(a),op:t[g.SEMANTIC_ATTRIBUTE_SENTRY_OP],origin:t[g.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN],links:F(u)}}return{span_id:n,trace_id:r,start_timestamp:0,data:{}}}function K(e){let{traceFlags:t}=e.spanContext();return 1===t}function Q(e){if(e&&0!==e.code)return 1===e.code?"ok":e.message||"internal_error"}let V="_sentryChildSpans",z="_sentryRootSpan";function q(e,t){let n=e[z]||e;(0,m.addNonEnumerableProperty)(t,z,n),e[V]?e[V].add(t):(0,m.addNonEnumerableProperty)(e,V,new Set([t]))}function W(e,t){e[V]&&e[V].delete(t)}function X(e){let t=new Set;return!function e(n){if(!t.has(n)&&K(n))for(let r of(t.add(n),n[V]?Array.from(n[V]):[]))e(r)}(e),Array.from(t)}function Z(e){return e[z]||e}function ee(){let e=(0,h.getMainCarrier)(),t=(0,S.getAsyncContextStrategy)(e);return t.getActiveSpan?t.getActiveSpan():(0,M._getSpanForScope)((0,s.getCurrentScope)())}function et(){L||((0,u.consoleSandbox)(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly or use `ignoreSpans`.")}),L=!0)}function en(e,t){e.updateName(t),e.setAttributes({[g.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:"custom",[g.SEMANTIC_ATTRIBUTE_SENTRY_CUSTOM_SPAN_NAME]:t})}e.s(["TRACE_FLAG_NONE",()=>0,"TRACE_FLAG_SAMPLED",()=>1,"addChildSpanToSpan",()=>q,"convertSpanLinksForEnvelope",()=>F,"getActiveSpan",()=>ee,"getRootSpan",()=>Z,"getSpanDescendants",()=>X,"getStatusMessage",()=>Q,"removeChildSpanFromSpan",()=>W,"showSpanDropWarning",()=>et,"spanIsSampled",()=>K,"spanTimeInputToSeconds",()=>J,"spanToJSON",()=>Y,"spanToTraceContext",()=>w,"spanToTraceHeader",()=>$,"spanToTraceparentHeader",()=>j,"spanToTransactionTraceContext",()=>G,"updateSpanName",()=>en],17783);let er="_frozenDsc";function ei(e,t){(0,m.addNonEnumerableProperty)(e,er,t)}function es(e,t){let n=t.getOptions(),{publicKey:r}=t.getDsn()||{},i={environment:n.environment||p.DEFAULT_ENVIRONMENT,release:n.release,public_key:r,trace_id:e,org_id:(0,E.extractOrgIdFromClient)(t)};return t.emit("createDsc",i),i}function eo(e,t){let n=t.getPropagationContext();return n.dsc||es(n.traceId,e)}function ea(e){let t=(0,s.getClient)();if(!t)return{};let n=Z(e),r=Y(n),i=r.data,o=n.spanContext().traceState,a=o?.get("sentry.sample_rate")??i[g.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE]??i[g.SEMANTIC_ATTRIBUTE_SENTRY_PREVIOUS_TRACE_SAMPLE_RATE];function u(e){return("number"==typeof a||"string"==typeof a)&&(e.sample_rate=`${a}`),e}let l=n[er];if(l)return u(l);let c=o?.get("sentry.dsc"),p=c&&(0,f.baggageHeaderToDynamicSamplingContext)(c);if(p)return u(p);let _=es(e.spanContext().traceId,t),d=i[g.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE],E=r.description;return"url"!==d&&E&&(_.transaction=E),(0,T.hasSpansEnabled)()&&(_.sampled=String(K(n)),_.sample_rand=o?.get("sentry.sample_rand")??v(n).scope?.getPropagationContext().sampleRand.toString()),u(_),t.emit("createDsc",_,n),_}function eu(e){let t=ea(e);return(0,f.dynamicSamplingContextToSentryBaggageHeader)(t)}e.s(["freezeDscOnSpan",()=>ei,"getDynamicSamplingContextFromScope",()=>eo,"getDynamicSamplingContextFromSpan",()=>ea,"spanToBaggageHeader",()=>eu],87211);var el=e.i(82186);function ec(e,t){var n,r,i,s,o,a,u,l;let c,p,{fingerprint:_,span:d,breadcrumbs:g,sdkProcessingMetadata:f}=t;(function(e,t){let{extra:n,tags:r,user:i,contexts:s,level:o,transactionName:a}=t;Object.keys(n).length&&(e.extra={...n,...e.extra}),Object.keys(r).length&&(e.tags={...r,...e.tags}),Object.keys(i).length&&(e.user={...i,...e.user}),Object.keys(s).length&&(e.contexts={...s,...e.contexts}),o&&(e.level=o),a&&"transaction"!==e.type&&(e.transaction=a)})(e,t),d&&((n=e).contexts={trace:w(r=d),...n.contexts},n.sdkProcessingMetadata={dynamicSamplingContext:ea(r),...n.sdkProcessingMetadata},(c=Y(Z(r)).description)&&!n.transaction&&"transaction"===n.type&&(n.transaction=c)),i=e,s=_,i.fingerprint=i.fingerprint?Array.isArray(i.fingerprint)?i.fingerprint:[i.fingerprint]:[],s&&(i.fingerprint=i.fingerprint.concat(s)),i.fingerprint.length||delete i.fingerprint,o=e,a=g,p=[...o.breadcrumbs||[],...a],o.breadcrumbs=p.length?p:void 0,u=e,l=f,u.sdkProcessingMetadata={...u.sdkProcessingMetadata,...l}}function ep(e,t){let{extra:n,tags:r,user:i,contexts:s,level:o,sdkProcessingMetadata:a,breadcrumbs:u,fingerprint:l,eventProcessors:c,attachments:p,propagationContext:_,transactionName:d,span:g}=t;e_(e,"extra",n),e_(e,"tags",r),e_(e,"user",i),e_(e,"contexts",s),e.sdkProcessingMetadata=(0,el.merge)(e.sdkProcessingMetadata,a,2),o&&(e.level=o),d&&(e.transactionName=d),g&&(e.span=g),u.length&&(e.breadcrumbs=[...e.breadcrumbs,...u]),l.length&&(e.fingerprint=[...e.fingerprint,...l]),c.length&&(e.eventProcessors=[...e.eventProcessors,...c]),p.length&&(e.attachments=[...e.attachments,...p]),e.propagationContext={...e.propagationContext,..._}}function e_(e,t,n){e[t]=(0,el.merge)(e[t],n,1)}function ed(e){let s=y.GLOBAL_OBJ._sentryDebugIds,o=y.GLOBAL_OBJ._debugIds;if(!s&&!o)return{};let a=s?Object.keys(s):[],u=o?Object.keys(o):[];if(i&&a.length===n&&u.length===r)return i;n=a.length,r=u.length,i={},t||(t={});let l=(n,r)=>{for(let s of n){let n=r[s],o=t?.[s];if(o&&i&&n)i[o[0]]=n,t&&(t[s]=[o[0],n]);else if(n){let r=e(s);for(let e=r.length-1;e>=0;e--){let o=r[e],a=o?.filename;if(a&&i&&t){i[a]=n,t[s]=[a,n];break}}}}};return s&&l(a,s),o&&l(u,o),i}function eg(e,t){let n=ed(e);if(!n)return[];let r=[];for(let e of t)e&&n[e]&&r.push({type:"sourcemap",code_file:e,debug_id:n[e]});return r}e.s(["applyScopeDataToEvent",()=>ec,"mergeScopeData",()=>ep],85067),e.s(["getDebugImagesForResources",()=>eg,"getFilenameToDebugIdMap",()=>ed],12550);var ef=e.i(5864);function eE(t,n=100,r=Infinity){try{return function t(n,r,i=Infinity,s=Infinity,o=function(){let e=new WeakSet;return[function(t){return!!e.has(t)||(e.add(t),!1)},function(t){e.delete(t)}]}()){let[a,u]=o;if(null==r||["boolean","string"].includes(typeof r)||"number"==typeof r&&Number.isFinite(r))return r;let c=function(t,n){try{var r;let i;if("domain"===t&&n&&"object"==typeof n&&n._events)return"[Domain]";if("domainEmitter"===t)return"[DomainEmitter]";if(n===e.g)return"[Global]";if("undefined"!=typeof document&&n===document)return"[Document]";if((0,l.isVueViewModel)(n))return(0,ef.getVueInternalName)(n);if((0,l.isSyntheticEvent)(n))return"[SyntheticEvent]";if("number"==typeof n&&!Number.isFinite(n))return`[${n}]`;if("function"==typeof n)return`[Function: ${(0,ef.getFunctionName)(n)}]`;if("symbol"==typeof n)return`[${String(n)}]`;if("bigint"==typeof n)return`[BigInt: ${String(n)}]`;let s=(r=n,i=Object.getPrototypeOf(r),i?.constructor?i.constructor.name:"null prototype");if(/^HTML(\w*)Element$/.test(s))return`[HTMLElement: ${s}]`;return`[object ${s}]`}catch(e){return`**non-serializable** (${e})`}}(n,r);if(!c.startsWith("[object "))return c;if(r.__sentry_skip_normalization__)return r;let p="number"==typeof r.__sentry_override_normalization_depth__?r.__sentry_override_normalization_depth__:i;if(0===p)return c.replace("object ","");if(a(r))return"[Circular ~]";if(r&&"function"==typeof r.toJSON)try{let e=r.toJSON();return t("",e,p-1,s,o)}catch{}let _=Array.isArray(r)?[]:{},d=0,g=(0,m.convertToPlainObject)(r);for(let e in g){if(!Object.prototype.hasOwnProperty.call(g,e))continue;if(d>=s){_[e]="[MaxProperties ~]";break}let n=g[e];_[e]=t(e,n,p-1,s,o),d++}return u(r),_}("",t,n,r)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}e.s(["normalize",()=>eE,"normalizeToSize",()=>function e(t,n=3,r=102400){let i=eE(t,n);return~-encodeURI(JSON.stringify(i)).split(/%..|./).length>r?e(t,n-1,r):i}],4075);var eT=e.i(1627);function em(e,t,n,r,i,o){var a,u,l;let g,{normalizeDepth:f=3,normalizeMaxBreadth:E=1e3}=e,T={...t,event_id:t.event_id||n.event_id||(0,c.uuid4)(),timestamp:t.timestamp||(0,U.dateTimestampInSeconds)()},m=n.integrations||e.integrations.map(e=>e.name);(function(e,t){let{environment:n,release:r,dist:i,maxValueLength:s}=t;e.environment=e.environment||n||p.DEFAULT_ENVIRONMENT,!e.release&&r&&(e.release=r),!e.dist&&i&&(e.dist=i);let o=e.request;o?.url&&(o.url=s?(0,eT.truncate)(o.url,s):o.url)})(T,e),a=T,(u=m).length>0&&(a.sdk=a.sdk||{},a.sdk.integrations=[...a.sdk.integrations||[],...u]),i&&i.emit("applyFrameMetadata",t),void 0===t.type&&(l=T,g=ed(e.stackParser),l.exception?.values?.forEach(e=>{e.stacktrace?.frames?.forEach(e=>{e.filename&&(e.debug_id=g[e.filename])})}));let S=function(e,t){if(!t)return e;let n=e?e.clone():new d.Scope;return n.update(t),n}(r,n.captureContext);n.mechanism&&(0,c.addExceptionMechanism)(T,n.mechanism);let h=i?i.getEventProcessors():[],I=(0,s.getGlobalScope)().getScopeData();o&&ep(I,o.getScopeData()),S&&ep(I,S.getScopeData());let A=[...n.attachments||[],...I.attachments];A.length&&(n.attachments=A),ec(T,I);let y=[...h,...I.eventProcessors];return(0,_.notifyEventProcessors)(y,T,n).then(e=>(e&&function(e){let t={};if(e.exception?.values?.forEach(e=>{e.stacktrace?.frames?.forEach(e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)})}),0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];let n=e.debug_meta.images;Object.entries(t).forEach(([e,t])=>{n.push({type:"sourcemap",code_file:e,debug_id:t})})}(e),"number"==typeof f&&f>0)?function(e,t,n){if(!e)return null;let r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(e=>({...e,...e.data&&{data:eE(e.data,t,n)}}))},...e.user&&{user:eE(e.user,t,n)},...e.contexts&&{contexts:eE(e.contexts,t,n)},...e.extra&&{extra:eE(e.extra,t,n)}};return e.contexts?.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=eE(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(e=>({...e,...e.data&&{data:eE(e.data,t,n)}}))),e.contexts?.flags&&r.contexts&&(r.contexts.flags=eE(e.contexts.flags,3,n)),r}(e,f,E):e)}function eS(e){if(e){var t;return(t=e)instanceof d.Scope||"function"==typeof t||Object.keys(e).some(e=>eh.includes(e))?{captureContext:e}:e}}let eh=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function eI(e,t){return(0,s.getCurrentScope)().captureException(e,eS(t))}function eA(e,t){let n="string"==typeof t?t:void 0,r="string"!=typeof t?{captureContext:t}:void 0;return(0,s.getCurrentScope)().captureMessage(e,n,r)}function ey(e,t){return(0,s.getCurrentScope)().captureEvent(e,t)}function eb(e,t){(0,s.getIsolationScope)().setContext(e,t)}function eN(e){(0,s.getIsolationScope)().setExtras(e)}function eR(e,t){(0,s.getIsolationScope)().setExtra(e,t)}function ev(e){(0,s.getIsolationScope)().setTags(e)}function eO(e,t){(0,s.getIsolationScope)().setTag(e,t)}function eU(e){(0,s.getIsolationScope)().setUser(e)}function eC(){return(0,s.getIsolationScope)().lastEventId()}function eB(e,t){let n=(0,s.getCurrentScope)(),r=(0,s.getClient)();if(r)if(r.captureCheckIn)return r.captureCheckIn(e,t,n);else o.DEBUG_BUILD&&u.debug.warn("Cannot capture check-in. Client does not support sending check-ins.");else o.DEBUG_BUILD&&u.debug.warn("Cannot capture check-in. No client defined.");return(0,c.uuid4)()}function ex(e,t,n){let r=eB({monitorSlug:e,status:"in_progress"},n),i=(0,U.timestampInSeconds)();function o(t){eB({monitorSlug:e,status:t,checkInId:r,duration:(0,U.timestampInSeconds)()-i})}return(0,s.withIsolationScope)(()=>{let e;try{e=t()}catch(e){throw o("error"),e}return(0,l.isThenable)(e)?e.then(e=>(o("ok"),e),e=>{throw o("error"),e}):(o("ok"),e)})}async function ek(e){let t=(0,s.getClient)();return t?t.flush(e):(o.DEBUG_BUILD&&u.debug.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}async function eD(e){let t=(0,s.getClient)();return t?t.close(e):(o.DEBUG_BUILD&&u.debug.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function eP(){return!!(0,s.getClient)()}function eM(){let e=(0,s.getClient)();return e?.getOptions().enabled!==!1&&!!e?.getTransport()}function eL(e){(0,s.getIsolationScope)().addEventProcessor(e)}function eG(e){let t=(0,s.getIsolationScope)(),n=(0,s.getCurrentScope)(),{userAgent:r}=y.GLOBAL_OBJ.navigator||{},i=(0,a.makeSession)({user:n.getUser()||t.getUser(),...r&&{userAgent:r},...e}),o=t.getSession();return o?.status==="ok"&&(0,a.updateSession)(o,{status:"exited"}),ew(),t.setSession(i),i}function ew(){let e=(0,s.getIsolationScope)(),t=(0,s.getCurrentScope)().getSession()||e.getSession();t&&(0,a.closeSession)(t),e$(),e.setSession()}function e$(){let e=(0,s.getIsolationScope)(),t=(0,s.getClient)(),n=e.getSession();n&&t&&t.captureSession(n)}function ej(e=!1){e?ew():e$()}e.s(["parseEventHintOrCaptureContext",()=>eS,"prepareEvent",()=>em],23550),e.s(["addEventProcessor",()=>eL,"captureCheckIn",()=>eB,"captureEvent",()=>ey,"captureException",()=>eI,"captureMessage",()=>eA,"captureSession",()=>ej,"close",()=>eD,"endSession",()=>ew,"flush",()=>ek,"isEnabled",()=>eM,"isInitialized",()=>eP,"lastEventId",()=>eC,"setContext",()=>eb,"setExtra",()=>eR,"setExtras",()=>eN,"setTag",()=>eO,"setTags",()=>ev,"setUser",()=>eU,"startSession",()=>eG,"withMonitor",()=>ex],3110)},83352,e=>{"use strict";var t=e.i(71339),n=e.i(11925),r=e.i(21171);function i(e,i){let s=(0,t.getClient)(),o=(0,t.getIsolationScope)();if(!s)return;let{beforeBreadcrumb:a=null,maxBreadcrumbs:u=100}=s.getOptions();if(u<=0)return;let l={timestamp:(0,r.dateTimestampInSeconds)(),...e},c=a?(0,n.consoleSandbox)(()=>a(l,i)):l;null!==c&&(s.emit&&s.emit("beforeAddBreadcrumb",c,i),o.addBreadcrumb(c,u))}e.s(["addBreadcrumb",()=>i])},38045,49546,97843,e=>{"use strict";var t=e.i(11925),n=e.i(72259),r=e.i(31704),i=e.i(5537),s=e.i(5864);let o={},a={};function u(e,t){o[e]=o[e]||[],o[e].push(t)}function l(e,n){if(!a[e]){a[e]=!0;try{n()}catch(n){i.DEBUG_BUILD&&t.debug.error(`Error while instrumenting ${e}`,n)}}}function c(e,n){let r=e&&o[e];if(r)for(let o of r)try{o(n)}catch(n){i.DEBUG_BUILD&&t.debug.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${(0,s.getFunctionName)(o)}
Error:`,n)}}function p(e){let t="console";u(t,e),l(t,_)}function _(){"console"in r.GLOBAL_OBJ&&t.CONSOLE_LEVELS.forEach(function(e){e in r.GLOBAL_OBJ.console&&(0,n.fill)(r.GLOBAL_OBJ.console,e,function(n){return t.originalConsoleMethods[e]=n,function(...n){c("console",{args:n,level:e});let i=t.originalConsoleMethods[e];i?.apply(r.GLOBAL_OBJ.console,n)}})})}function d(e){return"warn"===e?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}e.s(["addHandler",()=>u,"maybeInstrument",()=>l,"triggerHandlers",()=>c],49546),e.s(["addConsoleInstrumentationHandler",()=>p],38045),e.s(["severityLevelFromString",()=>d],97843)},75659,e=>{"use strict";var t=e.i(71339),n=e.i(3110),r=e.i(38045),i=e.i(3818),s=e.i(11925),o=e.i(89058),a=e.i(97843),u=e.i(1627),l=e.i(31704);let c=(0,i.defineIntegration)((e={})=>{let i=e.levels||s.CONSOLE_LEVELS,c=e.handled??!0;return{name:"CaptureConsole",setup(e){"console"in l.GLOBAL_OBJ&&(0,r.addConsoleInstrumentationHandler)(({args:r,level:s})=>{var l,p,_;let d,g,f;(0,t.getClient)()===e&&i.includes(s)&&(l=r,p=s,_=c,d=(0,a.severityLevelFromString)(p),g=Error(),f={level:(0,a.severityLevelFromString)(p),extra:{arguments:l}},(0,t.withScope)(e=>{if(e.addEventProcessor(e=>(e.logger="console",(0,o.addExceptionMechanism)(e,{handled:_,type:"auto.core.capture_console"}),e)),"assert"===p){if(!l[0]){let t=`Assertion failed: ${(0,u.safeJoin)(l.slice(1)," ")||"console.assert"}`;e.setExtra("arguments",l.slice(1)),e.captureMessage(t,d,{captureContext:f,syntheticException:g})}return}let t=l.find(e=>e instanceof Error);if(t)return void(0,n.captureException)(t,f);let r=(0,u.safeJoin)(l," ");e.captureMessage(r,d,{captureContext:f,syntheticException:g})}))})}}});e.s(["captureConsoleIntegration",()=>c])},72168,38458,e=>{"use strict";var t=e.i(71339),n=e.i(87211),r=e.i(17783);function i(e,i){return i?(0,t.withScope)(i,()=>{let s=(0,r.getActiveSpan)(),o=s?(0,r.spanToTraceContext)(s):(0,t.getTraceContextFromScope)(i);return[s?(0,n.getDynamicSamplingContextFromSpan)(s):(0,n.getDynamicSamplingContextFromScope)(e,i),o]}):[void 0,void 0]}e.s(["_getTraceInfoFromScope",()=>i],72168);let s={trace:1,debug:5,info:9,warn:13,error:17,fatal:21};e.s(["SEVERITY_TEXT_TO_SEVERITY_NUMBER",()=>s],38458)},84004,e=>{"use strict";var t=e.i(34923),n=e.i(88919),r=e.i(4075),i=e.i(31704);function s(e,t=[]){return[e,t]}function o(e,t){let[n,r]=e;return[n,[...r,t]]}function a(e,t){for(let n of e[1]){let e=n[0].type;if(t(n,e))return!0}return!1}function u(e,t){return a(e,(e,n)=>t.includes(n))}function l(e){let n=(0,t.getSentryCarrier)(i.GLOBAL_OBJ);return n.encodePolyfill?n.encodePolyfill(e):new TextEncoder().encode(e)}function c(e){let[t,n]=e,i=JSON.stringify(t);function s(e){"string"==typeof i?i="string"==typeof e?i+e:[l(i),e]:i.push("string"==typeof e?l(e):e)}for(let e of n){let[t,n]=e;if(s(`
${JSON.stringify(t)}
`),"string"==typeof n||n instanceof Uint8Array)s(n);else{let e;try{e=JSON.stringify(n)}catch{e=JSON.stringify((0,r.normalize)(n))}s(e)}}return"string"==typeof i?i:function(e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),n=0;for(let r of e)t.set(r,n),n+=r.length;return t}(i)}function p(e){let n="string"==typeof e?l(e):e;function r(e){let t=n.subarray(0,e);return n=n.subarray(e+1),t}function s(){var e;let s,o=n.indexOf(10);return o<0&&(o=n.length),JSON.parse((e=r(o),(s=(0,t.getSentryCarrier)(i.GLOBAL_OBJ)).decodePolyfill?s.decodePolyfill(e):new TextDecoder().decode(e)))}let o=s(),a=[];for(;n.length;){let e=s(),t="number"==typeof e.length?e.length:void 0;a.push([e,t?r(t):s()])}return[o,a]}function _(e){return[{type:"span"},e]}function d(e){let t="string"==typeof e.data?l(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}let g={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item",metric:"metric",trace_metric:"metric"};function f(e){return g[e]}function E(e){if(!e?.sdk)return;let{name:t,version:n}=e.sdk;return{name:t,version:n}}function T(e,t,r,i){let s=e.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!r&&i&&{dsn:(0,n.dsnToString)(i)},...s&&{trace:s}}}e.s(["addItemToEnvelope",()=>o,"createAttachmentEnvelopeItem",()=>d,"createEnvelope",()=>s,"createEventEnvelopeHeaders",()=>T,"createSpanEnvelopeItem",()=>_,"envelopeContainsItemType",()=>u,"envelopeItemTypeToDataCategory",()=>f,"forEachEnvelopeItem",()=>a,"getSdkMetadataForEnvelopeHeader",()=>E,"parseEnvelope",()=>p,"serializeEnvelope",()=>c])},12778,e=>{"use strict";var t=e.i(34923),n=e.i(71339),r=e.i(5537),i=e.i(85067),s=e.i(11925),o=e.i(37364),a=e.i(75509),u=e.i(21171),l=e.i(72168),c=e.i(38458),p=e.i(88919),_=e.i(84004);function d(e,t,n,r=!0){n&&(!e[t]||r)&&(e[t]=n)}function g(e,t){var n;let r=T(),i=(n=e,T().get(n));void 0===i?r.set(e,[t]):i.length>=100?(E(e,i),r.set(e,[t])):r.set(e,[...i,t])}function f(e,t=(0,n.getCurrentScope)(),p=g){var _;let E,T=t?.getClient()??(0,n.getClient)();if(!T){r.DEBUG_BUILD&&s.debug.warn("No client available to capture log.");return}let{release:m,environment:S,enableLogs:h=!1,beforeSendLog:I}=T.getOptions();if(!h){r.DEBUG_BUILD&&s.debug.warn("logging option not enabled, log will not be captured.");return}let[,A]=(0,l._getTraceInfoFromScope)(T,t),y={...e.attributes},{user:{id:b,email:N,username:R}}=(_=t,E=(0,n.getGlobalScope)().getScopeData(),(0,i.mergeScopeData)(E,(0,n.getIsolationScope)().getScopeData()),(0,i.mergeScopeData)(E,_.getScopeData()),E);d(y,"user.id",b,!1),d(y,"user.email",N,!1),d(y,"user.name",R,!1),d(y,"sentry.release",m),d(y,"sentry.environment",S);let{name:v,version:O}=T.getSdkMetadata()?.sdk??{};d(y,"sentry.sdk.name",v),d(y,"sentry.sdk.version",O);let U=T.getIntegrationByName("Replay"),C=U?.getReplayId(!0);d(y,"sentry.replay_id",C),C&&U?.getRecordingMode()==="buffer"&&d(y,"sentry._internal.replay_is_buffering",!0);let B=e.message;if((0,o.isParameterizedString)(B)){let{__sentry_template_string__:e,__sentry_template_values__:t=[]}=B;t?.length&&(y["sentry.message.template"]=e),t.forEach((e,t)=>{y[`sentry.message.parameter.${t}`]=e})}let x=(0,a._getSpanForScope)(t);d(y,"sentry.trace.parent_span_id",x?.spanContext().spanId);let k={...e,attributes:y};T.emit("beforeCaptureLog",k);let D=I?(0,s.consoleSandbox)(()=>I(k)):k;if(!D){T.recordDroppedEvent("before_send","log_item",1),r.DEBUG_BUILD&&s.debug.warn("beforeSendLog returned null, log will not be captured.");return}let{level:P,message:M,attributes:L={},severityNumber:G}=D;p(T,{timestamp:(0,u.timestampInSeconds)(),level:P,body:M,trace_id:A?.trace_id,severity_number:G??c.SEVERITY_TEXT_TO_SEVERITY_NUMBER[P],attributes:Object.keys(L).reduce((e,t)=>(e[t]=function(e){switch(typeof e){case"number":if(Number.isInteger(e))return{value:e,type:"integer"};return{value:e,type:"double"};case"boolean":return{value:e,type:"boolean"};case"string":return{value:e,type:"string"};default:{let t="";try{t=JSON.stringify(e)??""}catch{}return{value:t,type:"string"}}}}(L[t]),e),{})}),T.emit("afterCaptureLog",D)}function E(e,t){var n,r,i,s;let o,a=t??(s=e,T().get(s))??[];if(0===a.length)return;let u=e.getOptions(),l=(n=u._metadata,r=u.tunnel,i=e.getDsn(),o={},n?.sdk&&(o.sdk={name:n.sdk.name,version:n.sdk.version}),r&&i&&(o.dsn=(0,p.dsnToString)(i)),(0,_.createEnvelope)(o,[[{type:"log",item_count:a.length,content_type:"application/vnd.sentry.items.log+json"},{items:a}]]));T().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(l)}function T(){return(0,t.getGlobalSingleton)("clientToLogBufferMap",()=>new WeakMap)}e.s(["_INTERNAL_captureLog",()=>f,"_INTERNAL_flushLogsBuffer",()=>E],12778)},47013,45179,e=>{"use strict";var t=e.i(71339),n=e.i(5537),r=e.i(38045),i=e.i(3818),s=e.i(38150),o=e.i(11925),a=e.i(12778),u=e.i(37364),l=e.i(4075),c=e.i(31704);function p(e,t,n){var r,i,s;return"util"in c.GLOBAL_OBJ&&"function"==typeof c.GLOBAL_OBJ.util.format?c.GLOBAL_OBJ.util.format(...e):(r=e,i=t,s=n,r.map(e=>(0,u.isPrimitive)(e)?String(e):JSON.stringify((0,l.normalize)(e,i,s))).join(" "))}function _(e){return/%[sdifocO]/.test(e)}function d(e,t){let n={},r=Array(t.length).fill("{}").join(" ");return n["sentry.message.template"]=`${e} ${r}`,t.forEach((e,t)=>{n[`sentry.message.parameter.${t}`]=e}),n}e.s(["createConsoleTemplateAttributes",()=>d,"formatConsoleArgs",()=>p,"hasConsoleSubstitutions",()=>_],45179);let g={[s.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.log.console"},f=(0,i.defineIntegration)((e={})=>{let i=e.levels||o.CONSOLE_LEVELS;return{name:"ConsoleLogs",setup(e){let{enableLogs:s,normalizeDepth:u=3,normalizeMaxBreadth:l=1e3}=e.getOptions();if(!s){n.DEBUG_BUILD&&o.debug.warn("`enableLogs` is not enabled, ConsoleLogs integration disabled");return}(0,r.addConsoleInstrumentationHandler)(({args:n,level:r})=>{if((0,t.getClient)()!==e||!i.includes(r))return;let s=n[0],o=n.slice(1);if("assert"===r){if(!s){let e=o.length>0?`Assertion failed: ${p(o,u,l)}`:"Assertion failed";(0,a._INTERNAL_captureLog)({level:"error",message:e,attributes:g})}return}let c="log"===r,f=n.length>1&&"string"==typeof n[0]&&!_(n[0]),E={...g,...f?d(s,o):{}};(0,a._INTERNAL_captureLog)({level:c?"info":r,message:p(n,u,l),severityNumber:c?10:void 0,attributes:E})})}}});e.s(["consoleLoggingIntegration",()=>f],47013)},92617,e=>{"use strict";var t=e.i(37364);function n(e,r,i=()=>{},s=()=>{}){var o,a,u,l;let c;try{c=e()}catch(e){throw r(e),i(),e}return o=c,a=r,u=i,l=s,(0,t.isThenable)(o)?o.then(e=>(u(),l(e),e),e=>{throw a(e),u(),e}):(u(),l(o),o)}e.s(["handleCallbackErrors",()=>n])},19161,92621,25716,e=>{"use strict";var t=e.i(5537),n=e.i(11925),r=e.i(17783);function i(e){if(!t.DEBUG_BUILD)return;let{description:i="< unknown name >",op:s="< unknown op >",parent_span_id:o}=(0,r.spanToJSON)(e),{spanId:a}=e.spanContext(),u=(0,r.spanIsSampled)(e),l=(0,r.getRootSpan)(e),c=l===e,p=`[Tracing] Starting ${u?"sampled":"unsampled"} ${c?"root ":""}span`,_=[`op: ${s}`,`name: ${i}`,`ID: ${a}`];if(o&&_.push(`parent ID: ${o}`),!c){let{op:e,description:t}=(0,r.spanToJSON)(l);_.push(`root ID: ${l.spanContext().spanId}`),e&&_.push(`root op: ${e}`),t&&_.push(`root description: ${t}`)}n.debug.log(`${p}
  ${_.join("\n  ")}`)}function s(e){if(!t.DEBUG_BUILD)return;let{description:i="< unknown name >",op:s="< unknown op >"}=(0,r.spanToJSON)(e),{spanId:o}=e.spanContext(),a=(0,r.getRootSpan)(e)===e,u=`[Tracing] Finishing "${s}" ${a?"root ":""}span "${i}" with ID ${o}`;n.debug.log(u)}e.s(["logSpanEnd",()=>s,"logSpanStart",()=>i],19161);var o=e.i(95861),a=e.i(89322);function u(e,r,i){let s,u;if(!(0,o.hasSpansEnabled)(e))return[!1];"function"==typeof e.tracesSampler?(s=e.tracesSampler({...r,inheritOrSampleWith:e=>"number"==typeof r.parentSampleRate?r.parentSampleRate:"boolean"==typeof r.parentSampled?Number(r.parentSampled):e}),u=!0):void 0!==r.parentSampled?s=r.parentSampled:void 0!==e.tracesSampleRate&&(s=e.tracesSampleRate,u=!0);let l=(0,a.parseSampleRate)(s);if(void 0===l)return t.DEBUG_BUILD&&n.debug.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(s)} of type ${JSON.stringify(typeof s)}.`),[!1];if(!l)return t.DEBUG_BUILD&&n.debug.log(`[Tracing] Discarding transaction because ${"function"==typeof e.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,l,u];let c=i<l;return!c&&t.DEBUG_BUILD&&n.debug.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(s)})`),[c,l,u]}e.s(["sampleSpan",()=>u],92621);var l=e.i(62557);class c{constructor(e={}){this._traceId=e.traceId||(0,l.generateTraceId)(),this._spanId=e.spanId||(0,l.generateSpanId)()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:r.TRACE_FLAG_NONE}}end(e){}setAttribute(e,t){return this}setAttributes(e){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}addEvent(e,t,n){return this}addLink(e){return this}addLinks(e){return this}recordException(e,t){}}e.s(["SentryNonRecordingSpan",()=>c],25716)},58919,72016,e=>{"use strict";var t=e.i(87211),n=e.i(88919),r=e.i(84004),i=e.i(5537),s=e.i(11925),o=e.i(1627);function a(e){s.debug.log(`Ignoring span ${e.op} - ${e.description} because it matches \`ignoreSpans\`.`)}function u(e,t){if(!t?.length||!e.description)return!1;for(let r of t){var n;if("string"==typeof(n=r)||n instanceof RegExp){if((0,o.isMatchingPattern)(e.description,r))return i.DEBUG_BUILD&&a(e),!0;continue}if(!r.name&&!r.op)continue;let t=!r.name||(0,o.isMatchingPattern)(e.description,r.name),s=!r.op||e.op&&(0,o.isMatchingPattern)(e.op,r.op);if(t&&s)return i.DEBUG_BUILD&&a(e),!0}return!1}function l(e,t){let n=t.parent_span_id,r=t.span_id;if(n)for(let t of e)t.parent_span_id===r&&(t.parent_span_id=n)}e.s(["reparentChildSpans",()=>l,"shouldIgnoreSpan",()=>u],72016);var c=e.i(17783);function p(e,t,i,s){let o=(0,r.getSdkMetadataForEnvelopeHeader)(i),a={sent_at:new Date().toISOString(),...o&&{sdk:o},...!!s&&t&&{dsn:(0,n.dsnToString)(t)}},u="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return(0,r.createEnvelope)(a,[u])}function _(e,t,n,i){let s=(0,r.getSdkMetadataForEnvelopeHeader)(n),o=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){if(!t)return;let n=e.sdk||{};e.sdk={...n,name:n.name||t.name,version:n.version||t.version,integrations:[...e.sdk?.integrations||[],...t.integrations||[]],packages:[...e.sdk?.packages||[],...t.packages||[]],settings:e.sdk?.settings||t.settings?{...e.sdk?.settings,...t.settings}:void 0}}(e,n?.sdk);let a=(0,r.createEventEnvelopeHeaders)(e,s,i,t);delete e.sdkProcessingMetadata;let u=[{type:o},e];return(0,r.createEnvelope)(a,[u])}function d(e,i){let s=(0,t.getDynamicSamplingContextFromSpan)(e[0]),o=i?.getDsn(),a=i?.getOptions().tunnel,l={sent_at:new Date().toISOString(),...!!s.trace_id&&!!s.public_key&&{trace:s},...!!a&&o&&{dsn:(0,n.dsnToString)(o)}},{beforeSendSpan:p,ignoreSpans:_}=i?.getOptions()||{},d=_?.length?e.filter(e=>!u((0,c.spanToJSON)(e),_)):e,g=e.length-d.length;g&&i?.recordDroppedEvent("before_send","span",g);let f=p?e=>{let t=(0,c.spanToJSON)(e),n=p(t);return n||((0,c.showSpanDropWarning)(),t)}:c.spanToJSON,E=[];for(let e of d){let t=f(e);t&&E.push((0,r.createSpanEnvelopeItem)(t))}return(0,r.createEnvelope)(l,E)}e.s(["createEventEnvelope",()=>_,"createSessionEnvelope",()=>p,"createSpanEnvelope",()=>d],58919)},73755,e=>{"use strict";var t=e.i(5537),n=e.i(38150),r=e.i(11925),i=e.i(17783);function s(e,o,a,u=(0,i.getActiveSpan)()){let l=u&&(0,i.getRootSpan)(u);l&&(t.DEBUG_BUILD&&r.debug.log(`[Measurement] Setting measurement on root span: ${e} = ${o} ${a}`),l.addEvent(e,{[n.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE]:o,[n.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT]:a}))}function o(e){if(!e||0===e.length)return;let t={};return e.forEach(e=>{let r=e.attributes||{},i=r[n.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT],s=r[n.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE];"string"==typeof i&&"number"==typeof s&&(t[e.name]={value:s,unit:i})}),t}e.s(["setMeasurement",()=>s,"timedEventsToMeasurements",()=>o])},18229,41046,e=>{"use strict";var t=e.i(15625),n=e.i(34923),r=e.i(71339),i=e.i(5537),s=e.i(38150),o=e.i(66419),a=e.i(11925),u=e.i(92617),l=e.i(95861),c=e.i(89322),p=e.i(62557),_=e.i(75509),d=e.i(17783),g=e.i(39213),f=e.i(87211),E=e.i(19161),T=e.i(92621),m=e.i(25716),S=e.i(58919),h=e.i(21171),I=e.i(73755),A=e.i(65957);class y{constructor(e={}){this._traceId=e.traceId||(0,p.generateTraceId)(),this._spanId=e.spanId||(0,p.generateSpanId)(),this._startTime=e.startTimestamp||(0,h.timestampInSeconds)(),this._links=e.links,this._attributes={},this.setAttributes({[s.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"manual",[s.SEMANTIC_ATTRIBUTE_SENTRY_OP]:e.op,...e.attributes}),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()}addLink(e){return this._links?this._links.push(e):this._links=[e],this}addLinks(e){return this._links?this._links.push(...e):this._links=e,this}recordException(e,t){}spanContext(){let{_spanId:e,_traceId:t,_sampled:n}=this;return{spanId:e,traceId:t,traceFlags:n?d.TRACE_FLAG_SAMPLED:d.TRACE_FLAG_NONE}}setAttribute(e,t){return void 0===t?delete this._attributes[e]:this._attributes[e]=t,this}setAttributes(e){return Object.keys(e).forEach(t=>this.setAttribute(t,e[t])),this}updateStartTime(e){this._startTime=(0,d.spanTimeInputToSeconds)(e)}setStatus(e){return this._status=e,this}updateName(e){return this._name=e,this.setAttribute(s.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,"custom"),this}end(e){this._endTime||(this._endTime=(0,d.spanTimeInputToSeconds)(e),(0,E.logSpanEnd)(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[s.SEMANTIC_ATTRIBUTE_SENTRY_OP],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:(0,d.getStatusMessage)(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[s.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN],profile_id:this._attributes[s.SEMANTIC_ATTRIBUTE_PROFILE_ID],exclusive_time:this._attributes[s.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME],measurements:(0,I.timedEventsToMeasurements)(this._events),is_segment:this._isStandaloneSpan&&(0,d.getRootSpan)(this)===this||void 0,segment_id:this._isStandaloneSpan?(0,d.getRootSpan)(this).spanContext().spanId:void 0,links:(0,d.convertSpanLinksForEnvelope)(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(e,t,n){i.DEBUG_BUILD&&a.debug.log("[Tracing] Adding an event to span:",e);let r=b(t)?t:n||(0,h.timestampInSeconds)(),s=b(t)?{}:t||{},o={name:e,time:(0,d.spanTimeInputToSeconds)(r),attributes:s};return this._events.push(o),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){let e=(0,r.getClient)();if(e&&e.emit("spanEnd",this),!(this._isStandaloneSpan||this===(0,d.getRootSpan)(this)))return;if(this._isStandaloneSpan)return void(this._sampled?function(e){let t=(0,r.getClient)();if(!t)return;let n=e[1];n&&0!==n.length?t.sendEnvelope(e):t.recordDroppedEvent("before_send","span")}((0,S.createSpanEnvelope)([this],e)):(i.DEBUG_BUILD&&a.debug.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span")));let t=this._convertSpanToTransaction();t&&((0,A.getCapturedScopesOnSpan)(this).scope||(0,r.getCurrentScope)()).captureEvent(t)}_convertSpanToTransaction(){if(!N((0,d.spanToJSON)(this)))return;this._name||(i.DEBUG_BUILD&&a.debug.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");let{scope:e,isolationScope:t}=(0,A.getCapturedScopesOnSpan)(this),n=e?.getScopeData().sdkProcessingMetadata?.normalizedRequest;if(!0!==this._sampled)return;let r=(0,d.getSpanDescendants)(this).filter(e=>{var t;return e!==this&&!((t=e)instanceof y&&t.isStandaloneSpan())}).map(e=>(0,d.spanToJSON)(e)).filter(N),o=this._attributes[s.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE];delete this._attributes[s.SEMANTIC_ATTRIBUTE_SENTRY_CUSTOM_SPAN_NAME],r.forEach(e=>{delete e.data[s.SEMANTIC_ATTRIBUTE_SENTRY_CUSTOM_SPAN_NAME]});let u={contexts:{trace:(0,d.spanToTransactionTraceContext)(this)},spans:r.length>1e3?r.sort((e,t)=>e.start_timestamp-t.start_timestamp).slice(0,1e3):r,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:e,capturedSpanIsolationScope:t,dynamicSamplingContext:(0,f.getDynamicSamplingContextFromSpan)(this)},request:n,...o&&{transaction_info:{source:o}}},l=(0,I.timedEventsToMeasurements)(this._events);return l&&Object.keys(l).length&&(i.DEBUG_BUILD&&a.debug.log("[Measurements] Adding measurements to transaction event",JSON.stringify(l,void 0,2)),u.measurements=l),u}}function b(e){return e&&"number"==typeof e||e instanceof Date||Array.isArray(e)}function N(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}e.s(["SentrySpan",()=>y],41046);var R=e.i(98942);let v="__SENTRY_SUPPRESS_TRACING__";function O(e,t){let n=L();if(n.startSpan)return n.startSpan(e,t);let i=M(e),{forceTransaction:s,parentSpan:o,scope:a}=e,l=a?.clone();return(0,r.withScope)(l,()=>$(o)(()=>{let n=(0,r.getCurrentScope)(),a=w(n,o),l=e.onlyIfParent&&!a?new m.SentryNonRecordingSpan:P({parentSpan:a,spanArguments:i,forceTransaction:s,scope:n});return(0,_._setSpanForScope)(n,l),(0,u.handleCallbackErrors)(()=>t(l),()=>{let{status:e}=(0,d.spanToJSON)(l);l.isRecording()&&(!e||"ok"===e)&&l.setStatus({code:R.SPAN_STATUS_ERROR,message:"internal_error"})},()=>{l.end()})}))}function U(e,t){let n=L();if(n.startSpanManual)return n.startSpanManual(e,t);let i=M(e),{forceTransaction:s,parentSpan:o,scope:a}=e,l=a?.clone();return(0,r.withScope)(l,()=>$(o)(()=>{let n=(0,r.getCurrentScope)(),a=w(n,o),l=e.onlyIfParent&&!a?new m.SentryNonRecordingSpan:P({parentSpan:a,spanArguments:i,forceTransaction:s,scope:n});return(0,_._setSpanForScope)(n,l),(0,u.handleCallbackErrors)(()=>t(l,()=>l.end()),()=>{let{status:e}=(0,d.spanToJSON)(l);l.isRecording()&&(!e||"ok"===e)&&l.setStatus({code:R.SPAN_STATUS_ERROR,message:"internal_error"})})}))}function C(e){let t=L();if(t.startInactiveSpan)return t.startInactiveSpan(e);let n=M(e),{forceTransaction:i,parentSpan:s}=e;return(e.scope?t=>(0,r.withScope)(e.scope,t):void 0!==s?e=>x(s,e):e=>e())(()=>{let t=(0,r.getCurrentScope)(),o=w(t,s);return e.onlyIfParent&&!o?new m.SentryNonRecordingSpan:P({parentSpan:o,spanArguments:n,forceTransaction:i,scope:t})})}let B=(e,i)=>{let s=(0,n.getMainCarrier)(),a=(0,t.getAsyncContextStrategy)(s);if(a.continueTrace)return a.continueTrace(e,i);let{sentryTrace:u,baggage:l}=e,c=(0,r.getClient)(),p=(0,o.baggageHeaderToDynamicSamplingContext)(l);return c&&!(0,g.shouldContinueTrace)(c,p?.org_id)?D(i):(0,r.withScope)(e=>{let t=(0,g.propagationContextFromHeaders)(u,l);return e.setPropagationContext(t),i()})};function x(e,t){let n=L();return n.withActiveSpan?n.withActiveSpan(e,t):(0,r.withScope)(n=>((0,_._setSpanForScope)(n,e||void 0),t(n)))}function k(e){let t=L();return t.suppressTracing?t.suppressTracing(e):(0,r.withScope)(t=>{t.setSDKProcessingMetadata({[v]:!0});let n=e();return t.setSDKProcessingMetadata({[v]:void 0}),n})}function D(e){return(0,r.withScope)(t=>(t.setPropagationContext({traceId:(0,p.generateTraceId)(),sampleRand:Math.random()}),i.DEBUG_BUILD&&a.debug.log(`Starting a new trace with id ${t.getPropagationContext().traceId}`),x(null,e)))}function P({parentSpan:e,spanArguments:t,forceTransaction:n,scope:i}){let s;if(!(0,l.hasSpansEnabled)()){let r=new m.SentryNonRecordingSpan;if(n||!e){let e={sampled:"false",sample_rate:"0",transaction:t.name,...(0,f.getDynamicSamplingContextFromSpan)(r)};(0,f.freezeDscOnSpan)(r,e)}return r}let o=(0,r.getIsolationScope)();if(e&&!n)s=function(e,t,n){let{spanId:i,traceId:s}=e.spanContext(),o=!t.getScopeData().sdkProcessingMetadata[v]&&(0,d.spanIsSampled)(e),a=o?new y({...n,parentSpanId:i,traceId:s,sampled:o}):new m.SentryNonRecordingSpan({traceId:s});(0,d.addChildSpanToSpan)(e,a);let u=(0,r.getClient)();return u&&(u.emit("spanStart",a),n.endTimestamp&&u.emit("spanEnd",a)),a}(e,i,t),(0,d.addChildSpanToSpan)(e,s);else if(e){let n=(0,f.getDynamicSamplingContextFromSpan)(e),{traceId:r,spanId:o}=e.spanContext(),a=(0,d.spanIsSampled)(e);s=G({traceId:r,parentSpanId:o,...t},i,a),(0,f.freezeDscOnSpan)(s,n)}else{let{traceId:e,dsc:n,parentSpanId:r,sampled:a}={...o.getPropagationContext(),...i.getPropagationContext()};s=G({traceId:e,parentSpanId:r,...t},i,a),n&&(0,f.freezeDscOnSpan)(s,n)}return(0,E.logSpanStart)(s),(0,A.setCapturedScopesOnSpan)(s,i,o),s}function M(e){let t={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){let n={...t};return n.startTimestamp=(0,d.spanTimeInputToSeconds)(e.startTime),delete n.startTime,n}return t}function L(){let e=(0,n.getMainCarrier)();return(0,t.getAsyncContextStrategy)(e)}function G(e,t,n){let o=(0,r.getClient)(),u=o?.getOptions()||{},{name:l=""}=e,p={spanAttributes:{...e.attributes},spanName:l,parentSampled:n};o?.emit("beforeSampling",p,{decision:!1});let _=p.parentSampled??n,d=p.spanAttributes,g=t.getPropagationContext(),[f,E,m]=t.getScopeData().sdkProcessingMetadata[v]?[!1]:(0,T.sampleSpan)(u,{name:l,parentSampled:_,attributes:d,parentSampleRate:(0,c.parseSampleRate)(g.dsc?.sample_rate)},g.sampleRand),S=new y({...e,attributes:{[s.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:"custom",[s.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE]:void 0!==E&&m?E:void 0,...d},sampled:f});return!f&&o&&(i.DEBUG_BUILD&&a.debug.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),o.recordDroppedEvent("sample_rate","transaction")),o&&o.emit("spanStart",S),S}function w(e,t){if(t)return t;if(null===t)return;let n=(0,_._getSpanForScope)(e);if(!n)return;let i=(0,r.getClient)();return(i?i.getOptions():{}).parentSpanIsAlwaysRootSpan?(0,d.getRootSpan)(n):n}function $(e){return void 0!==e?t=>x(e,t):e=>e()}e.s(["continueTrace",()=>B,"startInactiveSpan",()=>C,"startNewTrace",()=>D,"startSpan",()=>O,"startSpanManual",()=>U,"suppressTracing",()=>k,"withActiveSpan",()=>x],18229)},54207,e=>{"use strict";var t=e.i(71339),n=e.i(12778),r=e.i(45179);let i=["trace","debug","info","warn","error","fatal"];function s(e={}){let u=new Set(e.levels??i),l=e.client;return{log(e){let{type:i,level:s,message:c,args:p,tag:_,date:d,...g}=e,f=l||(0,t.getClient)();if(!f)return;let E=function(e,t){if("verbose"===e)return"debug";if("silent"===e)return"trace";if(e){let t=o[e];if(t)return t}if("number"==typeof t){let e=a[t];if(e)return e}return"info"}(i,s);if(!u.has(E))return;let{normalizeDepth:T=3,normalizeMaxBreadth:m=1e3}=f.getOptions(),S=[];c&&S.push(c),p&&p.length>0&&S.push((0,r.formatConsoleArgs)(p,T,m));let h=S.join(" ");g["sentry.origin"]="auto.log.consola",_&&(g["consola.tag"]=_),i&&(g["consola.type"]=i),null!=s&&"number"==typeof s&&(g["consola.level"]=s),(0,n._INTERNAL_captureLog)({level:E,message:h,attributes:g})}}}let o={silent:"trace",fatal:"fatal",error:"error",warn:"warn",log:"info",info:"info",success:"info",fail:"error",ready:"info",start:"info",box:"info",debug:"debug",trace:"trace",verbose:"debug",critical:"fatal",notice:"info"},a={0:"fatal",1:"warn",2:"info",3:"info",4:"debug",5:"trace"};e.s(["createConsolaReporter",()=>s])},93986,634,61765,e=>{"use strict";var t=e.i(5537),n=e.i(11925),r=e.i(84004),i=e.i(39983);let s=Symbol.for("SentryBufferFullError");function o(e=100){let t=new Set;return{get $(){return Array.from(t)},add:function(n){if(!(t.size<e))return(0,i.rejectedSyncPromise)(s);let r=n();return t.add(r),r.then(()=>{t.delete(r)},()=>{t.delete(r)}),r},drain:function(e){if(!t.size)return(0,i.resolvedSyncPromise)(!0);let n=Promise.allSettled(Array.from(t)).then(()=>!0);return e?Promise.race([n,new Promise(t=>setTimeout(()=>t(!1),e))]):n}}}function a(e,t=Date.now()){let n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;let r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}function u(e,t,n=Date.now()){return(e[t]||e.all||0)>n}function l(e,{statusCode:t,headers:n},r=Date.now()){let i={...e},s=n?.["x-sentry-rate-limits"],o=n?.["retry-after"];if(s)for(let e of s.trim().split(",")){let[t,n,,,s]=e.split(":",5),o=parseInt(t,10),a=(isNaN(o)?60:o)*1e3;if(n)for(let e of n.split(";"))"metric_bucket"===e?(!s||s.split(";").includes("custom"))&&(i[e]=r+a):i[e]=r+a;else i.all=r+a}else o?i.all=r+a(o,r):429===t&&(i.all=r+6e4);return i}function c(e,i,a=o(e.bufferSize||64)){let p={};return{send:function(o){let c=[];if((0,r.forEachEnvelopeItem)(o,(t,n)=>{let i=(0,r.envelopeItemTypeToDataCategory)(n);u(p,i)?e.recordDroppedEvent("ratelimit_backoff",i):c.push(t)}),0===c.length)return Promise.resolve({});let _=(0,r.createEnvelope)(o[0],c),d=t=>{(0,r.forEachEnvelopeItem)(_,(n,i)=>{e.recordDroppedEvent(t,(0,r.envelopeItemTypeToDataCategory)(i))})};return a.add(()=>i({body:(0,r.serializeEnvelope)(_)}).then(e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&t.DEBUG_BUILD&&n.debug.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),p=l(p,e),e),e=>{throw d("network_error"),t.DEBUG_BUILD&&n.debug.error("Encountered error running transport request:",e),e})).then(e=>e,e=>{if(e===s)return t.DEBUG_BUILD&&n.debug.error("Skipped sending event because buffer is full."),d("queue_overflow"),Promise.resolve({});throw e})},flush:e=>a.drain(e)}}e.s(["SENTRY_BUFFER_FULL_ERROR",()=>s,"makePromiseBuffer",()=>o],634),e.s(["isRateLimited",()=>u,"parseRetryAfterHeader",()=>a,"updateRateLimits",()=>l],61765),e.s(["createTransport",()=>c],93986)},39080,e=>{"use strict";var t=e.i(5537),n=e.i(3818),r=e.i(11925),i=e.i(5864);let s=(0,n.defineIntegration)(()=>{let e;return{name:"Dedupe",processEvent(n){if(n.type)return n;try{var i,s,l,c,p,_;let d,g,f,E;if(i=n,(s=e)&&(l=i,c=s,d=l.message,g=c.message,(d||g)&&(!d||g)&&(d||!g)&&d===g&&a(l,c)&&o(l,c)&&1||(p=i,_=s,f=u(_),E=u(p),f&&E&&f.type===E.type&&f.value===E.value&&a(p,_)&&o(p,_))))return t.DEBUG_BUILD&&r.debug.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=n}}});function o(e,t){let n=(0,i.getFramesFromEvent)(e),r=(0,i.getFramesFromEvent)(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||r.length!==n.length)return!1;for(let e=0;e<r.length;e++){let t=r[e],i=n[e];if(t.filename!==i.filename||t.lineno!==i.lineno||t.colno!==i.colno||t.function!==i.function)return!1}return!0}function a(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return n.join("")===r.join("")}catch{return!1}}function u(e){return e.exception?.values?.[0]}e.s(["dedupeIntegration",()=>s])},7239,89620,e=>{"use strict";var t=e.i(5537),n=e.i(3818),r=e.i(11925);function i(e){let t=[];e.message&&t.push(e.message);try{let n=e.exception.values[e.exception.values.length-1];n?.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}e.s(["getPossibleEventMessages",()=>i],89620);var s=e.i(89058),o=e.i(1627);let a=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],u=(0,n.defineIntegration)((e={})=>{let n;return{name:"EventFilters",setup(t){n=c(e,t.getOptions())},processEvent:(a,u,l)=>(n||(n=c(e,l.getOptions())),!function(e,n){if(e.type){if("transaction"===e.type&&function(e,t){if(!t?.length)return!1;let n=e.transaction;return!!n&&(0,o.stringMatchesSomePattern)(n,t)}(e,n.ignoreTransactions))return t.DEBUG_BUILD&&r.debug.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${(0,s.getEventDescription)(e)}`),!0}else{var a,u,l;if(a=e,u=n.ignoreErrors,u?.length&&i(a).some(e=>(0,o.stringMatchesSomePattern)(e,u)))return t.DEBUG_BUILD&&r.debug.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${(0,s.getEventDescription)(e)}`),!0;if(l=e,l.exception?.values?.length&&!l.message&&!l.exception.values.some(e=>e.stacktrace||e.type&&"Error"!==e.type||e.value))return t.DEBUG_BUILD&&r.debug.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${(0,s.getEventDescription)(e)}`),!0;if(function(e,t){if(!t?.length)return!1;let n=p(e);return!!n&&(0,o.stringMatchesSomePattern)(n,t)}(e,n.denyUrls))return t.DEBUG_BUILD&&r.debug.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${(0,s.getEventDescription)(e)}.
Url: ${p(e)}`),!0;if(!function(e,t){if(!t?.length)return!0;let n=p(e);return!n||(0,o.stringMatchesSomePattern)(n,t)}(e,n.allowUrls))return t.DEBUG_BUILD&&r.debug.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${(0,s.getEventDescription)(e)}.
Url: ${p(e)}`),!0}return!1}(a,n)?a:null)}}),l=(0,n.defineIntegration)((e={})=>({...u(e),name:"InboundFilters"}));function c(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:a],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function p(e){try{let t=[...e.exception?.values??[]].reverse().find(e=>e.mechanism?.parent_id===void 0&&e.stacktrace?.frames?.length),n=t?.stacktrace?.frames;return n?function(e=[]){for(let t=e.length-1;t>=0;t--){let n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(n):null}catch{return t.DEBUG_BUILD&&r.debug.error(`Cannot extract url for event ${(0,s.getEventDescription)(e)}`),null}}e.s(["eventFiltersIntegration",()=>u,"inboundFiltersIntegration",()=>l],7239)},41385,e=>{"use strict";var t=e.i(5537),n=e.i(3818),r=e.i(11925),i=e.i(37364),s=e.i(4075),o=e.i(72259),a=e.i(1627);let u=(0,n.defineIntegration)((e={})=>{let{depth:n=3,captureErrorCause:u=!0}=e;return{name:"ExtraErrorData",processEvent(e,l,c){let{maxValueLength:p}=c.getOptions();return function(e,n={},u,l,c){if(!n.originalException||!(0,i.isError)(n.originalException))return e;let p=n.originalException.name||n.originalException.constructor.name,_=function e(n,s,o){try{let t=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],r={};for(let e of Object.keys(n)){if(-1!==t.indexOf(e))continue;let s=n[e];r[e]=(0,i.isError)(s)||"string"==typeof s?o?(0,a.truncate)(`${s}`,o):`${s}`:s}if(s&&void 0!==n.cause&&((0,i.isError)(n.cause)?r.cause={[n.cause.name||n.cause.constructor.name]:e(n.cause,!1,o)}:r.cause=n.cause),"function"==typeof n.toJSON){let e=n.toJSON();for(let t of Object.keys(e)){let n=e[t];r[t]=(0,i.isError)(n)?n.toString():n}}return r}catch(e){t.DEBUG_BUILD&&r.debug.error("Unable to extract extra data from the Error object:",e)}return null}(n.originalException,l,c);if(_){let t={...e.contexts},n=(0,s.normalize)(_,u);return(0,i.isPlainObject)(n)&&((0,o.addNonEnumerableProperty)(n,"__sentry_skip_normalization__",!0),t[p]=n),{...e,contexts:t}}return e}(e,l,n,u,p)}}});e.s(["extraErrorDataIntegration",()=>u])},3940,e=>{"use strict";var t=e.i(71339),n=e.i(5537),r=e.i(11925),i=e.i(17783);let s="flag.evaluation.";function o(e){let n=(0,t.getCurrentScope)().getScopeData().contexts.flags,r=n?n.values:[];return r.length&&(void 0===e.contexts&&(e.contexts={}),e.contexts.flags={values:[...r]}),e}function a(e,i,s=100){let o=(0,t.getCurrentScope)().getScopeData().contexts;o.flags||(o.flags={values:[]}),function(e,t,i,s){if("boolean"!=typeof i)return;if(e.length>s){n.DEBUG_BUILD&&r.debug.error(`[Feature Flags] insertToFlagBuffer called on a buffer larger than maxSize=${s}`);return}let o=e.findIndex(e=>e.flag===t);-1!==o&&e.splice(o,1),e.length===s&&e.shift(),e.push({flag:t,result:i})}(o.flags.values,e,i,s)}function u(e,t,n=10){if("boolean"!=typeof t)return;let r=(0,i.getActiveSpan)();if(!r)return;let o=(0,i.spanToJSON)(r).data;`${s}${e}`in o?r.setAttribute(`${s}${e}`,t):Object.keys(o).filter(e=>e.startsWith(s)).length<n&&r.setAttribute(`${s}${e}`,t)}e.s(["_INTERNAL_addFeatureFlagToActiveSpan",()=>u,"_INTERNAL_copyFlagsFromScopeToEvent",()=>o,"_INTERNAL_insertFlagToScope",()=>a])},28087,e=>{"use strict";var t=e.i(3818),n=e.i(3940);let r=(0,t.defineIntegration)(()=>({name:"FeatureFlags",processEvent:(e,t,r)=>(0,n._INTERNAL_copyFlagsFromScopeToEvent)(e),addFeatureFlag(e,t){(0,n._INTERNAL_insertFlagToScope)(e,t),(0,n._INTERNAL_addFeatureFlagToActiveSpan)(e,t)}}));e.s(["featureFlagsIntegration",()=>r])},24277,e=>{"use strict";let t;var n=e.i(71339),r=e.i(3818),i=e.i(72259);let s=new WeakMap,o=(0,r.defineIntegration)(()=>({name:"FunctionToString",setupOnce(){t=Function.prototype.toString;try{Function.prototype.toString=function(...e){let r=(0,i.getOriginalFunction)(this),o=s.has((0,n.getClient)())&&void 0!==r?r:this;return t.apply(o,e)}}catch{}},setup(e){s.set(e,!0)}}));e.s(["functionToStringIntegration",()=>o])},7031,e=>{"use strict";var t=e.i(15625),n=e.i(34923),r=e.i(71339),i=e.i(3110),s=e.i(11925),o=e.i(17783),a=e.i(87211),u=e.i(66419),l=e.i(39213);function c(e={}){let p=e.client||(0,r.getClient)();if(!(0,i.isEnabled)()||!p)return{};let _=(0,n.getMainCarrier)(),d=(0,t.getAsyncContextStrategy)(_);if(d.getTraceData)return d.getTraceData(e);let g=e.scope||(0,r.getCurrentScope)(),f=e.span||(0,o.getActiveSpan)(),E=f?(0,o.spanToTraceHeader)(f):function(e){let{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return(0,l.generateSentryTraceHeader)(t,r,n)}(g),T=f?(0,a.getDynamicSamplingContextFromSpan)(f):(0,a.getDynamicSamplingContextFromScope)(p,g),m=(0,u.dynamicSamplingContextToSentryBaggageHeader)(T);if(!l.TRACEPARENT_REGEXP.test(E))return s.debug.warn("Invalid sentry-trace data. Cannot generate trace data"),{};let S={"sentry-trace":E,baggage:m};if(e.propagateTraceparent){let e=f?(0,o.spanToTraceparentHeader)(f):function(e){let{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return(0,l.generateTraceparentHeader)(t,r,n)}(g);e&&(S.traceparent=e)}return S}e.s(["getTraceData",()=>c])},35499,96504,40551,e=>{"use strict";let t="gen_ai.usage.input_tokens",n="gen_ai.usage.output_tokens",r="gen_ai.usage.total_tokens",i={CHAT:"chat",RESPONSES:"responses",EMBEDDINGS:"embeddings"};e.s(["ANTHROPIC_AI_RESPONSE_TIMESTAMP_ATTRIBUTE",()=>"anthropic.response.timestamp","GEN_AI_AGENT_NAME_ATTRIBUTE",()=>"gen_ai.agent.name","GEN_AI_INVOKE_AGENT_OPERATION_ATTRIBUTE",()=>"gen_ai.invoke_agent","GEN_AI_OPERATION_NAME_ATTRIBUTE",()=>"gen_ai.operation.name","GEN_AI_PIPELINE_NAME_ATTRIBUTE",()=>"gen_ai.pipeline.name","GEN_AI_PROMPT_ATTRIBUTE",()=>"gen_ai.prompt","GEN_AI_REQUEST_AVAILABLE_TOOLS_ATTRIBUTE",()=>"gen_ai.request.available_tools","GEN_AI_REQUEST_DIMENSIONS_ATTRIBUTE",()=>"gen_ai.request.dimensions","GEN_AI_REQUEST_ENCODING_FORMAT_ATTRIBUTE",()=>"gen_ai.request.encoding_format","GEN_AI_REQUEST_FREQUENCY_PENALTY_ATTRIBUTE",()=>"gen_ai.request.frequency_penalty","GEN_AI_REQUEST_MAX_TOKENS_ATTRIBUTE",()=>"gen_ai.request.max_tokens","GEN_AI_REQUEST_MESSAGES_ATTRIBUTE",()=>"gen_ai.request.messages","GEN_AI_REQUEST_MODEL_ATTRIBUTE",()=>"gen_ai.request.model","GEN_AI_REQUEST_PRESENCE_PENALTY_ATTRIBUTE",()=>"gen_ai.request.presence_penalty","GEN_AI_REQUEST_STREAM_ATTRIBUTE",()=>"gen_ai.request.stream","GEN_AI_REQUEST_TEMPERATURE_ATTRIBUTE",()=>"gen_ai.request.temperature","GEN_AI_REQUEST_TOP_K_ATTRIBUTE",()=>"gen_ai.request.top_k","GEN_AI_REQUEST_TOP_P_ATTRIBUTE",()=>"gen_ai.request.top_p","GEN_AI_RESPONSE_FINISH_REASONS_ATTRIBUTE",()=>"gen_ai.response.finish_reasons","GEN_AI_RESPONSE_ID_ATTRIBUTE",()=>"gen_ai.response.id","GEN_AI_RESPONSE_MODEL_ATTRIBUTE",()=>"gen_ai.response.model","GEN_AI_RESPONSE_STOP_REASON_ATTRIBUTE",()=>"gen_ai.response.stop_reason","GEN_AI_RESPONSE_STREAMING_ATTRIBUTE",()=>"gen_ai.response.streaming","GEN_AI_RESPONSE_TEXT_ATTRIBUTE",()=>"gen_ai.response.text","GEN_AI_RESPONSE_TOOL_CALLS_ATTRIBUTE",()=>"gen_ai.response.tool_calls","GEN_AI_SYSTEM_ATTRIBUTE",()=>"gen_ai.system","GEN_AI_USAGE_CACHE_CREATION_INPUT_TOKENS_ATTRIBUTE",()=>"gen_ai.usage.cache_creation_input_tokens","GEN_AI_USAGE_CACHE_READ_INPUT_TOKENS_ATTRIBUTE",()=>"gen_ai.usage.cache_read_input_tokens","GEN_AI_USAGE_INPUT_TOKENS_ATTRIBUTE",()=>t,"GEN_AI_USAGE_INPUT_TOKENS_CACHED_ATTRIBUTE",()=>"gen_ai.usage.input_tokens.cached","GEN_AI_USAGE_INPUT_TOKENS_CACHE_WRITE_ATTRIBUTE",()=>"gen_ai.usage.input_tokens.cache_write","GEN_AI_USAGE_OUTPUT_TOKENS_ATTRIBUTE",()=>n,"GEN_AI_USAGE_TOTAL_TOKENS_ATTRIBUTE",()=>r,"OPENAI_OPERATIONS",()=>i,"OPENAI_RESPONSE_ID_ATTRIBUTE",()=>"openai.response.id","OPENAI_RESPONSE_MODEL_ATTRIBUTE",()=>"openai.response.model","OPENAI_RESPONSE_TIMESTAMP_ATTRIBUTE",()=>"openai.response.timestamp","OPENAI_USAGE_COMPLETION_TOKENS_ATTRIBUTE",()=>"openai.usage.completion_tokens","OPENAI_USAGE_PROMPT_TOKENS_ATTRIBUTE",()=>"openai.usage.prompt_tokens"],35499);let s=e=>new TextEncoder().encode(e).length,o=e=>s(JSON.stringify(e));function a(e,t){if(s(e)<=t)return e;let n=0,r=e.length,i="";for(;n<=r;){let o=Math.floor((n+r)/2),a=e.slice(0,o);s(a)<=t?(i=a,n=o+1):r=o-1}return i}function u(e,t){return"string"==typeof e?t:{...e,text:t}}function l(e){return function(e,t){if(!Array.isArray(e)||0===e.length||2e4>=o(e))return e;let n=e.map(o),r=0,i=e.length;for(let t=e.length-1;t>=0;t--){let e=n[t];if(e&&r+e>2e4)break;e&&(r+=e),i=t}return i===e.length?function(e,t){if(!e||"object"!=typeof e)return[];if(null!==e&&"object"==typeof e&&"content"in e&&"string"==typeof e.content){let t=2e4-o({...e,content:""});if(t<=0)return[];let n=a(e.content,t);return[{...e,content:n}]}return null!==e&&"object"==typeof e&&"parts"in e&&Array.isArray(e.parts)&&e.parts.length>0?function(e,t){let{parts:n}=e,r=n.map(e=>u(e,"")),i=t-o({...e,parts:r});if(i<=0)return[];let l=[];for(let e of n){let t="string"==typeof e?e:e.text,n=s(t);if(n<=i)l.push(e),i-=n;else if(0===l.length){let n=a(t,i);n&&l.push(u(e,n));break}else break}return l.length>0?[{...e,parts:l}]:[]}(e,2e4):[]}(e[e.length-1],2e4):e.slice(i)}(e,0)}function c(e){return a(e,2e4)}function p(e){return e.includes("messages")?"messages":e.includes("completions")?"completions":e.includes("models")?"models":e.includes("chat")?"chat":e.split(".").pop()||"unknown"}function _(e){return`gen_ai.${p(e)}`}function d(e,t){return e?`${e}.${t}`:t}function g(e,i,s,o,a){void 0!==i&&e.setAttributes({[t]:i}),void 0!==s&&e.setAttributes({[n]:s}),(void 0!==i||void 0!==s||void 0!==o||void 0!==a)&&e.setAttributes({[r]:(i??0)+(s??0)+(o??0)+(a??0)})}function f(e){return"string"==typeof e?c(e):Array.isArray(e)?JSON.stringify(l(e)):JSON.stringify(e)}e.s(["truncateGenAiMessages",()=>l,"truncateGenAiStringInput",()=>c],96504),e.s(["buildMethodPath",()=>d,"getFinalOperationName",()=>p,"getSpanOperation",()=>_,"getTruncatedJsonString",()=>f,"setTokenUsageAttributes",()=>g],40551)},41713,e=>{"use strict";var t=e.i(3110),n=e.i(98942),r=e.i(35499),i=e.i(40551);function s(e,r,i,s){if(e&&"object"==typeof e&&(!("type"in e)||"string"!=typeof e.type||"error"!==e.type||(s.setStatus({code:n.SPAN_STATUS_ERROR,message:e.error?.type??"internal_error"}),(0,t.captureException)(e.error,{mechanism:{handled:!1,type:"auto.ai.anthropic.anthropic_error"}}),0))){if("message_delta"===e.type&&e.usage&&"output_tokens"in e.usage&&"number"==typeof e.usage.output_tokens&&(r.completionTokens=e.usage.output_tokens),e.message){let t=e.message;t.id&&(r.responseId=t.id),t.model&&(r.responseModel=t.model),t.stop_reason&&r.finishReasons.push(t.stop_reason),t.usage&&("number"==typeof t.usage.input_tokens&&(r.promptTokens=t.usage.input_tokens),"number"==typeof t.usage.cache_creation_input_tokens&&(r.cacheCreationInputTokens=t.usage.cache_creation_input_tokens),"number"==typeof t.usage.cache_read_input_tokens&&(r.cacheReadInputTokens=t.usage.cache_read_input_tokens))}"content_block_start"===e.type&&"number"==typeof e.index&&e.content_block&&("tool_use"===e.content_block.type||"server_tool_use"===e.content_block.type)&&(r.activeToolBlocks[e.index]={id:e.content_block.id,name:e.content_block.name,inputJsonParts:[]});if("content_block_delta"===e.type&&e.delta){if("number"==typeof e.index&&"partial_json"in e.delta&&"string"==typeof e.delta.partial_json){let t=r.activeToolBlocks[e.index];t&&t.inputJsonParts.push(e.delta.partial_json)}i&&"string"==typeof e.delta.text&&r.responseTexts.push(e.delta.text)}!function(e,t){let n;if("content_block_stop"!==e.type||"number"!=typeof e.index)return;let r=t.activeToolBlocks[e.index];if(!r)return;let i=r.inputJsonParts.join("");try{n=i?JSON.parse(i):{}}catch{n={__unparsed:i}}t.toolCalls.push({type:"tool_use",id:r.id,name:r.name,input:n}),delete t.activeToolBlocks[e.index]}(e,r)}}async function*o(e,t,n){let o={responseTexts:[],finishReasons:[],responseId:"",responseModel:"",promptTokens:void 0,completionTokens:void 0,cacheCreationInputTokens:void 0,cacheReadInputTokens:void 0,toolCalls:[],activeToolBlocks:{}};try{for await(let r of e)s(r,o,n,t),yield r}finally{o.responseId&&t.setAttributes({[r.GEN_AI_RESPONSE_ID_ATTRIBUTE]:o.responseId}),o.responseModel&&t.setAttributes({[r.GEN_AI_RESPONSE_MODEL_ATTRIBUTE]:o.responseModel}),(0,i.setTokenUsageAttributes)(t,o.promptTokens,o.completionTokens,o.cacheCreationInputTokens,o.cacheReadInputTokens),t.setAttributes({[r.GEN_AI_RESPONSE_STREAMING_ATTRIBUTE]:!0}),o.finishReasons.length>0&&t.setAttributes({[r.GEN_AI_RESPONSE_FINISH_REASONS_ATTRIBUTE]:JSON.stringify(o.finishReasons)}),n&&o.responseTexts.length>0&&t.setAttributes({[r.GEN_AI_RESPONSE_TEXT_ATTRIBUTE]:o.responseTexts.join("")}),n&&o.toolCalls.length>0&&t.setAttributes({[r.GEN_AI_RESPONSE_TOOL_CALLS_ATTRIBUTE]:JSON.stringify(o.toolCalls)}),t.end()}}function a(e,o,a){let u={responseTexts:[],finishReasons:[],responseId:"",responseModel:"",promptTokens:void 0,completionTokens:void 0,cacheCreationInputTokens:void 0,cacheReadInputTokens:void 0,toolCalls:[],activeToolBlocks:{}};return e.on("streamEvent",e=>{s(e,u,a,o)}),e.on("message",()=>{o.isRecording()&&(u.responseId&&o.setAttributes({[r.GEN_AI_RESPONSE_ID_ATTRIBUTE]:u.responseId}),u.responseModel&&o.setAttributes({[r.GEN_AI_RESPONSE_MODEL_ATTRIBUTE]:u.responseModel}),(0,i.setTokenUsageAttributes)(o,u.promptTokens,u.completionTokens,u.cacheCreationInputTokens,u.cacheReadInputTokens),o.setAttributes({[r.GEN_AI_RESPONSE_STREAMING_ATTRIBUTE]:!0}),u.finishReasons.length>0&&o.setAttributes({[r.GEN_AI_RESPONSE_FINISH_REASONS_ATTRIBUTE]:JSON.stringify(u.finishReasons)}),a&&u.responseTexts.length>0&&o.setAttributes({[r.GEN_AI_RESPONSE_TEXT_ATTRIBUTE]:u.responseTexts.join("")}),a&&u.toolCalls.length>0&&o.setAttributes({[r.GEN_AI_RESPONSE_TOOL_CALLS_ATTRIBUTE]:JSON.stringify(u.toolCalls)}),o.end())}),e.on("error",e=>{(0,t.captureException)(e,{mechanism:{handled:!1,type:"auto.ai.anthropic.stream_error"}}),o.isRecording()&&(o.setStatus({code:n.SPAN_STATUS_ERROR,message:"stream_error"}),o.end())}),e}e.s(["instrumentAsyncIterableStream",()=>o,"instrumentMessageStream",()=>a])},2238,e=>{"use strict";let t=["messages.create","messages.stream","messages.countTokens","models.get","completions.create","models.retrieve","beta.messages.create"];e.s(["ANTHROPIC_AI_INSTRUMENTED_METHODS",()=>t,"ANTHROPIC_AI_INTEGRATION_NAME",()=>"Anthropic_AI"])},29746,65865,9425,e=>{"use strict";var t=e.i(71339),n=e.i(3110),r=e.i(38150),i=e.i(98942),s=e.i(18229),o=e.i(92617),a=e.i(35499),u=e.i(40551),l=e.i(41713),c=e.i(2238);function p(e,t){if("messages"in t){let n=(0,u.getTruncatedJsonString)(t.messages);e.setAttributes({[a.GEN_AI_REQUEST_MESSAGES_ATTRIBUTE]:n})}if("input"in t){let n=(0,u.getTruncatedJsonString)(t.input);e.setAttributes({[a.GEN_AI_REQUEST_MESSAGES_ATTRIBUTE]:n})}"prompt"in t&&e.setAttributes({[a.GEN_AI_PROMPT_ATTRIBUTE]:JSON.stringify(t.prompt)})}function _(e,t,r){throw(0,n.captureException)(e,{mechanism:{handled:!1,type:"auto.ai.anthropic",data:{function:r}}}),t.isRecording()&&(t.setStatus({code:i.SPAN_STATUS_ERROR,message:"internal_error"}),t.end()),e}function d(e,d){let g=!!(0,t.getClient)()?.getOptions().sendDefaultPii;return function e(t,d="",g){return new Proxy(t,{get(t,f){let E=t[f],T=(0,u.buildMethodPath)(d,String(f));return"function"==typeof E&&c.ANTHROPIC_AI_INSTRUMENTED_METHODS.includes(T)?new Proxy(E,{apply(e,c,d){let f=function(e,t){let n={[a.GEN_AI_SYSTEM_ATTRIBUTE]:"anthropic",[a.GEN_AI_OPERATION_NAME_ATTRIBUTE]:(0,u.getFinalOperationName)(t),[r.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ai.anthropic"};if(e.length>0&&"object"==typeof e[0]&&null!==e[0]){let t=e[0];t.tools&&Array.isArray(t.tools)&&(n[a.GEN_AI_REQUEST_AVAILABLE_TOOLS_ATTRIBUTE]=JSON.stringify(t.tools)),n[a.GEN_AI_REQUEST_MODEL_ATTRIBUTE]=t.model??"unknown","temperature"in t&&(n[a.GEN_AI_REQUEST_TEMPERATURE_ATTRIBUTE]=t.temperature),"top_p"in t&&(n[a.GEN_AI_REQUEST_TOP_P_ATTRIBUTE]=t.top_p),"stream"in t&&(n[a.GEN_AI_REQUEST_STREAM_ATTRIBUTE]=t.stream),"top_k"in t&&(n[a.GEN_AI_REQUEST_TOP_K_ATTRIBUTE]=t.top_k),"frequency_penalty"in t&&(n[a.GEN_AI_REQUEST_FREQUENCY_PENALTY_ATTRIBUTE]=t.frequency_penalty),"max_tokens"in t&&(n[a.GEN_AI_REQUEST_MAX_TOKENS_ATTRIBUTE]=t.max_tokens)}else"models.retrieve"===t||"models.get"===t?n[a.GEN_AI_REQUEST_MODEL_ATTRIBUTE]=e[0]:n[a.GEN_AI_REQUEST_MODEL_ATTRIBUTE]="unknown";return n}(d,T),m=f[a.GEN_AI_REQUEST_MODEL_ATTRIBUTE]??"unknown",S=(0,u.getFinalOperationName)(T),h="object"==typeof d[0]?d[0]:void 0,I=!!h?.stream,A="messages.stream"===T;if(I||A){let n,r;return n=f[a.GEN_AI_REQUEST_MODEL_ATTRIBUTE]??"unknown",r={name:`${S} ${n} stream-response`,op:(0,u.getSpanOperation)(T),attributes:f},I&&!A?(0,s.startSpanManual)(r,async e=>{try{g.recordInputs&&h&&p(e,h);let n=await E.apply(t,d);return(0,l.instrumentAsyncIterableStream)(n,e,g.recordOutputs??!1)}catch(t){return _(t,e,T)}}):(0,s.startSpanManual)(r,n=>{try{g.recordInputs&&h&&p(n,h);let r=e.apply(t,d);return(0,l.instrumentMessageStream)(r,n,g.recordOutputs??!1)}catch(e){return _(e,n,T)}})}return(0,s.startSpan)({name:`${S} ${m}`,op:(0,u.getSpanOperation)(T),attributes:f},r=>(g.recordInputs&&h&&p(r,h),(0,o.handleCallbackErrors)(()=>e.apply(t,d),e=>{(0,n.captureException)(e,{mechanism:{handled:!1,type:"auto.ai.anthropic",data:{function:T}}})},()=>{},e=>(function(e,t,r){if(t&&"object"==typeof t){if("type"in t&&"error"===t.type)return void(t.error&&(e.setStatus({code:i.SPAN_STATUS_ERROR,message:t.error.type||"internal_error"}),(0,n.captureException)(t.error,{mechanism:{handled:!1,type:"auto.ai.anthropic.anthropic_error"}})));r&&function(e,t){if("content"in t&&Array.isArray(t.content)){e.setAttributes({[a.GEN_AI_RESPONSE_TEXT_ATTRIBUTE]:t.content.map(e=>e.text).filter(e=>!!e).join("")});let n=[];for(let e of t.content)("tool_use"===e.type||"server_tool_use"===e.type)&&n.push(e);n.length>0&&e.setAttributes({[a.GEN_AI_RESPONSE_TOOL_CALLS_ATTRIBUTE]:JSON.stringify(n)})}"completion"in t&&e.setAttributes({[a.GEN_AI_RESPONSE_TEXT_ATTRIBUTE]:t.completion}),"input_tokens"in t&&e.setAttributes({[a.GEN_AI_RESPONSE_TEXT_ATTRIBUTE]:JSON.stringify(t.input_tokens)})}(e,t),"id"in t&&"model"in t&&(e.setAttributes({[a.GEN_AI_RESPONSE_ID_ATTRIBUTE]:t.id,[a.GEN_AI_RESPONSE_MODEL_ATTRIBUTE]:t.model}),"created"in t&&"number"==typeof t.created&&e.setAttributes({[a.ANTHROPIC_AI_RESPONSE_TIMESTAMP_ATTRIBUTE]:new Date(1e3*t.created).toISOString()}),"created_at"in t&&"number"==typeof t.created_at&&e.setAttributes({[a.ANTHROPIC_AI_RESPONSE_TIMESTAMP_ATTRIBUTE]:new Date(1e3*t.created_at).toISOString()}),"usage"in t&&t.usage&&(0,u.setTokenUsageAttributes)(e,t.usage.input_tokens,t.usage.output_tokens,t.usage.cache_creation_input_tokens,t.usage.cache_read_input_tokens))}})(r,e,g.recordOutputs))))}}):"function"==typeof E?E.bind(t):E&&"object"==typeof E?e(E,T,g):E}})}(e,"",{recordInputs:g,recordOutputs:g,...d})}e.s(["instrumentAnthropicAiClient",()=>d],29746);let g=["models.generateContent","models.generateContentStream","chats.create","sendMessage","sendMessageStream"],f="google_genai",E="chats.create",T="chat";async function*m(e,t,r){let s={responseTexts:[],finishReasons:[],toolCalls:[]};try{for await(let o of e)!function(e,t,r,s){if(!(!e||function(e,t){let r=e?.promptFeedback;if(r?.blockReason){let e=r.blockReasonMessage??r.blockReason;return t.setStatus({code:i.SPAN_STATUS_ERROR,message:`Content blocked: ${e}`}),(0,n.captureException)(`Content blocked: ${e}`,{mechanism:{handled:!1,type:"auto.ai.google_genai"}}),!0}return!1}(e,s))){let n;for(let i of("string"==typeof e.responseId&&(t.responseId=e.responseId),"string"==typeof e.modelVersion&&(t.responseModel=e.modelVersion),(n=e.usageMetadata)&&("number"==typeof n.promptTokenCount&&(t.promptTokens=n.promptTokenCount),"number"==typeof n.candidatesTokenCount&&(t.completionTokens=n.candidatesTokenCount),"number"==typeof n.totalTokenCount&&(t.totalTokens=n.totalTokenCount)),Array.isArray(e.functionCalls)&&t.toolCalls.push(...e.functionCalls),e.candidates??[]))for(let e of(i?.finishReason&&!t.finishReasons.includes(i.finishReason)&&t.finishReasons.push(i.finishReason),i?.content?.parts??[]))r&&e.text&&t.responseTexts.push(e.text),e.functionCall&&t.toolCalls.push({type:"function",id:e.functionCall.id,name:e.functionCall.name,arguments:e.functionCall.args})}}(o,s,r,t),yield o}finally{let e={[a.GEN_AI_RESPONSE_STREAMING_ATTRIBUTE]:!0};s.responseId&&(e[a.GEN_AI_RESPONSE_ID_ATTRIBUTE]=s.responseId),s.responseModel&&(e[a.GEN_AI_RESPONSE_MODEL_ATTRIBUTE]=s.responseModel),void 0!==s.promptTokens&&(e[a.GEN_AI_USAGE_INPUT_TOKENS_ATTRIBUTE]=s.promptTokens),void 0!==s.completionTokens&&(e[a.GEN_AI_USAGE_OUTPUT_TOKENS_ATTRIBUTE]=s.completionTokens),void 0!==s.totalTokens&&(e[a.GEN_AI_USAGE_TOTAL_TOKENS_ATTRIBUTE]=s.totalTokens),s.finishReasons.length&&(e[a.GEN_AI_RESPONSE_FINISH_REASONS_ATTRIBUTE]=JSON.stringify(s.finishReasons)),r&&s.responseTexts.length&&(e[a.GEN_AI_RESPONSE_TEXT_ATTRIBUTE]=s.responseTexts.join("")),r&&s.toolCalls.length&&(e[a.GEN_AI_RESPONSE_TOOL_CALLS_ATTRIBUTE]=JSON.stringify(s.toolCalls)),t.setAttributes(e),t.end()}}function S(e,t){if("model"in e&&"string"==typeof e.model)return e.model;if(t&&"object"==typeof t){if("model"in t&&"string"==typeof t.model)return t.model;if("modelVersion"in t&&"string"==typeof t.modelVersion)return t.modelVersion}return"unknown"}function h(e,t){if("contents"in t){let n=t.contents,r=(0,u.getTruncatedJsonString)(n);e.setAttributes({[a.GEN_AI_REQUEST_MESSAGES_ATTRIBUTE]:r})}if("message"in t){let n=t.message,r=(0,u.getTruncatedJsonString)(n);e.setAttributes({[a.GEN_AI_REQUEST_MESSAGES_ATTRIBUTE]:r})}if("history"in t){let n=t.history,r=(0,u.getTruncatedJsonString)(n);e.setAttributes({[a.GEN_AI_REQUEST_MESSAGES_ATTRIBUTE]:r})}}function I(e,t,l,c){let p=t===E;return new Proxy(e,{apply(e,_,d){let g=d[0],E=function(e,t,n){let i={[a.GEN_AI_SYSTEM_ATTRIBUTE]:f,[a.GEN_AI_OPERATION_NAME_ATTRIBUTE]:(0,u.getFinalOperationName)(e),[r.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ai.google_genai"};if(t){if(i[a.GEN_AI_REQUEST_MODEL_ATTRIBUTE]=S(t,n),"config"in t&&"object"==typeof t.config&&t.config){let e,n=t.config;if(Object.assign(i,(e={},"temperature"in n&&"number"==typeof n.temperature&&(e[a.GEN_AI_REQUEST_TEMPERATURE_ATTRIBUTE]=n.temperature),"topP"in n&&"number"==typeof n.topP&&(e[a.GEN_AI_REQUEST_TOP_P_ATTRIBUTE]=n.topP),"topK"in n&&"number"==typeof n.topK&&(e[a.GEN_AI_REQUEST_TOP_K_ATTRIBUTE]=n.topK),"maxOutputTokens"in n&&"number"==typeof n.maxOutputTokens&&(e[a.GEN_AI_REQUEST_MAX_TOKENS_ATTRIBUTE]=n.maxOutputTokens),"frequencyPenalty"in n&&"number"==typeof n.frequencyPenalty&&(e[a.GEN_AI_REQUEST_FREQUENCY_PENALTY_ATTRIBUTE]=n.frequencyPenalty),"presencePenalty"in n&&"number"==typeof n.presencePenalty&&(e[a.GEN_AI_REQUEST_PRESENCE_PENALTY_ATTRIBUTE]=n.presencePenalty),e)),"tools"in n&&Array.isArray(n.tools)){let e=n.tools.flatMap(e=>e.functionDeclarations);i[a.GEN_AI_REQUEST_AVAILABLE_TOOLS_ATTRIBUTE]=JSON.stringify(e)}}}else i[a.GEN_AI_REQUEST_MODEL_ATTRIBUTE]=S({},n);return i}(t,g,l),T=E[a.GEN_AI_REQUEST_MODEL_ATTRIBUTE]??"unknown",I=(0,u.getFinalOperationName)(t);return t.includes("Stream")||t.endsWith("generateContentStream")||t.endsWith("sendMessageStream")?(0,s.startSpanManual)({name:`${I} ${T} stream-response`,op:(0,u.getSpanOperation)(t),attributes:E},async r=>{try{c.recordInputs&&g&&h(r,g);let t=await e.apply(l,d);return m(t,r,!!c.recordOutputs)}catch(e){throw r.setStatus({code:i.SPAN_STATUS_ERROR,message:"internal_error"}),(0,n.captureException)(e,{mechanism:{handled:!1,type:"auto.ai.google_genai",data:{function:t}}}),r.end(),e}}):(0,s.startSpan)({name:p?`${I} ${T} create`:`${I} ${T}`,op:(0,u.getSpanOperation)(t),attributes:E},r=>(c.recordInputs&&g&&h(r,g),(0,o.handleCallbackErrors)(()=>e.apply(l,d),e=>{(0,n.captureException)(e,{mechanism:{handled:!1,type:"auto.ai.google_genai",data:{function:t}}})},()=>{},e=>{p||function(e,t,n){if(t&&"object"==typeof t){if(t.usageMetadata&&"object"==typeof t.usageMetadata){let n=t.usageMetadata;"number"==typeof n.promptTokenCount&&e.setAttributes({[a.GEN_AI_USAGE_INPUT_TOKENS_ATTRIBUTE]:n.promptTokenCount}),"number"==typeof n.candidatesTokenCount&&e.setAttributes({[a.GEN_AI_USAGE_OUTPUT_TOKENS_ATTRIBUTE]:n.candidatesTokenCount}),"number"==typeof n.totalTokenCount&&e.setAttributes({[a.GEN_AI_USAGE_TOTAL_TOKENS_ATTRIBUTE]:n.totalTokenCount})}if(n&&Array.isArray(t.candidates)&&t.candidates.length>0){let n=t.candidates.map(e=>e.content?.parts&&Array.isArray(e.content.parts)?e.content.parts.map(e=>"string"==typeof e.text?e.text:"").filter(e=>e.length>0).join(""):"").filter(e=>e.length>0);n.length>0&&e.setAttributes({[a.GEN_AI_RESPONSE_TEXT_ATTRIBUTE]:n.join("")})}if(n&&t.functionCalls){let n=t.functionCalls;Array.isArray(n)&&n.length>0&&e.setAttributes({[a.GEN_AI_RESPONSE_TOOL_CALLS_ATTRIBUTE]:JSON.stringify(n)})}}}(r,e,c.recordOutputs)})))}})}function A(e,n){let r=!!(0,t.getClient)()?.getOptions().sendDefaultPii;return function e(t,n="",r){return new Proxy(t,{get:(t,i,s)=>{let o=Reflect.get(t,i,s),a=(0,u.buildMethodPath)(n,String(i));if("function"==typeof o&&function(e){if(g.includes(e))return!0;let t=e.split(".").pop();return g.includes(t)}(a)){if(a===E){let n=I(o,a,t,r);return function(...t){let i=n(...t);return i&&"object"==typeof i?e(i,T,r):i}}return I(o,a,t,r)}return"function"==typeof o?o.bind(t):o&&"object"==typeof o?e(o,a,r):o}})}(e,"",{recordInputs:r,recordOutputs:r,...n})}e.s(["CHATS_CREATE_METHOD",()=>E,"CHAT_PATH",()=>T,"GOOGLE_GENAI_INSTRUMENTED_METHODS",()=>g,"GOOGLE_GENAI_INTEGRATION_NAME",()=>"Google_GenAI","GOOGLE_GENAI_SYSTEM_NAME",()=>f],65865),e.s(["instrumentGoogleGenAIClient",()=>A],9425)},76012,82151,e=>{"use strict";var t=e.i(71339),n=e.i(3110),r=e.i(38150),i=e.i(98942),s=e.i(18229),o=e.i(35499),a=e.i(40551);let u="OpenAI",l=["responses.create","chat.completions.create","embeddings.create"],c=["response.created","response.in_progress","response.failed","response.completed","response.incomplete","response.queued","response.output_text.delta","response.output_item.added","response.function_call_arguments.delta","response.function_call_arguments.done","response.output_item.done"];function p(e){return e.includes("chat.completions")?o.OPENAI_OPERATIONS.CHAT:e.includes("responses")?o.OPENAI_OPERATIONS.RESPONSES:e.includes("embeddings")?o.OPENAI_OPERATIONS.EMBEDDINGS:e.split(".").pop()||"unknown"}function _(e){return`gen_ai.${p(e)}`}function d(e,t,n,r){void 0!==t&&e.setAttributes({[o.OPENAI_USAGE_PROMPT_TOKENS_ATTRIBUTE]:t,[o.GEN_AI_USAGE_INPUT_TOKENS_ATTRIBUTE]:t}),void 0!==n&&e.setAttributes({[o.OPENAI_USAGE_COMPLETION_TOKENS_ATTRIBUTE]:n,[o.GEN_AI_USAGE_OUTPUT_TOKENS_ATTRIBUTE]:n}),void 0!==r&&e.setAttributes({[o.GEN_AI_USAGE_TOTAL_TOKENS_ATTRIBUTE]:r})}function g(e,t,n,r){e.setAttributes({[o.OPENAI_RESPONSE_ID_ATTRIBUTE]:t,[o.GEN_AI_RESPONSE_ID_ATTRIBUTE]:t}),e.setAttributes({[o.OPENAI_RESPONSE_MODEL_ATTRIBUTE]:n,[o.GEN_AI_RESPONSE_MODEL_ATTRIBUTE]:n}),e.setAttributes({[o.OPENAI_RESPONSE_TIMESTAMP_ATTRIBUTE]:new Date(1e3*r).toISOString()})}async function*f(e,t,r){let s={eventTypes:[],responseTexts:[],finishReasons:[],responseId:"",responseModel:"",responseTimestamp:0,promptTokens:void 0,completionTokens:void 0,totalTokens:void 0,chatCompletionToolCalls:{},responsesApiToolCalls:[]};try{for await(let o of e){if(null!==o&&"object"==typeof o&&"object"in o&&"chat.completion.chunk"===o.object){for(let e of(s.responseId=o.id??s.responseId,s.responseModel=o.model??s.responseModel,s.responseTimestamp=o.created??s.responseTimestamp,o.usage&&(s.promptTokens=o.usage.prompt_tokens,s.completionTokens=o.usage.completion_tokens,s.totalTokens=o.usage.total_tokens),o.choices??[]))r&&(e.delta?.content&&s.responseTexts.push(e.delta.content),e.delta?.tool_calls&&function(e,t){for(let n of e){let e=n.index;if(void 0!==e&&n.function)if(e in t.chatCompletionToolCalls){let r=t.chatCompletionToolCalls[e];n.function.arguments&&r?.function&&(r.function.arguments+=n.function.arguments)}else t.chatCompletionToolCalls[e]={...n,function:{name:n.function.name,arguments:n.function.arguments||""}}}}(e.delta.tool_calls,s)),e.finish_reason&&s.finishReasons.push(e.finish_reason)}else null!==o&&"object"==typeof o&&"type"in o&&"string"==typeof o.type&&o.type.startsWith("response.")&&function(e,t,r,s){if(!(e&&"object"==typeof e))return t.eventTypes.push("unknown:non-object");if(e instanceof Error){s.setStatus({code:i.SPAN_STATUS_ERROR,message:"internal_error"}),(0,n.captureException)(e,{mechanism:{handled:!1,type:"auto.ai.openai.stream-response"}});return}if("type"in e){if(!c.includes(e.type))return t.eventTypes.push(e.type);if(r&&("response.output_item.done"===e.type&&"item"in e&&t.responsesApiToolCalls.push(e.item),"response.output_text.delta"===e.type&&"delta"in e&&e.delta))return t.responseTexts.push(e.delta);if("response"in e){let{response:n}=e;t.responseId=n.id??t.responseId,t.responseModel=n.model??t.responseModel,t.responseTimestamp=n.created_at??t.responseTimestamp,n.usage&&(t.promptTokens=n.usage.input_tokens,t.completionTokens=n.usage.output_tokens,t.totalTokens=n.usage.total_tokens),n.status&&t.finishReasons.push(n.status),r&&n.output_text&&t.responseTexts.push(n.output_text)}}}(o,s,r,t);yield o}}finally{g(t,s.responseId,s.responseModel,s.responseTimestamp),d(t,s.promptTokens,s.completionTokens,s.totalTokens),t.setAttributes({[o.GEN_AI_RESPONSE_STREAMING_ATTRIBUTE]:!0}),s.finishReasons.length&&t.setAttributes({[o.GEN_AI_RESPONSE_FINISH_REASONS_ATTRIBUTE]:JSON.stringify(s.finishReasons)}),r&&s.responseTexts.length&&t.setAttributes({[o.GEN_AI_RESPONSE_TEXT_ATTRIBUTE]:s.responseTexts.join("")});let e=[...Object.values(s.chatCompletionToolCalls),...s.responsesApiToolCalls];e.length>0&&t.setAttributes({[o.GEN_AI_RESPONSE_TOOL_CALLS_ATTRIBUTE]:JSON.stringify(e)}),t.end()}}function E(e,t){if("messages"in t){let n=(0,a.getTruncatedJsonString)(t.messages);e.setAttributes({[o.GEN_AI_REQUEST_MESSAGES_ATTRIBUTE]:n})}if("input"in t){let n=(0,a.getTruncatedJsonString)(t.input);e.setAttributes({[o.GEN_AI_REQUEST_MESSAGES_ATTRIBUTE]:n})}}function T(e,a){return function e(a,c="",T){return new Proxy(a,{get(a,m){var S;let h=a[m],I=(S=String(m),c?`${c}.${S}`:S);return"function"==typeof h&&l.includes(I)?async function(...e){let l,c,m,S=T||(l=(0,t.getCurrentScope)().getClient(),m=!!(c=l?.getIntegrationByName(u))&&!!l?.getOptions().sendDefaultPii,{recordInputs:c?.options?.recordInputs??m,recordOutputs:c?.options?.recordOutputs??m}),A=function(e,t){let n={[o.GEN_AI_SYSTEM_ATTRIBUTE]:"openai",[o.GEN_AI_OPERATION_NAME_ATTRIBUTE]:p(t),[r.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ai.openai"};if(e.length>0&&"object"==typeof e[0]&&null!==e[0]){let t=e[0],r=[...Array.isArray(t.tools)?t.tools:[],...t.web_search_options&&"object"==typeof t.web_search_options?[{type:"web_search_options",...t.web_search_options}]:[]];r.length>0&&(n[o.GEN_AI_REQUEST_AVAILABLE_TOOLS_ATTRIBUTE]=JSON.stringify(r))}if(e.length>0&&"object"==typeof e[0]&&null!==e[0]){let t=e[0];n[o.GEN_AI_REQUEST_MODEL_ATTRIBUTE]=t.model??"unknown","temperature"in t&&(n[o.GEN_AI_REQUEST_TEMPERATURE_ATTRIBUTE]=t.temperature),"top_p"in t&&(n[o.GEN_AI_REQUEST_TOP_P_ATTRIBUTE]=t.top_p),"frequency_penalty"in t&&(n[o.GEN_AI_REQUEST_FREQUENCY_PENALTY_ATTRIBUTE]=t.frequency_penalty),"presence_penalty"in t&&(n[o.GEN_AI_REQUEST_PRESENCE_PENALTY_ATTRIBUTE]=t.presence_penalty),"stream"in t&&(n[o.GEN_AI_REQUEST_STREAM_ATTRIBUTE]=t.stream),"encoding_format"in t&&(n[o.GEN_AI_REQUEST_ENCODING_FORMAT_ATTRIBUTE]=t.encoding_format),"dimensions"in t&&(n[o.GEN_AI_REQUEST_DIMENSIONS_ATTRIBUTE]=t.dimensions)}else n[o.GEN_AI_REQUEST_MODEL_ATTRIBUTE]="unknown";return n}(e,I),y=A[o.GEN_AI_REQUEST_MODEL_ATTRIBUTE]||"unknown",b=p(I),N=e[0];return N&&"object"==typeof N&&!0===N.stream?(0,s.startSpanManual)({name:`${b} ${y} stream-response`,op:_(I),attributes:A},async t=>{try{S.recordInputs&&e[0]&&"object"==typeof e[0]&&E(t,e[0]);let n=await h.apply(a,e);return f(n,t,S.recordOutputs??!1)}catch(e){throw t.setStatus({code:i.SPAN_STATUS_ERROR,message:"internal_error"}),(0,n.captureException)(e,{mechanism:{handled:!1,type:"auto.ai.openai.stream",data:{function:I}}}),t.end(),e}}):(0,s.startSpan)({name:`${b} ${y}`,op:_(I),attributes:A},async t=>{try{S.recordInputs&&e[0]&&"object"==typeof e[0]&&E(t,e[0]);let n=await h.apply(a,e);return!function(e,t,n){if(t&&"object"==typeof t)if(null!==t&&"object"==typeof t&&"object"in t&&"chat.completion"===t.object){if(g(e,t.id,t.model,t.created),t.usage&&d(e,t.usage.prompt_tokens,t.usage.completion_tokens,t.usage.total_tokens),Array.isArray(t.choices)){let r=t.choices.map(e=>e.finish_reason).filter(e=>null!==e);if(r.length>0&&e.setAttributes({[o.GEN_AI_RESPONSE_FINISH_REASONS_ATTRIBUTE]:JSON.stringify(r)}),n){let n=t.choices.map(e=>e.message?.tool_calls).filter(e=>Array.isArray(e)&&e.length>0).flat();n.length>0&&e.setAttributes({[o.GEN_AI_RESPONSE_TOOL_CALLS_ATTRIBUTE]:JSON.stringify(n)})}}if(n&&t.choices?.length){let n=t.choices.map(e=>e.message?.content||"");e.setAttributes({[o.GEN_AI_RESPONSE_TEXT_ATTRIBUTE]:JSON.stringify(n)})}}else if(null!==t&&"object"==typeof t&&"object"in t&&"response"===t.object){if(g(e,t.id,t.model,t.created_at),t.status&&e.setAttributes({[o.GEN_AI_RESPONSE_FINISH_REASONS_ATTRIBUTE]:JSON.stringify([t.status])}),t.usage&&d(e,t.usage.input_tokens,t.usage.output_tokens,t.usage.total_tokens),n&&Array.isArray(t.output)&&t.output.length>0){let n=t.output.filter(e=>"object"==typeof e&&null!==e&&"function_call"===e.type);n.length>0&&e.setAttributes({[o.GEN_AI_RESPONSE_TOOL_CALLS_ATTRIBUTE]:JSON.stringify(n)})}n&&t.output_text&&e.setAttributes({[o.GEN_AI_RESPONSE_TEXT_ATTRIBUTE]:t.output_text})}else null!==t&&"object"==typeof t&&"object"in t&&"list"===t.object&&"string"==typeof t.model&&t.model.toLowerCase().includes("embedding")&&(e.setAttributes({[o.OPENAI_RESPONSE_MODEL_ATTRIBUTE]:t.model,[o.GEN_AI_RESPONSE_MODEL_ATTRIBUTE]:t.model}),t.usage&&d(e,t.usage.prompt_tokens,void 0,t.usage.total_tokens))}(t,n,S.recordOutputs),n}catch(e){throw(0,n.captureException)(e,{mechanism:{handled:!1,type:"auto.ai.openai",data:{function:I}}}),e}})}:"function"==typeof h?h.bind(a):h&&"object"==typeof h?e(h,I,T):h}})}(e,"",a)}e.s(["INSTRUMENTED_METHODS",()=>l,"OPENAI_INTEGRATION_NAME",()=>u,"RESPONSE_EVENT_TYPES",()=>c],82151),e.s(["instrumentOpenAiClient",()=>T],76012)},28475,43880,e=>{"use strict";var t=e.i(83352),n=e.i(5537),r=e.i(3110),i=e.i(3818),s=e.i(38150),o=e.i(11925),a=e.i(89058),u=e.i(37364),l=e.i(98942),c=e.i(18229);let p=["reauthenticate","signInAnonymously","signInWithOAuth","signInWithIdToken","signInWithOtp","signInWithPassword","signInWithSSO","signOut","signUp","verifyOtp"],_=["createUser","deleteUser","listUsers","getUserById","updateUserById","inviteUserByEmail"],d={eq:"eq",neq:"neq",gt:"gt",gte:"gte",lt:"lt",lte:"lte",like:"like","like(all)":"likeAllOf","like(any)":"likeAnyOf",ilike:"ilike","ilike(all)":"ilikeAllOf","ilike(any)":"ilikeAnyOf",is:"is",in:"in",cs:"contains",cd:"containedBy",sr:"rangeGt",nxl:"rangeGte",sl:"rangeLt",nxr:"rangeLte",adj:"rangeAdjacent",ov:"overlaps",fts:"",plfts:"plain",phfts:"phrase",wfts:"websearch",not:"not"},g=["select","insert","upsert","update","delete"];function f(e){try{e.__SENTRY_INSTRUMENTED__=!0}catch{}}function E(e){try{return e.__SENTRY_INSTRUMENTED__}catch{return!1}}function T(e,t=!1){return new Proxy(e,{apply:(n,i,o)=>(0,c.startSpan)({name:`auth ${t?"(admin) ":""}${e.name}`,attributes:{[s.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.db.supabase",[s.SEMANTIC_ATTRIBUTE_SENTRY_OP]:"db","db.system":"postgresql","db.operation":`auth.${t?"admin.":""}${e.name}`}},e=>Reflect.apply(n,i,o).then(t=>(t&&"object"==typeof t&&"error"in t&&t.error?(e.setStatus({code:l.SPAN_STATUS_ERROR}),(0,r.captureException)(t.error,{mechanism:{handled:!1,type:"auto.db.supabase.auth"}})):e.setStatus({code:l.SPAN_STATUS_OK}),e.end(),t)).catch(t=>{throw e.setStatus({code:l.SPAN_STATUS_ERROR}),e.end(),(0,r.captureException)(t,{mechanism:{handled:!1,type:"auto.db.supabase.auth"}}),t}).then(...o))})}let m=e=>{var i;if(!e){n.DEBUG_BUILD&&o.debug.warn("Supabase integration was not installed because no Supabase client was provided.");return}E((i=e.constructor===Function?e:e.constructor).prototype.from)||(i.prototype.from=new Proxy(i.prototype.from,{apply(e,i,p){let _=Reflect.apply(e,i,p);return function(e){for(let i of g)E(e.prototype[i])||(e.prototype[i]=new Proxy(e.prototype[i],{apply(e,p,_){let T=Reflect.apply(e,p,_),m=T.constructor;return n.DEBUG_BUILD&&o.debug.log(`Instrumenting ${i} operation's PostgRESTFilterBuilder`),E(m.prototype.then)||(m.prototype.then=new Proxy(m.prototype.then,{apply(e,n,i){let o=function(e,t={}){switch(e){case"GET":return"select";case"POST":if(t.Prefer?.includes("resolution="))return"upsert";return"insert";case"PATCH":return"update";case"DELETE":return"delete";default:return"<unknown-op>"}}(n.method,n.headers);if(!g.includes(o)||!n?.url?.pathname||"string"!=typeof n.url.pathname)return Reflect.apply(e,n,i);let p=n.url.pathname.split("/"),_=p.length>0?p[p.length-1]:"",f=[];for(let[e,t]of n.url.searchParams.entries())f.push(function(e,t){let n;if(""===t||"*"===t)return"select(*)";if("select"===e)return`select(${t})`;if("or"===e||e.endsWith(".or"))return`${e}${t}`;let[r,...i]=t.split(".");return n=r?.startsWith("fts")?"textSearch":r?.startsWith("plfts")?"textSearch[plain]":r?.startsWith("phfts")?"textSearch[phrase]":r?.startsWith("wfts")?"textSearch[websearch]":r&&d[r]||"filter",`${n}(${e}, ${i.join(".")})`}(e,t));let E=Object.create(null);if((0,u.isPlainObject)(n.body))for(let[e,t]of Object.entries(n.body))E[e]=t;let T=`${"select"===o?"":`${o}${E?"(...) ":""}`}${f.join(" ")} from(${_})`,m={"db.table":_,"db.schema":n.schema,"db.url":n.url.origin,"db.sdk":n.headers["X-Client-Info"],"db.system":"postgresql","db.operation":o,[s.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.db.supabase",[s.SEMANTIC_ATTRIBUTE_SENTRY_OP]:"db"};return f.length&&(m["db.query"]=f),Object.keys(E).length&&(m["db.body"]=E),(0,c.startSpan)({name:T,attributes:m},s=>Reflect.apply(e,n,[]).then(e=>{if(s&&(e&&"object"==typeof e&&"status"in e&&(0,l.setHttpStatus)(s,e.status||500),s.end()),e.error){let t=Error(e.error.message);e.error.code&&(t.code=e.error.code),e.error.details&&(t.details=e.error.details);let n={};f.length&&(n.query=f),Object.keys(E).length&&(n.body=E),(0,r.captureException)(t,e=>(e.addEventProcessor(e=>((0,a.addExceptionMechanism)(e,{handled:!1,type:"auto.db.supabase.postgres"}),e)),e.setContext("supabase",n),e))}let n={type:"supabase",category:`db.${o}`,message:T},i={};return f.length&&(i.query=f),Object.keys(E).length&&(i.body=E),Object.keys(i).length&&(n.data=i),(0,t.addBreadcrumb)(n),e},e=>{throw s&&((0,l.setHttpStatus)(s,500),s.end()),e}).then(...i))}}),f(m.prototype.then)),T}}),f(e.prototype[i]))}(_.constructor),_}}),f(i.prototype.from));let m=e.auth;if(!(!m||E(e.auth))){for(let t of p){let n=m[t];n&&"function"==typeof e.auth[t]&&(e.auth[t]=T(n))}for(let t of _){let n=m.admin[t];n&&"function"==typeof e.auth.admin[t]&&(e.auth.admin[t]=T(n,!0))}f(e.auth)}},S=(0,i.defineIntegration)(e=>{let t;return t=e.supabaseClient,{setupOnce(){m(t)},name:"Supabase"}});function h(e,...t){let n=new String(String.raw(e,...t));return n.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),n.__sentry_template_values__=t,n}e.s(["instrumentSupabaseClient",()=>m,"supabaseIntegration",()=>S],28475),e.s(["fmt",()=>h,"parameterize",()=>h],43880)},83109,e=>{"use strict";var t=e.i(88919);function n(e){let t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function r(e,t,r){let i;return t||`${n(e)}${e.projectId}/envelope/?${i={sentry_version:"7"},e.publicKey&&(i.sentry_key=e.publicKey),r&&(i.sentry_client=`${r.name}/${r.version}`),new URLSearchParams(i).toString()}`}function i(e,r){let i=(0,t.makeDsn)(e);if(!i)return"";let s=`${n(i)}embed/error-page/`,o=`dsn=${(0,t.dsnToString)(i)}`;for(let e in r)if("dsn"!==e&&"onClose"!==e)if("user"===e){let e=r.user;if(!e)continue;e.name&&(o+=`&name=${encodeURIComponent(e.name)}`),e.email&&(o+=`&email=${encodeURIComponent(e.email)}`)}else o+=`&${encodeURIComponent(e)}=${encodeURIComponent(r[e])}`;return`${s}?${o}`}e.s(["getEnvelopeEndpointWithUrlEncodedAuth",()=>r,"getReportDialogEndpoint",()=>i])},84227,e=>{"use strict";var t=e.i(34923),n=e.i(71339),r=e.i(5537),i=e.i(85067),s=e.i(11925),o=e.i(75509),a=e.i(21171),u=e.i(72168),l=e.i(88919),c=e.i(84004);function p(e,t,n,r=!0){!n||!r&&t in e||(e[t]=n)}function _(e,t){var n;let r=f(),i=(n=e,f().get(n));void 0===i?r.set(e,[t]):i.length>=1e3?(g(e,i),r.set(e,[t])):r.set(e,[...i,t])}function d(e,t){let l=t?.scope??(0,n.getCurrentScope)(),c=t?.captureSerializedMetric??_,d=l?.getClient()??(0,n.getClient)();if(!d){r.DEBUG_BUILD&&s.debug.warn("No client available to capture metric.");return}let{_experiments:g,enableMetrics:f,beforeSendMetric:E}=d.getOptions();if(!(f??g?.enableMetrics??!0)){r.DEBUG_BUILD&&s.debug.warn("metrics option not enabled, metric will not be captured.");return}let T=function(e,t,r){var s;let o,{release:a,environment:u}=t.getOptions(),l={...e.attributes},{user:{id:c,email:_,username:d}}=(s=r,o=(0,n.getGlobalScope)().getScopeData(),(0,i.mergeScopeData)(o,(0,n.getIsolationScope)().getScopeData()),(0,i.mergeScopeData)(o,s.getScopeData()),o);p(l,"user.id",c,!1),p(l,"user.email",_,!1),p(l,"user.name",d,!1),p(l,"sentry.release",a),p(l,"sentry.environment",u);let{name:g,version:f}=t.getSdkMetadata()?.sdk??{};p(l,"sentry.sdk.name",g),p(l,"sentry.sdk.version",f);let E=t.getIntegrationByName("Replay"),T=E?.getReplayId(!0);return p(l,"sentry.replay_id",T),T&&E?.getRecordingMode()==="buffer"&&p(l,"sentry._internal.replay_is_buffering",!0),{...e,attributes:l}}(e,d,l);d.emit("processMetric",T);let m=E||g?.beforeSendMetric,S=m?m(T):T;if(!S){r.DEBUG_BUILD&&s.debug.log("`beforeSendMetric` returned `null`, will not send metric.");return}let h=function(e,t,n){let r={};for(let t in e.attributes)void 0!==e.attributes[t]&&(r[t]=function(e){switch(typeof e){case"number":if(Number.isInteger(e))return{value:e,type:"integer"};return{value:e,type:"double"};case"boolean":return{value:e,type:"boolean"};case"string":return{value:e,type:"string"};default:{let t="";try{t=JSON.stringify(e)??""}catch{}return{value:t,type:"string"}}}}(e.attributes[t]));let[,i]=(0,u._getTraceInfoFromScope)(t,n),s=(0,o._getSpanForScope)(n),l=s?s.spanContext().traceId:i?.trace_id,c=s?s.spanContext().spanId:void 0;return{timestamp:(0,a.timestampInSeconds)(),trace_id:l??"",span_id:c,name:e.name,type:e.type,unit:e.unit,value:e.value,attributes:r}}(S,d,l);r.DEBUG_BUILD&&s.debug.log("[Metric]",h),c(d,h),d.emit("afterCaptureMetric",S)}function g(e,t){var n,r,i,s;let o,a=t??(s=e,f().get(s))??[];if(0===a.length)return;let u=e.getOptions(),p=(n=u._metadata,r=u.tunnel,i=e.getDsn(),o={},n?.sdk&&(o.sdk={name:n.sdk.name,version:n.sdk.version}),r&&i&&(o.dsn=(0,l.dsnToString)(i)),(0,c.createEnvelope)(o,[[{type:"trace_metric",item_count:a.length,content_type:"application/vnd.sentry.items.trace-metric+json"},{items:a}]]));f().set(e,[]),e.emit("flushMetrics"),e.sendEnvelope(p)}function f(){return(0,t.getGlobalSingleton)("clientToMetricBufferMap",()=>new WeakMap)}e.s(["_INTERNAL_captureMetric",()=>d,"_INTERNAL_flushMetricsBuffer",()=>g],84227)},67098,e=>{"use strict";var t=e.i(84227);function n(e,n,r,i){(0,t._INTERNAL_captureMetric)({type:e,name:n,value:r,unit:i?.unit,attributes:i?.attributes},{scope:i?.scope})}function r(e,t=1,i){n("counter",e,t,i)}function i(e,t,r){n("gauge",e,t,r)}function s(e,t,r){n("distribution",e,t,r)}e.s(["count",()=>r,"distribution",()=>s,"gauge",()=>i],13499);var o=e.i(13499);e.s(["metrics",0,o],67098)},12185,52347,92865,e=>{"use strict";var t=e.i(5537),n=e.i(31704),r=e.i(49546);let i=null;function s(e){let t="error";(0,r.addHandler)(t,e),(0,r.maybeInstrument)(t,o)}function o(){i=n.GLOBAL_OBJ.onerror,n.GLOBAL_OBJ.onerror=function(e,t,n,s,o){return(0,r.triggerHandlers)("error",{column:s,error:o,line:n,msg:e,url:t}),!!i&&i.apply(this,arguments)},n.GLOBAL_OBJ.onerror.__SENTRY_INSTRUMENTED__=!0}e.s(["addGlobalErrorInstrumentationHandler",()=>s],52347);let a=null;function u(e){let t="unhandledrejection";(0,r.addHandler)(t,e),(0,r.maybeInstrument)(t,l)}function l(){a=n.GLOBAL_OBJ.onunhandledrejection,n.GLOBAL_OBJ.onunhandledrejection=function(e){return(0,r.triggerHandlers)("unhandledrejection",e),!a||a.apply(this,arguments)},n.GLOBAL_OBJ.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}e.s(["addGlobalUnhandledRejectionInstrumentationHandler",()=>u],92865);var c=e.i(11925),p=e.i(17783),_=e.i(98942);let d=!1;function g(){d||(e.tag="sentry_tracingErrorCallback",d=!0,s(e),u(e));function e(){let e=(0,p.getActiveSpan)(),n=e&&(0,p.getRootSpan)(e);if(n){let e="internal_error";t.DEBUG_BUILD&&c.debug.log(`[Tracing] Root span: ${e} -> Global error occurred`),n.setStatus({code:_.SPAN_STATUS_ERROR,message:e})}}}e.s(["registerSpanErrorInstrumentation",()=>g],12185)},77518,e=>{"use strict";let t=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function n(e){let n=e.length>1024?`<truncated>${e.slice(-1024)}`:e,r=t.exec(n);return r?r.slice(1):[]}function r(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){let i=r>=0?e[r]:"/";i&&(t=`${i}/${t}`,n="/"===i.charAt(0))}return t=(function(e,t){let n=0;for(let t=e.length-1;t>=0;t--){let r=e[t];"."===r?e.splice(t,1):".."===r?(e.splice(t,1),n++):n&&(e.splice(t,1),n--)}if(t)for(;n--;)e.unshift("..");return e})(t.split("/").filter(e=>!!e),!n).join("/"),(n?"/":"")+t||"."}function i(e){let t=0;for(;t<e.length&&""===e[t];t++);let n=e.length-1;for(;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}function s(e,t){e=r(e).slice(1),t=r(t).slice(1);let n=i(e.split("/")),s=i(t.split("/")),o=Math.min(n.length,s.length),a=o;for(let e=0;e<o;e++)if(n[e]!==s[e]){a=e;break}let u=[];for(let e=a;e<n.length;e++)u.push("..");return(u=u.concat(s.slice(a))).join("/")}function o(e){let t=n(e),r=t[0]||"",i=t[1];return r||i?(i&&(i=i.slice(0,i.length-1)),r+i):"."}function a(e,t){let r=n(e)[2]||"";return t&&r.slice(-1*t.length)===t&&(r=r.slice(0,r.length-t.length)),r}e.s(["basename",()=>a,"dirname",()=>o,"relative",()=>s])},6984,93183,79835,e=>{"use strict";var t=e.i(3818),n=e.i(77518),r=e.i(31704);let i=(0,t.defineIntegration)((e={})=>{let t=e.root,i=e.prefix||"app:///",s="window"in r.GLOBAL_OBJ&&!!r.GLOBAL_OBJ.window,o=e.iteratee||function({isBrowser:e,root:t,prefix:r}){return i=>{if(!i.filename)return i;let s=/^[a-zA-Z]:\\/.test(i.filename)||i.filename.includes("\\")&&!i.filename.includes("/"),o=/^\//.test(i.filename);if(e){if(t){let e=i.filename;0===e.indexOf(t)&&(i.filename=e.replace(t,r))}}else if(s||o){let e=s?i.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):i.filename,o=t?(0,n.relative)(t,e):(0,n.basename)(e);i.filename=`${r}${o}`}return i}}({isBrowser:s,root:t,prefix:i});return{name:"RewriteFrames",processEvent(e){let t=e;return e.exception&&Array.isArray(e.exception.values)&&(t=function(e){try{return{...e,exception:{...e.exception,values:e.exception.values.map(e=>{var t;return{...e,...e.stacktrace&&{stacktrace:{...t=e.stacktrace,frames:t?.frames?.map(e=>o(e))}}}})}}}catch{return e}}(t)),t}}});e.s(["rewriteFramesIntegration",()=>i],6984);var s=e.i(71339),o=e.i(5537),a=e.i(11925);function u(e,t){!0===t.debug&&(o.DEBUG_BUILD?a.debug.enable():(0,a.consoleSandbox)(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),(0,s.getCurrentScope)().update(t.initialScope);let n=new e(t);return l(n),n.init(),n}function l(e){(0,s.getCurrentScope)().setClient(e)}e.s(["initAndBind",()=>u,"setCurrentClient",()=>l],93183);var c=e.i(37364),p=e.i(1627);function _(e){return{...e,path:"path"in e&&Array.isArray(e.path)?e.path.join("."):void 0,keys:"keys"in e?JSON.stringify(e.keys):void 0,unionErrors:"unionErrors"in e?JSON.stringify(e.unionErrors):void 0}}let d=(0,t.defineIntegration)((e={})=>{let t=e.limit??10;return{name:"ZodErrors",processEvent:(n,r)=>(function(e,t=!1,n,r){var i;if(!n.exception?.values||!r.originalException||(i=r.originalException,!((0,c.isError)(i)&&"ZodError"===i.name&&Array.isArray(i.issues)))||0===r.originalException.issues.length)return n;try{let i=(t?r.originalException.issues:r.originalException.issues.slice(0,e)).map(_);return t&&(Array.isArray(r.attachments)||(r.attachments=[]),r.attachments.push({filename:"zod_issues.json",data:JSON.stringify({issues:i})})),{...n,exception:{...n.exception,values:[{...n.exception.values[0],value:function(e){let t=new Set;for(let n of e.issues){let e=n.path.map(e=>"number"==typeof e?"<array>":e).join(".");e.length>0&&t.add(e)}let n=Array.from(t);if(0===n.length){let t="variable";if(e.issues.length>0){let n=e.issues[0];void 0!==n&&"expected"in n&&"string"==typeof n.expected&&(t=n.expected)}return`Failed to validate ${t}`}return`Failed to validate keys: ${(0,p.truncate)(n.join(", "),100)}`}(r.originalException)},...n.exception.values.slice(1)]},extra:{...n.extra,"zoderror.issues":i.slice(0,e)}}}catch(e){return{...n,extra:{...n.extra,"zoderrors sentry integration parse error":{message:"an exception was thrown while processing ZodError within applyZodErrorsToEvent()",error:e instanceof Error?`${e.name}: ${e.message}
${e.stack}`:"unknown"}}}}})(t,e.saveZodIssuesAsAttachment,n,r)}});e.s(["zodErrorsIntegration",()=>d],79835)},53471,e=>{"use strict";var t=e.i(83109),n=e.i(77610),r=e.i(71339),i=e.i(5537),s=e.i(58919),o=e.i(3818),a=e.i(12778),u=e.i(84227),l=e.i(677),c=e.i(87211),p=e.i(84004),_=e.i(21171),d=e.i(11925),g=e.i(88919),f=e.i(89620),E=e.i(37364),T=e.i(82186),m=e.i(89058),S=e.i(89322),h=e.i(23550),I=e.i(72016),A=e.i(17783),y=e.i(39983),b=e.i(38150);let N="Not capturing exception because it's already been captured.",R="Discarded session because of missing or non-string release",v=Symbol.for("SentryInternalError"),O=Symbol.for("SentryDoNotSendEventError");function U(e){return{message:e,[v]:!0}}function C(e){return{message:e,[O]:!0}}function B(e){return!!e&&"object"==typeof e&&v in e}function x(e){return!!e&&"object"==typeof e&&O in e}function k(e,t,n,r,i){let s,o=0,a=!1;e.on(n,()=>{o=0,clearTimeout(s),a=!1}),e.on(t,t=>{(o+=r(t))>=8e5?i(e):a||(a=!0,s=setTimeout(()=>{i(e)},5e3))}),e.on("flush",()=>{i(e)})}class D{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=(0,g.makeDsn)(e.dsn):i.DEBUG_BUILD&&d.debug.warn("No DSN provided, client will not send events."),this._dsn){const n=(0,t.getEnvelopeEndpointWithUrlEncodedAuth)(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:n})}this._options.enableLogs&&k(this,"afterCaptureLog","flushLogs",G,a._INTERNAL_flushLogsBuffer),(this._options.enableMetrics??this._options._experiments?.enableMetrics??!0)&&k(this,"afterCaptureMetric","flushMetrics",L,u._INTERNAL_flushMetricsBuffer)}captureException(e,t,n){let r=(0,m.uuid4)();if((0,m.checkOrSetAlreadyCaught)(e))return i.DEBUG_BUILD&&d.debug.log(N),r;let s={event_id:r,...t};return this._process(this.eventFromException(e,s).then(e=>this._captureEvent(e,s,n))),s.event_id}captureMessage(e,t,n,r){let i={event_id:(0,m.uuid4)(),...n},s=(0,E.isParameterizedString)(e)?e:String(e),o=(0,E.isPrimitive)(e)?this.eventFromMessage(s,t,i):this.eventFromException(e,i);return this._process(o.then(e=>this._captureEvent(e,i,r))),i.event_id}captureEvent(e,t,n){let r=(0,m.uuid4)();if(t?.originalException&&(0,m.checkOrSetAlreadyCaught)(t.originalException))return i.DEBUG_BUILD&&d.debug.log(N),r;let s={event_id:r,...t},o=e.sdkProcessingMetadata||{},a=o.capturedSpanScope,u=o.capturedSpanIsolationScope;return this._process(this._captureEvent(e,s,a||n,u)),s.event_id}captureSession(e){this.sendSession(e),(0,l.updateSession)(e,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}async flush(e){let t=this._transport;if(!t)return!0;this.emit("flush");let n=await this._isClientDoneProcessing(e),r=await t.flush(e);return n&&r}async close(e){let t=await this.flush(e);return this.getOptions().enabled=!1,this.emit("close"),t}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){let t=this._integrations[e.name];(0,o.setupIntegration)(this,e,this._integrations),t||(0,o.afterSetupIntegrations)(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let n=(0,s.createEventEnvelope)(e,this._dsn,this._options._metadata,this._options.tunnel);for(let e of t.attachments||[])n=(0,p.addItemToEnvelope)(n,(0,p.createAttachmentEnvelopeItem)(e));this.sendEnvelope(n).then(t=>this.emit("afterSendEvent",e,t))}sendSession(e){let{release:t,environment:r=n.DEFAULT_ENVIRONMENT}=this._options;if("aggregates"in e){let n=e.attrs||{};if(!n.release&&!t){i.DEBUG_BUILD&&d.debug.warn(R);return}n.release=n.release||t,n.environment=n.environment||r,e.attrs=n}else{if(!e.release&&!t){i.DEBUG_BUILD&&d.debug.warn(R);return}e.release=e.release||t,e.environment=e.environment||r}this.emit("beforeSendSession",e);let o=(0,s.createSessionEnvelope)(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(o)}recordDroppedEvent(e,t,n=1){if(this._options.sendClientReports){let r=`${e}:${t}`;i.DEBUG_BUILD&&d.debug.log(`Recording outcome: "${r}"${n>1?` (${n} times)`:""}`),this._outcomes[r]=(this._outcomes[r]||0)+n}}on(e,t){let n=this._hooks[e]=this._hooks[e]||new Set,r=(...e)=>t(...e);return n.add(r),()=>{n.delete(r)}}emit(e,...t){let n=this._hooks[e];n&&n.forEach(e=>e(...t))}async sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)try{return await this._transport.send(e)}catch(e){return i.DEBUG_BUILD&&d.debug.error("Error while sending envelope:",e),{}}return i.DEBUG_BUILD&&d.debug.error("Transport disabled"),{}}_setupIntegrations(){let{integrations:e}=this._options;this._integrations=(0,o.setupIntegrations)(this,e),(0,o.afterSetupIntegrations)(this,e)}_updateSessionFromEvent(e,t){let n="fatal"===t.level,r=!1,i=t.exception?.values;if(i){for(let e of(r=!0,n=!1,i))if(e.mechanism?.handled===!1){n=!0;break}}let s="ok"===e.status;(s&&0===e.errors||s&&n)&&((0,l.updateSession)(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}async _isClientDoneProcessing(e){let t=0;for(;!e||t<e;){if(await new Promise(e=>setTimeout(e,1)),!this._numProcessing)return!0;t++}return!1}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n,i){let s=this.getOptions(),o=Object.keys(this._integrations);return!t.integrations&&o?.length&&(t.integrations=o),this.emit("preprocessEvent",e,t),e.type||i.setLastEventId(e.event_id||t.event_id),(0,h.prepareEvent)(s,e,t,n,this,i).then(e=>(null===e||(this.emit("postprocessEvent",e,t),e.contexts={trace:(0,r.getTraceContextFromScope)(n),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:(0,c.getDynamicSamplingContextFromScope)(this,n),...e.sdkProcessingMetadata}),e))}_captureEvent(e,t={},n=(0,r.getCurrentScope)(),s=(0,r.getIsolationScope)()){return i.DEBUG_BUILD&&P(e)&&d.debug.log(`Captured error event \`${(0,f.getPossibleEventMessages)(e)[0]||"<unknown>"}\``),this._processEvent(e,t,n,s).then(e=>e.event_id,e=>{i.DEBUG_BUILD&&(x(e)?d.debug.log(e.message):B(e)?d.debug.warn(e.message):d.debug.warn(e))})}_processEvent(e,t,n,r){let i=this.getOptions(),{sampleRate:s}=i,o=M(e),a=P(e),u=e.type||"error",l=`before send for type \`${u}\``,c=void 0===s?void 0:(0,S.parseSampleRate)(s);if(a&&"number"==typeof c&&Math.random()>c)return this.recordDroppedEvent("sample_rate","error"),(0,y.rejectedSyncPromise)(C(`Discarding event because it's not included in the random sample (sampling rate = ${s})`));let p="replay_event"===u?"replay":u;return this._prepareEvent(e,t,n,r).then(e=>{if(null===e)throw this.recordDroppedEvent("event_processor",p),C("An event processor returned `null`, will not send event.");return t.data&&!0===t.data.__sentry__?e:function(e,t){let n=`${t} must return \`null\` or a valid event.`;if((0,E.isThenable)(e))return e.then(e=>{if(!(0,E.isPlainObject)(e)&&null!==e)throw U(n);return e},e=>{throw U(`${t} rejected with ${e}`)});if(!(0,E.isPlainObject)(e)&&null!==e)throw U(n);return e}(function(e,t,n,r){let{beforeSend:i,beforeSendTransaction:s,beforeSendSpan:o,ignoreSpans:a}=t,u=n;if(P(u)&&i)return i(u,r);if(M(u)){if(o||a){let t=function(e){let{trace_id:t,parent_span_id:n,span_id:r,status:i,origin:s,data:o,op:a}=e.contexts?.trace??{};return{data:o??{},description:e.transaction,op:a,parent_span_id:n,span_id:r??"",start_timestamp:e.start_timestamp??0,status:i,timestamp:e.timestamp,trace_id:t??"",origin:s,profile_id:o?.[b.SEMANTIC_ATTRIBUTE_PROFILE_ID],exclusive_time:o?.[b.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME],measurements:e.measurements,is_segment:!0}}(u);if(a?.length&&(0,I.shouldIgnoreSpan)(t,a))return null;if(o){let e=o(t);if(e)u=(0,T.merge)(n,{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[b.SEMANTIC_ATTRIBUTE_PROFILE_ID]:e.profile_id},...e.exclusive_time&&{[b.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME]:e.exclusive_time}}}},measurements:e.measurements});else(0,A.showSpanDropWarning)()}if(u.spans){let t=[],n=u.spans;for(let e of n){if(a?.length&&(0,I.shouldIgnoreSpan)(e,a)){(0,I.reparentChildSpans)(n,e);continue}if(o){let n=o(e);n?t.push(n):((0,A.showSpanDropWarning)(),t.push(e))}else t.push(e)}let r=u.spans.length-t.length;r&&e.recordDroppedEvent("before_send","span",r),u.spans=t}}if(s){if(u.spans){let e=u.spans.length;u.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:e}}return s(u,r)}}return u}(this,i,e,t),l)}).then(i=>{if(null===i){if(this.recordDroppedEvent("before_send",p),o){let t=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",t)}throw C(`${l} returned \`null\`, will not send event.`)}let s=n.getSession()||r.getSession();if(a&&s&&this._updateSessionFromEvent(s,i),o){let e=(i.sdkProcessingMetadata?.spanCountBeforeProcessing||0)-(i.spans?i.spans.length:0);e>0&&this.recordDroppedEvent("before_send","span",e)}let u=i.transaction_info;return o&&u&&i.transaction!==e.transaction&&(i.transaction_info={...u,source:"custom"}),this.sendEvent(i,t),i}).then(null,e=>{if(x(e)||B(e))throw e;throw this.captureException(e,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:e}),U(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${e}`)})}_process(e){this._numProcessing++,e.then(e=>(this._numProcessing--,e),e=>(this._numProcessing--,e))}_clearOutcomes(){let e=this._outcomes;return this._outcomes={},Object.entries(e).map(([e,t])=>{let[n,r]=e.split(":");return{reason:n,category:r,quantity:t}})}_flushOutcomes(){var e;let t;i.DEBUG_BUILD&&d.debug.log("Flushing outcomes...");let n=this._clearOutcomes();if(0===n.length){i.DEBUG_BUILD&&d.debug.log("No outcomes to send");return}if(!this._dsn){i.DEBUG_BUILD&&d.debug.log("No dsn provided, will not send outcomes");return}i.DEBUG_BUILD&&d.debug.log("Sending outcomes:",n);let r=(e=this._options.tunnel&&(0,g.dsnToString)(this._dsn),t=[{type:"client_report"},{timestamp:(0,_.dateTimestampInSeconds)(),discarded_events:n}],(0,p.createEnvelope)(e?{dsn:e}:{},[t]));this.sendEnvelope(r)}}function P(e){return void 0===e.type}function M(e){return"transaction"===e.type}function L(e){let t=0;return e.name&&(t+=2*e.name.length),(t+=8)+w(e.attributes)}function G(e){let t=0;return e.message&&(t+=2*e.message.length),t+w(e.attributes)}function w(e){if(!e)return 0;let t=0;return Object.values(e).forEach(e=>{Array.isArray(e)?t+=e.length*$(e[0]):(0,E.isPrimitive)(e)?t+=$(e):t+=100}),t}function $(e){return"string"==typeof e?2*e.length:"number"==typeof e?8:4*("boolean"==typeof e)}e.s(["Client",()=>D],53471)},89649,e=>{"use strict";var t=e.i(2455);function n(e,r,i=[r],s="npm"){let o=e._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${r}`,packages:i.map(e=>({name:`${s}:@sentry/${e}`,version:t.SDK_VERSION})),version:t.SDK_VERSION}),e._metadata=o}e.s(["applySdkMetadata",()=>n])},44876,e=>{"use strict";function t(e){if(void 0!==e)return e>=400&&e<500?"warning":e>=500?"error":void 0}e.s(["getBreadcrumbLogLevelFromHttpStatusCode",()=>t])},39192,e=>{"use strict";function t(e){return"isRelative"in e}function n(e,t){let n=0>=e.indexOf("://")&&0!==e.indexOf("//"),r=t??(n?"thismessage:/":void 0);try{if("canParse"in URL&&!URL.canParse(e,r))return;let t=new URL(e,r);if(n)return{isRelative:n,pathname:t.pathname,search:t.search,hash:t.hash};return t}catch{}}function r(e){if(t(e))return e.pathname;let n=new URL(e);return n.search="",n.hash="",["80","443"].includes(n.port)&&(n.port=""),n.password&&(n.password="%filtered%"),n.username&&(n.username="%filtered%"),n.toString()}function i(e){if(!e)return{};let t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};let n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function s(e){return e.split(/[?#]/,1)[0]}function o(e){let{protocol:t,host:n,path:r}=e,i=n?.replace(/^.*@/,"[filtered]:[filtered]@").replace(/(:80)$/,"").replace(/(:443)$/,"")||"";return`${t?`${t}://`:""}${i}${r}`}e.i(38150),e.s(["getSanitizedUrlString",()=>o,"getSanitizedUrlStringFromUrlObject",()=>r,"isURLObjectRelative",()=>t,"parseStringToURLObject",()=>n,"parseUrl",()=>i,"stripUrlQueryAndFragment",()=>s])},73268,e=>{"use strict";var t=e.i(37364);function n(e,n,s,o,a,u){if(!a.exception?.values||!u||!(0,t.isInstanceOf)(u.originalException,Error))return;let l=a.exception.values.length>0?a.exception.values[a.exception.values.length-1]:void 0;l&&(a.exception.values=function e(n,s,o,a,u,l,c,p){if(l.length>=o+1)return l;let _=[...l];if((0,t.isInstanceOf)(a[u],Error)){r(c,p);let t=n(s,a[u]),l=_.length;i(t,u,l,p),_=e(n,s,o,a[u],u,[t,..._],t,l)}return Array.isArray(a.errors)&&a.errors.forEach((a,l)=>{if((0,t.isInstanceOf)(a,Error)){r(c,p);let t=n(s,a),d=_.length;i(t,`errors[${l}]`,d,p),_=e(n,s,o,a,u,[t,..._],t,d)}}),_}(e,n,o,u.originalException,s,a.exception.values,l,0))}function r(e,t){e.mechanism={handled:!0,type:"auto.core.linked_errors",...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function i(e,t,n,r){e.mechanism={handled:!0,...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}e.s(["applyAggregateErrorsToEvent",()=>n])},37785,e=>{"use strict";var t=e.i(39192);function n(e,n){var i,s,o,a;let u,l=n?.getDsn(),c=n?.getOptions().tunnel;return i=e,s=l,!(!(u=(0,t.parseStringToURLObject)(i))||(0,t.isURLObjectRelative)(u))&&!!s&&u.host.includes(s.host)&&/(^|&|\?)sentry_key=/.test(u.search)||(o=e,!!(a=c)&&r(o)===r(a))}function r(e){return"/"===e[e.length-1]?e.slice(0,-1):e}e.s(["isSentryRequestUrl",()=>n])},98836,e=>{"use strict";function t(e,t,n){let r,i,s,o=n?.maxWait?Math.max(n.maxWait,t):0,a=n?.setTimeoutImpl||setTimeout;function u(){return l(),r=e()}function l(){void 0!==i&&clearTimeout(i),void 0!==s&&clearTimeout(s),i=s=void 0}function c(){return i&&clearTimeout(i),i=a(u,t),o&&void 0===s&&(s=a(u,o)),r}return c.cancel=l,c.flush=function(){return void 0!==i||void 0!==s?u():r},c}e.s(["debounce",()=>t])},69944,e=>{"use strict";var t=e.i(3818),n=e.i(3940),r=e.i(72259);let i=(0,t.defineIntegration)(({growthbookClass:e})=>({name:"GrowthBook",setupOnce(){let t=e.prototype;"function"==typeof t.isOn&&(0,r.fill)(t,"isOn",s),"function"==typeof t.getFeatureValue&&(0,r.fill)(t,"getFeatureValue",s)},processEvent:(e,t,r)=>(0,n._INTERNAL_copyFlagsFromScopeToEvent)(e)}));function s(e){return function(...t){let r=t[0],i=e.apply(this,t);return"string"==typeof r&&"boolean"==typeof i&&((0,n._INTERNAL_insertFlagToScope)(r,i),(0,n._INTERNAL_addFeatureFlagToActiveSpan)(r,i)),i}}e.s(["growthbookIntegration",()=>i])}];

//# sourceMappingURL=a6501_%40sentry_core_build_esm_9111d4f5._.js.map