{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/index.js","sources":[],"sourcesContent":[],"names":[],"mappings":""}},
    {"offset": {"line": 53, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/http.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/http.ts"],"sourcesContent":["import type { ClientRequest, IncomingMessage, RequestOptions, ServerResponse } from 'node:http';\nimport { diag } from '@opentelemetry/api';\nimport type { HttpInstrumentationConfig } from '@opentelemetry/instrumentation-http';\nimport { HttpInstrumentation } from '@opentelemetry/instrumentation-http';\nimport type { Span } from '@sentry/core';\nimport { defineIntegration, getClient, hasSpansEnabled } from '@sentry/core';\nimport type { HTTPModuleRequestIncomingMessage, NodeClient } from '@sentry/node-core';\nimport {\n  type SentryHttpInstrumentationOptions,\n  addOriginToSpan,\n  generateInstrumentOnce,\n  getRequestUrl,\n  httpServerIntegration,\n  httpServerSpansIntegration,\n  NODE_VERSION,\n  SentryHttpInstrumentation,\n} from '@sentry/node-core';\nimport type { NodeClientOptions } from '../types';\n\nconst INTEGRATION_NAME = 'Http';\n\nconst INSTRUMENTATION_NAME = '@opentelemetry_sentry-patched/instrumentation-http';\n\ninterface HttpOptions {\n  /**\n   * Whether breadcrumbs should be recorded for outgoing requests.\n   * Defaults to true\n   */\n  breadcrumbs?: boolean;\n\n  /**\n   * If set to false, do not emit any spans.\n   * This will ensure that the default HttpInstrumentation from OpenTelemetry is not setup,\n   * only the Sentry-specific instrumentation for request isolation is applied.\n   *\n   * If `skipOpenTelemetrySetup: true` is configured, this defaults to `false`, otherwise it defaults to `true`.\n   */\n  spans?: boolean;\n\n  /**\n   * Whether the integration should create [Sessions](https://docs.sentry.io/product/releases/health/#sessions) for incoming requests to track the health and crash-free rate of your releases in Sentry.\n   * Read more about Release Health: https://docs.sentry.io/product/releases/health/\n   *\n   * Defaults to `true`.\n   */\n  trackIncomingRequestsAsSessions?: boolean;\n\n  /**\n   * Number of milliseconds until sessions tracked with `trackIncomingRequestsAsSessions` will be flushed as a session aggregate.\n   *\n   * Defaults to `60000` (60s).\n   */\n  sessionFlushingDelayMS?: number;\n\n  /**\n   * Do not capture spans or breadcrumbs for outgoing HTTP requests to URLs where the given callback returns `true`.\n   * This controls both span & breadcrumb creation - spans will be non recording if tracing is disabled.\n   *\n   * The `url` param contains the entire URL, including query string (if any), protocol, host, etc. of the outgoing request.\n   * For example: `'https://someService.com/users/details?id=123'`\n   *\n   * The `request` param contains the original {@type RequestOptions} object used to make the outgoing request.\n   * You can use it to filter on additional properties like method, headers, etc.\n   */\n  ignoreOutgoingRequests?: (url: string, request: RequestOptions) => boolean;\n\n  /**\n   * Do not capture spans for incoming HTTP requests to URLs where the given callback returns `true`.\n   * Spans will be non recording if tracing is disabled.\n   *\n   * The `urlPath` param consists of the URL path and query string (if any) of the incoming request.\n   * For example: `'/users/details?id=123'`\n   *\n   * The `request` param contains the original {@type IncomingMessage} object of the incoming request.\n   * You can use it to filter on additional properties like method, headers, etc.\n   */\n  ignoreIncomingRequests?: (urlPath: string, request: IncomingMessage) => boolean;\n\n  /**\n   * A hook that can be used to mutate the span for incoming requests.\n   * This is triggered after the span is created, but before it is recorded.\n   */\n  incomingRequestSpanHook?: (span: Span, request: IncomingMessage, response: ServerResponse) => void;\n\n  /**\n   * Whether to automatically ignore common static asset requests like favicon.ico, robots.txt, etc.\n   * This helps reduce noise in your transactions.\n   *\n   * @default `true`\n   */\n  ignoreStaticAssets?: boolean;\n\n  /**\n   * Do not capture spans for incoming HTTP requests with the given status codes.\n   * By default, spans with some 3xx and 4xx status codes are ignored (see @default).\n   * Expects an array of status codes or a range of status codes, e.g. [[300,399], 404] would ignore 3xx and 404 status codes.\n   *\n   * @default `[[401, 404], [301, 303], [305, 399]]`\n   */\n  dropSpansForIncomingRequestStatusCodes?: (number | [number, number])[];\n\n  /**\n   * Do not capture the request body for incoming HTTP requests to URLs where the given callback returns `true`.\n   * This can be useful for long running requests where the body is not needed and we want to avoid capturing it.\n   *\n   * @param url Contains the entire URL, including query string (if any), protocol, host, etc. of the incoming request.\n   * @param request Contains the {@type RequestOptions} object used to make the incoming request.\n   */\n  ignoreIncomingRequestBody?: (url: string, request: RequestOptions) => boolean;\n\n  /**\n   * Controls the maximum size of incoming HTTP request bodies attached to events.\n   *\n   * Available options:\n   * - 'none': No request bodies will be attached\n   * - 'small': Request bodies up to 1,000 bytes will be attached\n   * - 'medium': Request bodies up to 10,000 bytes will be attached (default)\n   * - 'always': Request bodies will always be attached\n   *\n   * Note that even with 'always' setting, bodies exceeding 1MB will never be attached\n   * for performance and security reasons.\n   *\n   * @default 'medium'\n   */\n  maxIncomingRequestBodySize?: 'none' | 'small' | 'medium' | 'always';\n\n  /**\n   * If true, do not generate spans for incoming requests at all.\n   * This is used by Remix to avoid generating spans for incoming requests, as it generates its own spans.\n   */\n  disableIncomingRequestSpans?: boolean;\n\n  /**\n   * Additional instrumentation options that are passed to the underlying HttpInstrumentation.\n   */\n  instrumentation?: {\n    requestHook?: (span: Span, req: ClientRequest | HTTPModuleRequestIncomingMessage) => void;\n    responseHook?: (span: Span, response: HTTPModuleRequestIncomingMessage | ServerResponse) => void;\n    applyCustomAttributesOnSpan?: (\n      span: Span,\n      request: ClientRequest | HTTPModuleRequestIncomingMessage,\n      response: HTTPModuleRequestIncomingMessage | ServerResponse,\n    ) => void;\n  };\n}\n\nexport const instrumentSentryHttp = generateInstrumentOnce<SentryHttpInstrumentationOptions>(\n  `${INTEGRATION_NAME}.sentry`,\n  options => {\n    return new SentryHttpInstrumentation(options);\n  },\n);\n\nexport const instrumentOtelHttp = generateInstrumentOnce<HttpInstrumentationConfig>(INTEGRATION_NAME, config => {\n  const instrumentation = new HttpInstrumentation({\n    ...config,\n    // This is hard-coded and can never be overridden by the user\n    disableIncomingRequestInstrumentation: true,\n  });\n\n  // We want to update the logger namespace so we can better identify what is happening here\n  try {\n    instrumentation['_diag'] = diag.createComponentLogger({\n      namespace: INSTRUMENTATION_NAME,\n    });\n    // @ts-expect-error We are writing a read-only property here...\n    instrumentation.instrumentationName = INSTRUMENTATION_NAME;\n  } catch {\n    // ignore errors here...\n  }\n\n  return instrumentation;\n});\n\n/** Exported only for tests. */\nexport function _shouldUseOtelHttpInstrumentation(\n  options: HttpOptions,\n  clientOptions: Partial<NodeClientOptions> = {},\n): boolean {\n  // If `spans` is passed in, it takes precedence\n  // Else, we by default emit spans, unless `skipOpenTelemetrySetup` is set to `true` or spans are not enabled\n  if (typeof options.spans === 'boolean') {\n    return options.spans;\n  }\n\n  if (clientOptions.skipOpenTelemetrySetup) {\n    return false;\n  }\n\n  // IMPORTANT: We only disable span instrumentation when spans are not enabled _and_ we are on Node 22+,\n  // as otherwise the necessary diagnostics channel is not available yet\n  if (!hasSpansEnabled(clientOptions) && NODE_VERSION.major >= 22) {\n    return false;\n  }\n\n  return true;\n}\n\n/**\n * The http integration instruments Node's internal http and https modules.\n * It creates breadcrumbs and spans for outgoing HTTP requests which will be attached to the currently active span.\n */\nexport const httpIntegration = defineIntegration((options: HttpOptions = {}) => {\n  const spans = options.spans ?? true;\n  const disableIncomingRequestSpans = options.disableIncomingRequestSpans;\n\n  const serverOptions = {\n    sessions: options.trackIncomingRequestsAsSessions,\n    sessionFlushingDelayMS: options.sessionFlushingDelayMS,\n    ignoreRequestBody: options.ignoreIncomingRequestBody,\n    maxRequestBodySize: options.maxIncomingRequestBodySize,\n  } satisfies Parameters<typeof httpServerIntegration>[0];\n\n  const serverSpansOptions = {\n    ignoreIncomingRequests: options.ignoreIncomingRequests,\n    ignoreStaticAssets: options.ignoreStaticAssets,\n    ignoreStatusCodes: options.dropSpansForIncomingRequestStatusCodes,\n    instrumentation: options.instrumentation,\n    onSpanCreated: options.incomingRequestSpanHook,\n  } satisfies Parameters<typeof httpServerSpansIntegration>[0];\n\n  const server = httpServerIntegration(serverOptions);\n  const serverSpans = httpServerSpansIntegration(serverSpansOptions);\n\n  const enableServerSpans = spans && !disableIncomingRequestSpans;\n\n  return {\n    name: INTEGRATION_NAME,\n    setup(client: NodeClient) {\n      const clientOptions = client.getOptions();\n\n      if (enableServerSpans && hasSpansEnabled(clientOptions)) {\n        serverSpans.setup(client);\n      }\n    },\n    setupOnce() {\n      const clientOptions = (getClient<NodeClient>()?.getOptions() || {}) satisfies Partial<NodeClientOptions>;\n      const useOtelHttpInstrumentation = _shouldUseOtelHttpInstrumentation(options, clientOptions);\n\n      server.setupOnce();\n\n      const sentryHttpInstrumentationOptions = {\n        breadcrumbs: options.breadcrumbs,\n        propagateTraceInOutgoingRequests: !useOtelHttpInstrumentation,\n        ignoreOutgoingRequests: options.ignoreOutgoingRequests,\n      } satisfies SentryHttpInstrumentationOptions;\n\n      // This is Sentry-specific instrumentation for outgoing request breadcrumbs & trace propagation\n      instrumentSentryHttp(sentryHttpInstrumentationOptions);\n\n      // This is the \"regular\" OTEL instrumentation that emits outgoing request spans\n      if (useOtelHttpInstrumentation) {\n        const instrumentationConfig = getConfigWithDefaults(options);\n        instrumentOtelHttp(instrumentationConfig);\n      }\n    },\n    processEvent(event) {\n      // Note: We always run this, even if spans are disabled\n      // The reason being that e.g. the remix integration disables span creation here but still wants to use the ignore status codes option\n      return serverSpans.processEvent(event);\n    },\n  };\n});\n\nfunction getConfigWithDefaults(options: Partial<HttpOptions> = {}): HttpInstrumentationConfig {\n  const instrumentationConfig = {\n    ignoreOutgoingRequestHook: request => {\n      const url = getRequestUrl(request);\n\n      if (!url) {\n        return false;\n      }\n\n      const _ignoreOutgoingRequests = options.ignoreOutgoingRequests;\n      if (_ignoreOutgoingRequests?.(url, request)) {\n        return true;\n      }\n\n      return false;\n    },\n\n    requireParentforOutgoingSpans: false,\n    requestHook: (span, req) => {\n      addOriginToSpan(span, 'auto.http.otel.http');\n\n      options.instrumentation?.requestHook?.(span, req);\n    },\n    responseHook: (span, res) => {\n      options.instrumentation?.responseHook?.(span, res);\n    },\n    applyCustomAttributesOnSpan: (\n      span: Span,\n      request: ClientRequest | HTTPModuleRequestIncomingMessage,\n      response: HTTPModuleRequestIncomingMessage | ServerResponse,\n    ) => {\n      options.instrumentation?.applyCustomAttributesOnSpan?.(span, request, response);\n    },\n  } satisfies HttpInstrumentationConfig;\n\n  return instrumentationConfig;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 205, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/node-fetch.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/node-fetch.ts"],"sourcesContent":["import type { UndiciInstrumentationConfig } from '@opentelemetry/instrumentation-undici';\nimport { UndiciInstrumentation } from '@opentelemetry/instrumentation-undici';\nimport type { IntegrationFn } from '@sentry/core';\nimport { defineIntegration, getClient, hasSpansEnabled, SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN } from '@sentry/core';\nimport type { NodeClient } from '@sentry/node-core';\nimport { generateInstrumentOnce, SentryNodeFetchInstrumentation } from '@sentry/node-core';\nimport type { NodeClientOptions } from '../types';\n\nconst INTEGRATION_NAME = 'NodeFetch';\n\ninterface NodeFetchOptions extends Pick<UndiciInstrumentationConfig, 'requestHook' | 'responseHook'> {\n  /**\n   * Whether breadcrumbs should be recorded for requests.\n   * Defaults to true\n   */\n  breadcrumbs?: boolean;\n\n  /**\n   * If set to false, do not emit any spans.\n   * This will ensure that the default UndiciInstrumentation from OpenTelemetry is not setup,\n   * only the Sentry-specific instrumentation for breadcrumbs & trace propagation is applied.\n   *\n   * If `skipOpenTelemetrySetup: true` is configured, this defaults to `false`, otherwise it defaults to `true`.\n   */\n  spans?: boolean;\n\n  /**\n   * Do not capture spans or breadcrumbs for outgoing fetch requests to URLs where the given callback returns `true`.\n   * This controls both span & breadcrumb creation - spans will be non recording if tracing is disabled.\n   */\n  ignoreOutgoingRequests?: (url: string) => boolean;\n}\n\nconst instrumentOtelNodeFetch = generateInstrumentOnce(\n  INTEGRATION_NAME,\n  UndiciInstrumentation,\n  (options: NodeFetchOptions) => {\n    return getConfigWithDefaults(options);\n  },\n);\n\nconst instrumentSentryNodeFetch = generateInstrumentOnce(\n  `${INTEGRATION_NAME}.sentry`,\n  SentryNodeFetchInstrumentation,\n  (options: NodeFetchOptions) => {\n    return options;\n  },\n);\n\nconst _nativeNodeFetchIntegration = ((options: NodeFetchOptions = {}) => {\n  return {\n    name: 'NodeFetch',\n    setupOnce() {\n      const instrumentSpans = _shouldInstrumentSpans(options, getClient<NodeClient>()?.getOptions());\n\n      // This is the \"regular\" OTEL instrumentation that emits spans\n      if (instrumentSpans) {\n        instrumentOtelNodeFetch(options);\n      }\n\n      // This is the Sentry-specific instrumentation that creates breadcrumbs & propagates traces\n      // This must be registered after the OTEL one, to ensure that the core trace propagation logic takes presedence\n      // Otherwise, the sentry-trace header may be set multiple times\n      instrumentSentryNodeFetch(options);\n    },\n  };\n}) satisfies IntegrationFn;\n\nexport const nativeNodeFetchIntegration = defineIntegration(_nativeNodeFetchIntegration);\n\n// Matching the behavior of the base instrumentation\nfunction getAbsoluteUrl(origin: string, path: string = '/'): string {\n  const url = `${origin}`;\n\n  if (url.endsWith('/') && path.startsWith('/')) {\n    return `${url}${path.slice(1)}`;\n  }\n\n  if (!url.endsWith('/') && !path.startsWith('/')) {\n    return `${url}/${path.slice(1)}`;\n  }\n\n  return `${url}${path}`;\n}\n\nfunction _shouldInstrumentSpans(options: NodeFetchOptions, clientOptions: Partial<NodeClientOptions> = {}): boolean {\n  // If `spans` is passed in, it takes precedence\n  // Else, we by default emit spans, unless `skipOpenTelemetrySetup` is set to `true` or spans are not enabled\n  return typeof options.spans === 'boolean'\n    ? options.spans\n    : !clientOptions.skipOpenTelemetrySetup && hasSpansEnabled(clientOptions);\n}\n\nfunction getConfigWithDefaults(options: Partial<NodeFetchOptions> = {}): UndiciInstrumentationConfig {\n  const instrumentationConfig = {\n    requireParentforSpans: false,\n    ignoreRequestHook: request => {\n      const url = getAbsoluteUrl(request.origin, request.path);\n      const _ignoreOutgoingRequests = options.ignoreOutgoingRequests;\n      const shouldIgnore = _ignoreOutgoingRequests && url && _ignoreOutgoingRequests(url);\n\n      return !!shouldIgnore;\n    },\n    startSpanHook: () => {\n      return {\n        [SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]: 'auto.http.otel.node_fetch',\n      };\n    },\n    requestHook: options.requestHook,\n    responseHook: options.responseHook,\n  } satisfies UndiciInstrumentationConfig;\n\n  return instrumentationConfig;\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAQA,MAAM,gBAAA,GAAmB,WAAW;AAyBpC,MAAM,uBAAA,OAA0B,4QAAsB,EACpD,gBAAgB,EAChB,kRAAqB,EACrB,CAAC,OAAO,KAAuB;IAC7B,OAAO,qBAAqB,CAAC,OAAO,CAAC;AACvC,CAAC;AAGH,MAAM,yBAAA,OAA4B,4QAAsB,EACtD,CAAC,EAAA,gBAAA,CAAA,OAAA,CAAA,EACA,iUAAA,EACA,CAAA,OAAA,KAAA;IACA,OAAA,OAAA;AACA,CAAA;AAGA,MAAA,2BAAA,GAAA,CAAA,OAAA,GAAA,CAAA,CAAA,KAAA;IACA,OAAA;QACA,IAAA,EAAA,WAAA;QACA,SAAA,GAAA;YACA,MAAA,eAAA,GAAA,sBAAA,CAAA,OAAA,MAAA,kPAAA,EAAA,GAAA,UAAA,EAAA,CAAA;YAEA,8DAAA;YACA,IAAA,eAAA,EAAA;gBACA,uBAAA,CAAA,OAAA,CAAA;YACA;YAEA,2FAAA;YACA,+GAAA;YACA,+DAAA;YACA,yBAAA,CAAA,OAAA,CAAA;QACA,CAAA;IACA,CAAA;AACA,CAAA,CAAA;AAEA,MAAA,0BAAA,OAAA,wPAAA,EAAA,2BAAA;AAEA,oDAAA;AACA,SAAA,cAAA,CAAA,MAAA,EAAA,IAAA,GAAA,GAAA,EAAA;IACA,MAAA,GAAA,GAAA,CAAA,EAAA,MAAA,CAAA,CAAA;IAEA,IAAA,GAAA,CAAA,QAAA,CAAA,GAAA,CAAA,IAAA,IAAA,CAAA,UAAA,CAAA,GAAA,CAAA,EAAA;QACA,OAAA,CAAA,EAAA,GAAA,CAAA,EAAA,IAAA,CAAA,KAAA,CAAA,CAAA,CAAA,CAAA,CAAA;IACA;IAEA,IAAA,CAAA,GAAA,CAAA,QAAA,CAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,UAAA,CAAA,GAAA,CAAA,EAAA;QACA,OAAA,CAAA,EAAA,GAAA,CAAA,CAAA,EAAA,IAAA,CAAA,KAAA,CAAA,CAAA,CAAA,CAAA,CAAA;IACA;IAEA,OAAA,CAAA,EAAA,GAAA,CAAA,EAAA,IAAA,CAAA,CAAA;AACA;AAEA,SAAA,sBAAA,CAAA,OAAA,EAAA,aAAA,GAAA,CAAA,CAAA,EAAA;IACA,+CAAA;IACA,4GAAA;IACA,OAAA,OAAA,OAAA,CAAA,KAAA,KAAA,YACA,OAAA,CAAA,KAAA,GACA,CAAA,aAAA,CAAA,sBAAA,QAAA,mQAAA,EAAA,aAAA,CAAA;AACA;AAEA,SAAA,qBAAA,CAAA,OAAA,GAAA,CAAA,CAAA,EAAA;IACA,MAAA,qBAAA,GAAA;QACA,qBAAA,EAAA,KAAA;QACA,iBAAA,GAAA,OAAA,IAAA;YACA,MAAA,GAAA,GAAA,cAAA,CAAA,OAAA,CAAA,MAAA,EAAA,OAAA,CAAA,IAAA,CAAA;YACA,MAAA,uBAAA,GAAA,OAAA,CAAA,sBAAA;YACA,MAAA,YAAA,GAAA,uBAAA,IAAA,GAAA,IAAA,uBAAA,CAAA,GAAA,CAAA;YAEA,OAAA,CAAA,CAAA,YAAA;QACA,CAAA;QACA,aAAA,EAAA,MAAA;YACA,OAAA;gBACA,CAAA,8QAAA,CAAA,EAAA,2BAAA;YACA,CAAA;QACA,CAAA;QACA,WAAA,EAAA,OAAA,CAAA,WAAA;QACA,YAAA,EAAA,OAAA,CAAA,YAAA;IACA,CAAA;IAEA,OAAA,qBAAA;AACA"}},
    {"offset": {"line": 284, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/fs.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/fs.ts"],"sourcesContent":["import { FsInstrumentation } from '@opentelemetry/instrumentation-fs';\nimport { defineIntegration, SEMANTIC_ATTRIBUTE_SENTRY_OP, SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN } from '@sentry/core';\nimport { generateInstrumentOnce } from '@sentry/node-core';\n\nconst INTEGRATION_NAME = 'FileSystem';\n\n/**\n * This integration will create spans for `fs` API operations, like reading and writing files.\n *\n * **WARNING:** This integration may add significant overhead to your application. Especially in scenarios with a lot of\n * file I/O, like for example when running a framework dev server, including this integration can massively slow down\n * your application.\n *\n * @param options Configuration for this integration.\n */\nexport const fsIntegration = defineIntegration(\n  (\n    options: {\n      /**\n       * Setting this option to `true` will include any filepath arguments from your `fs` API calls as span attributes.\n       *\n       * Defaults to `false`.\n       */\n      recordFilePaths?: boolean;\n\n      /**\n       * Setting this option to `true` will include the error messages of failed `fs` API calls as a span attribute.\n       *\n       * Defaults to `false`.\n       */\n      recordErrorMessagesAsSpanAttributes?: boolean;\n    } = {},\n  ) => {\n    return {\n      name: INTEGRATION_NAME,\n      setupOnce() {\n        generateInstrumentOnce(\n          INTEGRATION_NAME,\n          () =>\n            new FsInstrumentation({\n              requireParentSpan: true,\n              endHook(functionName, { args, span, error }) {\n                span.updateName(`fs.${functionName}`);\n\n                span.setAttributes({\n                  [SEMANTIC_ATTRIBUTE_SENTRY_OP]: 'file',\n                  [SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]: 'auto.file.fs',\n                });\n\n                if (options.recordErrorMessagesAsSpanAttributes) {\n                  if (typeof args[0] === 'string' && FS_OPERATIONS_WITH_PATH_ARG.includes(functionName)) {\n                    span.setAttribute('path_argument', args[0]);\n                  } else if (\n                    typeof args[0] === 'string' &&\n                    typeof args[1] === 'string' &&\n                    FS_OPERATIONS_WITH_TARGET_PATH.includes(functionName)\n                  ) {\n                    span.setAttribute('target_argument', args[0]);\n                    span.setAttribute('path_argument', args[1]);\n                  } else if (typeof args[0] === 'string' && FS_OPERATIONS_WITH_PREFIX.includes(functionName)) {\n                    span.setAttribute('prefix_argument', args[0]);\n                  } else if (\n                    typeof args[0] === 'string' &&\n                    typeof args[1] === 'string' &&\n                    FS_OPERATIONS_WITH_EXISTING_PATH_NEW_PATH.includes(functionName)\n                  ) {\n                    span.setAttribute('existing_path_argument', args[0]);\n                    span.setAttribute('new_path_argument', args[1]);\n                  } else if (\n                    typeof args[0] === 'string' &&\n                    typeof args[1] === 'string' &&\n                    FS_OPERATIONS_WITH_SRC_DEST.includes(functionName)\n                  ) {\n                    span.setAttribute('src_argument', args[0]);\n                    span.setAttribute('dest_argument', args[1]);\n                  } else if (\n                    typeof args[0] === 'string' &&\n                    typeof args[1] === 'string' &&\n                    FS_OPERATIONS_WITH_OLD_PATH_NEW_PATH.includes(functionName)\n                  ) {\n                    span.setAttribute('old_path_argument', args[0]);\n                    span.setAttribute('new_path_argument', args[1]);\n                  }\n                }\n\n                if (error && options.recordErrorMessagesAsSpanAttributes) {\n                  span.setAttribute('fs_error', error.message);\n                }\n              },\n            }),\n        )();\n      },\n    };\n  },\n);\n\nconst FS_OPERATIONS_WITH_OLD_PATH_NEW_PATH = ['rename', 'renameSync'];\nconst FS_OPERATIONS_WITH_SRC_DEST = ['copyFile', 'cp', 'copyFileSync', 'cpSync'];\nconst FS_OPERATIONS_WITH_EXISTING_PATH_NEW_PATH = ['link', 'linkSync'];\nconst FS_OPERATIONS_WITH_PREFIX = ['mkdtemp', 'mkdtempSync'];\nconst FS_OPERATIONS_WITH_TARGET_PATH = ['symlink', 'symlinkSync'];\nconst FS_OPERATIONS_WITH_PATH_ARG = [\n  'access',\n  'appendFile',\n  'chmod',\n  'chown',\n  'exists',\n  'mkdir',\n  'lchown',\n  'lstat',\n  'lutimes',\n  'open',\n  'opendir',\n  'readdir',\n  'readFile',\n  'readlink',\n  'realpath',\n  'realpath.native',\n  'rm',\n  'rmdir',\n  'stat',\n  'truncate',\n  'unlink',\n  'utimes',\n  'writeFile',\n  'accessSync',\n  'appendFileSync',\n  'chmodSync',\n  'chownSync',\n  'existsSync',\n  'lchownSync',\n  'lstatSync',\n  'lutimesSync',\n  'opendirSync',\n  'mkdirSync',\n  'openSync',\n  'readdirSync',\n  'readFileSync',\n  'readlinkSync',\n  'realpathSync',\n  'realpathSync.native',\n  'rmdirSync',\n  'rmSync',\n  'statSync',\n  'truncateSync',\n  'unlinkSync',\n  'utimesSync',\n  'writeFileSync',\n];\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 419, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/debug-build.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/debug-build.ts"],"sourcesContent":["declare const __DEBUG_BUILD__: boolean;\n\n/**\n * This serves as a build time flag that will be true by default, but false in non-debug builds or if users replace `__SENTRY_DEBUG__` in their generated code.\n *\n * ATTENTION: This constant must never cross package boundaries (i.e. be exported) to guarantee that it can be used for tree shaking.\n */\nexport const DEBUG_BUILD = __DEBUG_BUILD__;\n"],"names":[],"mappings":"AAEA;;;;CAIA;;;;AACO,MAAM,WAAA,GAAc,OAAA,gBAAA,KAAA,WAAA,IAAA,gBAAA"}},
    {"offset": {"line": 434, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/tracing/express.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/tracing/express.ts"],"sourcesContent":["import type * as http from 'node:http';\nimport type { Span } from '@opentelemetry/api';\nimport type { ExpressRequestInfo } from '@opentelemetry/instrumentation-express';\nimport { ExpressInstrumentation } from '@opentelemetry/instrumentation-express';\nimport type { IntegrationFn } from '@sentry/core';\nimport {\n  captureException,\n  debug,\n  defineIntegration,\n  getDefaultIsolationScope,\n  getIsolationScope,\n  httpRequestToRequestData,\n  SEMANTIC_ATTRIBUTE_SENTRY_OP,\n  spanToJSON,\n} from '@sentry/core';\nimport { addOriginToSpan, ensureIsWrapped, generateInstrumentOnce } from '@sentry/node-core';\nimport { DEBUG_BUILD } from '../../debug-build';\n\nconst INTEGRATION_NAME = 'Express';\n\nfunction requestHook(span: Span): void {\n  addOriginToSpan(span, 'auto.http.otel.express');\n\n  const attributes = spanToJSON(span).data;\n  // this is one of: middleware, request_handler, router\n  const type = attributes['express.type'];\n\n  if (type) {\n    span.setAttribute(SEMANTIC_ATTRIBUTE_SENTRY_OP, `${type}.express`);\n  }\n\n  // Also update the name, we don't need to \"middleware - \" prefix\n  const name = attributes['express.name'];\n  if (typeof name === 'string') {\n    span.updateName(name);\n  }\n}\n\nfunction spanNameHook(info: ExpressRequestInfo<unknown>, defaultName: string): string {\n  if (getIsolationScope() === getDefaultIsolationScope()) {\n    DEBUG_BUILD && debug.warn('Isolation scope is still default isolation scope - skipping setting transactionName');\n    return defaultName;\n  }\n  if (info.layerType === 'request_handler') {\n    // type cast b/c Otel unfortunately types info.request as any :(\n    const req = info.request as { method?: string };\n    const method = req.method ? req.method.toUpperCase() : 'GET';\n    getIsolationScope().setTransactionName(`${method} ${info.route}`);\n  }\n  return defaultName;\n}\n\nexport const instrumentExpress = generateInstrumentOnce(\n  INTEGRATION_NAME,\n  () =>\n    new ExpressInstrumentation({\n      requestHook: span => requestHook(span),\n      spanNameHook: (info, defaultName) => spanNameHook(info, defaultName),\n    }),\n);\n\nconst _expressIntegration = (() => {\n  return {\n    name: INTEGRATION_NAME,\n    setupOnce() {\n      instrumentExpress();\n    },\n  };\n}) satisfies IntegrationFn;\n\n/**\n * Adds Sentry tracing instrumentation for [Express](https://expressjs.com/).\n *\n * If you also want to capture errors, you need to call `setupExpressErrorHandler(app)` after you set up your Express server.\n *\n * For more information, see the [express documentation](https://docs.sentry.io/platforms/javascript/guides/express/).\n *\n * @example\n * ```javascript\n * const Sentry = require('@sentry/node');\n *\n * Sentry.init({\n *   integrations: [Sentry.expressIntegration()],\n * })\n * ```\n */\nexport const expressIntegration = defineIntegration(_expressIntegration);\n\ninterface MiddlewareError extends Error {\n  status?: number | string;\n  statusCode?: number | string;\n  status_code?: number | string;\n  output?: {\n    statusCode?: number | string;\n  };\n}\n\ntype ExpressMiddleware = (req: http.IncomingMessage, res: http.ServerResponse, next: () => void) => void;\n\ntype ExpressErrorMiddleware = (\n  error: MiddlewareError,\n  req: http.IncomingMessage,\n  res: http.ServerResponse,\n  next: (error: MiddlewareError) => void,\n) => void;\n\ninterface ExpressHandlerOptions {\n  /**\n   * Callback method deciding whether error should be captured and sent to Sentry\n   * @param error Captured middleware error\n   */\n  shouldHandleError?(this: void, error: MiddlewareError): boolean;\n}\n\n/**\n * An Express-compatible error handler.\n */\nexport function expressErrorHandler(options?: ExpressHandlerOptions): ExpressErrorMiddleware {\n  return function sentryErrorMiddleware(\n    error: MiddlewareError,\n    request: http.IncomingMessage,\n    res: http.ServerResponse,\n    next: (error: MiddlewareError) => void,\n  ): void {\n    const normalizedRequest = httpRequestToRequestData(request);\n    // Ensure we use the express-enhanced request here, instead of the plain HTTP one\n    // When an error happens, the `expressRequestHandler` middleware does not run, so we set it here too\n    getIsolationScope().setSDKProcessingMetadata({ normalizedRequest });\n\n    const shouldHandleError = options?.shouldHandleError || defaultShouldHandleError;\n\n    if (shouldHandleError(error)) {\n      const eventId = captureException(error, { mechanism: { type: 'auto.middleware.express', handled: false } });\n      (res as { sentry?: string }).sentry = eventId;\n    }\n\n    next(error);\n  };\n}\n\nfunction expressRequestHandler(): ExpressMiddleware {\n  return function sentryRequestMiddleware(\n    request: http.IncomingMessage,\n    _res: http.ServerResponse,\n    next: () => void,\n  ): void {\n    const normalizedRequest = httpRequestToRequestData(request);\n    // Ensure we use the express-enhanced request here, instead of the plain HTTP one\n    getIsolationScope().setSDKProcessingMetadata({ normalizedRequest });\n\n    next();\n  };\n}\n\n/**\n * Add an Express error handler to capture errors to Sentry.\n *\n * The error handler must be before any other middleware and after all controllers.\n *\n * @param app The Express instances\n * @param options {ExpressHandlerOptions} Configuration options for the handler\n *\n * @example\n * ```javascript\n * const Sentry = require('@sentry/node');\n * const express = require(\"express\");\n *\n * const app = express();\n *\n * // Add your routes, etc.\n *\n * // Add this after all routes,\n * // but before any and other error-handling middlewares are defined\n * Sentry.setupExpressErrorHandler(app);\n *\n * app.listen(3000);\n * ```\n */\nexport function setupExpressErrorHandler(\n  app: { use: (middleware: ExpressMiddleware | ExpressErrorMiddleware) => unknown },\n  options?: ExpressHandlerOptions,\n): void {\n  app.use(expressRequestHandler());\n  app.use(expressErrorHandler(options));\n  ensureIsWrapped(app.use, 'express');\n}\n\nfunction getStatusCodeFromResponse(error: MiddlewareError): number {\n  const statusCode = error.status || error.statusCode || error.status_code || error.output?.statusCode;\n  return statusCode ? parseInt(statusCode as string, 10) : 500;\n}\n\n/** Returns true if response code is internal server error */\nfunction defaultShouldHandleError(error: MiddlewareError): boolean {\n  const status = getStatusCodeFromResponse(error);\n  return status >= 500;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 592, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/tracing/fastify/fastify-otel/index.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/tracing/fastify/fastify-otel/index.js"],"sourcesContent":["/*\nVendored in and modified from @fastify/otel version 0.8.0\nhttps://github.com/fastify/otel/releases/tag/v0.8.0\n\nTried not to modify the original code too much keeping it as a JavaScript CJS module to make it easier to update when required\n\nModifications include:\n- Removed reading of package.json to get the version and package name\n\nMIT License\n\nCopyright (c) 2024 Fastify\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n*/\n\n/* eslint-disable jsdoc/require-jsdoc */\n/* eslint-disable max-lines */\n/* eslint-disable no-param-reassign */\nimport dc from 'node:diagnostics_channel';\nimport { context, diag, propagation, SpanStatusCode, trace } from '@opentelemetry/api';\nimport { getRPCMetadata, RPCType } from '@opentelemetry/core';\nimport { InstrumentationBase } from '@opentelemetry/instrumentation';\nimport {\n  ATTR_HTTP_REQUEST_METHOD,\n  ATTR_HTTP_RESPONSE_STATUS_CODE,\n  ATTR_HTTP_ROUTE,\n  ATTR_SERVICE_NAME,\n} from '@opentelemetry/semantic-conventions';\nimport * as minimatch from 'minimatch';\n\n// SENTRY VENDOR NOTE\n// Instead of using the package.json file, we hard code the package name and version here.\nconst PACKAGE_NAME = '@fastify/otel';\nconst PACKAGE_VERSION = '0.8.0';\n\n// Constants\nconst SUPPORTED_VERSIONS = '>=4.0.0 <6';\nconst FASTIFY_HOOKS = [\n  'onRequest',\n  'preParsing',\n  'preValidation',\n  'preHandler',\n  'preSerialization',\n  'onSend',\n  'onResponse',\n  'onError',\n];\nconst ATTRIBUTE_NAMES = {\n  HOOK_NAME: 'hook.name',\n  FASTIFY_TYPE: 'fastify.type',\n  HOOK_CALLBACK_NAME: 'hook.callback.name',\n  ROOT: 'fastify.root',\n};\nconst HOOK_TYPES = {\n  ROUTE: 'route-hook',\n  INSTANCE: 'hook',\n  HANDLER: 'request-handler',\n};\nconst ANONYMOUS_FUNCTION_NAME = 'anonymous';\n\n// Symbols\nconst kInstrumentation = Symbol('fastify otel instance');\nconst kRequestSpan = Symbol('fastify otel request spans');\nconst kRequestContext = Symbol('fastify otel request context');\nconst kAddHookOriginal = Symbol('fastify otel addhook original');\nconst kSetNotFoundOriginal = Symbol('fastify otel setnotfound original');\nconst kIgnorePaths = Symbol('fastify otel ignore path');\n\nexport class FastifyOtelInstrumentation extends InstrumentationBase {\n  constructor(config) {\n    super(PACKAGE_NAME, PACKAGE_VERSION, config);\n    this.servername = config?.servername ?? process.env.OTEL_SERVICE_NAME ?? 'fastify';\n    this[kIgnorePaths] = null;\n    this._logger = diag.createComponentLogger({ namespace: PACKAGE_NAME });\n\n    if (config?.ignorePaths != null || process.env.OTEL_FASTIFY_IGNORE_PATHS != null) {\n      const ignorePaths = config?.ignorePaths ?? process.env.OTEL_FASTIFY_IGNORE_PATHS;\n\n      if ((typeof ignorePaths !== 'string' || ignorePaths.length === 0) && typeof ignorePaths !== 'function') {\n        throw new TypeError('ignorePaths must be a string or a function');\n      }\n\n      const globMatcher = minimatch.minimatch;\n\n      this[kIgnorePaths] = routeOptions => {\n        if (typeof ignorePaths === 'function') {\n          return ignorePaths(routeOptions);\n        } else {\n          return globMatcher(routeOptions.url, ignorePaths);\n        }\n      };\n    }\n  }\n\n  enable() {\n    if (this._handleInitialization === undefined && this.getConfig().registerOnInitialization) {\n      const FastifyInstrumentationPlugin = this.plugin();\n      this._handleInitialization = message => {\n        message.fastify.register(FastifyInstrumentationPlugin);\n      };\n      dc.subscribe('fastify.initialization', this._handleInitialization);\n    }\n    return super.enable();\n  }\n\n  disable() {\n    if (this._handleInitialization) {\n      dc.unsubscribe('fastify.initialization', this._handleInitialization);\n      this._handleInitialization = undefined;\n    }\n    return super.disable();\n  }\n\n  // We do not do patching in this instrumentation\n  init() {\n    return [];\n  }\n\n  plugin() {\n    const instrumentation = this;\n\n    FastifyInstrumentationPlugin[Symbol.for('skip-override')] = true;\n    FastifyInstrumentationPlugin[Symbol.for('fastify.display-name')] = '@fastify/otel';\n    FastifyInstrumentationPlugin[Symbol.for('plugin-meta')] = {\n      fastify: SUPPORTED_VERSIONS,\n      name: '@fastify/otel',\n    };\n\n    return FastifyInstrumentationPlugin;\n\n    function FastifyInstrumentationPlugin(instance, opts, done) {\n      instance.decorate(kInstrumentation, instrumentation);\n      // addHook and notfoundHandler are essentially inherited from the prototype\n      // what is important is to bound it to the right instance\n      instance.decorate(kAddHookOriginal, instance.addHook);\n      instance.decorate(kSetNotFoundOriginal, instance.setNotFoundHandler);\n      instance.decorateRequest('opentelemetry', function openetelemetry() {\n        const ctx = this[kRequestContext];\n        const span = this[kRequestSpan];\n        return {\n          span,\n          tracer: instrumentation.tracer,\n          context: ctx,\n          inject: (carrier, setter) => {\n            return propagation.inject(ctx, carrier, setter);\n          },\n          extract: (carrier, getter) => {\n            return propagation.extract(ctx, carrier, getter);\n          },\n        };\n      });\n      instance.decorateRequest(kRequestSpan, null);\n      instance.decorateRequest(kRequestContext, null);\n\n      instance.addHook('onRoute', function (routeOptions) {\n        if (instrumentation[kIgnorePaths]?.(routeOptions) === true) {\n          instrumentation._logger.debug(\n            `Ignoring route instrumentation ${routeOptions.method} ${routeOptions.url} because it matches the ignore path`,\n          );\n          return;\n        }\n\n        for (const hook of FASTIFY_HOOKS) {\n          if (routeOptions[hook] != null) {\n            const handlerLike = routeOptions[hook];\n\n            if (typeof handlerLike === 'function') {\n              routeOptions[hook] = handlerWrapper(handlerLike, {\n                [ATTR_SERVICE_NAME]: instance[kInstrumentation].servername,\n                [ATTRIBUTE_NAMES.HOOK_NAME]: `${this.pluginName} - route -> ${hook}`,\n                [ATTRIBUTE_NAMES.FASTIFY_TYPE]: HOOK_TYPES.ROUTE,\n                [ATTR_HTTP_ROUTE]: routeOptions.url,\n                [ATTRIBUTE_NAMES.HOOK_CALLBACK_NAME]:\n                  handlerLike.name?.length > 0 ? handlerLike.name : ANONYMOUS_FUNCTION_NAME /* c8 ignore next */,\n              });\n            } else if (Array.isArray(handlerLike)) {\n              const wrappedHandlers = [];\n\n              for (const handler of handlerLike) {\n                wrappedHandlers.push(\n                  handlerWrapper(handler, {\n                    [ATTR_SERVICE_NAME]: instance[kInstrumentation].servername,\n                    [ATTRIBUTE_NAMES.HOOK_NAME]: `${this.pluginName} - route -> ${hook}`,\n                    [ATTRIBUTE_NAMES.FASTIFY_TYPE]: HOOK_TYPES.ROUTE,\n                    [ATTR_HTTP_ROUTE]: routeOptions.url,\n                    [ATTRIBUTE_NAMES.HOOK_CALLBACK_NAME]:\n                      handler.name?.length > 0 ? handler.name : ANONYMOUS_FUNCTION_NAME,\n                  }),\n                );\n              }\n\n              routeOptions[hook] = wrappedHandlers;\n            }\n          }\n        }\n\n        // We always want to add the onSend hook to the route to be executed last\n        if (routeOptions.onSend != null) {\n          routeOptions.onSend = Array.isArray(routeOptions.onSend)\n            ? [...routeOptions.onSend, onSendHook]\n            : [routeOptions.onSend, onSendHook];\n        } else {\n          routeOptions.onSend = onSendHook;\n        }\n\n        // We always want to add the onError hook to the route to be executed last\n        if (routeOptions.onError != null) {\n          routeOptions.onError = Array.isArray(routeOptions.onError)\n            ? [...routeOptions.onError, onErrorHook]\n            : [routeOptions.onError, onErrorHook];\n        } else {\n          routeOptions.onError = onErrorHook;\n        }\n\n        routeOptions.handler = handlerWrapper(routeOptions.handler, {\n          [ATTR_SERVICE_NAME]: instance[kInstrumentation].servername,\n          [ATTRIBUTE_NAMES.HOOK_NAME]: `${this.pluginName} - route-handler`,\n          [ATTRIBUTE_NAMES.FASTIFY_TYPE]: HOOK_TYPES.HANDLER,\n          [ATTR_HTTP_ROUTE]: routeOptions.url,\n          [ATTRIBUTE_NAMES.HOOK_CALLBACK_NAME]:\n            routeOptions.handler.name.length > 0 ? routeOptions.handler.name : ANONYMOUS_FUNCTION_NAME,\n        });\n      });\n\n      instance.addHook('onRequest', function (request, _reply, hookDone) {\n        if (this[kInstrumentation].isEnabled() === false) {\n          return hookDone();\n        } else if (\n          this[kInstrumentation][kIgnorePaths]?.({\n            url: request.url,\n            method: request.method,\n          }) === true\n        ) {\n          this[kInstrumentation]._logger.debug(\n            `Ignoring request ${request.method} ${request.url} because it matches the ignore path`,\n          );\n          return hookDone();\n        }\n\n        let ctx = context.active();\n\n        if (trace.getSpan(ctx) == null) {\n          ctx = propagation.extract(ctx, request.headers);\n        }\n\n        const rpcMetadata = getRPCMetadata(ctx);\n\n        if (request.routeOptions.url != null && rpcMetadata?.type === RPCType.HTTP) {\n          rpcMetadata.route = request.routeOptions.url;\n        }\n\n        /** @type {import('@opentelemetry/api').Span} */\n        const span = this[kInstrumentation].tracer.startSpan(\n          'request',\n          {\n            attributes: {\n              [ATTR_SERVICE_NAME]: instance[kInstrumentation].servername,\n              [ATTRIBUTE_NAMES.ROOT]: '@fastify/otel',\n              [ATTR_HTTP_ROUTE]: request.url,\n              [ATTR_HTTP_REQUEST_METHOD]: request.method,\n            },\n          },\n          ctx,\n        );\n\n        request[kRequestContext] = trace.setSpan(ctx, span);\n        request[kRequestSpan] = span;\n\n        context.with(request[kRequestContext], () => {\n          hookDone();\n        });\n      });\n\n      // onResponse is the last hook to be executed, only added for 404 handlers\n      instance.addHook('onResponse', function (request, reply, hookDone) {\n        const span = request[kRequestSpan];\n\n        if (span != null) {\n          span.setStatus({\n            code: SpanStatusCode.OK,\n            message: 'OK',\n          });\n          span.setAttributes({\n            [ATTR_HTTP_RESPONSE_STATUS_CODE]: 404,\n          });\n          span.end();\n        }\n\n        request[kRequestSpan] = null;\n\n        hookDone();\n      });\n\n      instance.addHook = addHookPatched;\n      instance.setNotFoundHandler = setNotFoundHandlerPatched;\n\n      done();\n\n      function onSendHook(request, reply, payload, hookDone) {\n        /** @type {import('@opentelemetry/api').Span} */\n        const span = request[kRequestSpan];\n\n        if (span != null) {\n          if (reply.statusCode < 500) {\n            span.setStatus({\n              code: SpanStatusCode.OK,\n              message: 'OK',\n            });\n          }\n\n          span.setAttributes({\n            [ATTR_HTTP_RESPONSE_STATUS_CODE]: reply.statusCode,\n          });\n          span.end();\n        }\n\n        request[kRequestSpan] = null;\n\n        hookDone(null, payload);\n      }\n\n      function onErrorHook(request, reply, error, hookDone) {\n        /** @type {Span} */\n        const span = request[kRequestSpan];\n\n        if (span != null) {\n          span.setStatus({\n            code: SpanStatusCode.ERROR,\n            message: error.message,\n          });\n          span.recordException(error);\n        }\n\n        hookDone();\n      }\n\n      function addHookPatched(name, hook) {\n        const addHookOriginal = this[kAddHookOriginal];\n\n        if (FASTIFY_HOOKS.includes(name)) {\n          return addHookOriginal.call(\n            this,\n            name,\n            handlerWrapper(hook, {\n              [ATTR_SERVICE_NAME]: instance[kInstrumentation].servername,\n              [ATTRIBUTE_NAMES.HOOK_NAME]: `${this.pluginName} - ${name}`,\n              [ATTRIBUTE_NAMES.FASTIFY_TYPE]: HOOK_TYPES.INSTANCE,\n              [ATTRIBUTE_NAMES.HOOK_CALLBACK_NAME]:\n                hook.name?.length > 0 ? hook.name : ANONYMOUS_FUNCTION_NAME /* c8 ignore next */,\n            }),\n          );\n        } else {\n          return addHookOriginal.call(this, name, hook);\n        }\n      }\n\n      function setNotFoundHandlerPatched(hooks, handler) {\n        const setNotFoundHandlerOriginal = this[kSetNotFoundOriginal];\n        if (typeof hooks === 'function') {\n          handler = handlerWrapper(hooks, {\n            [ATTR_SERVICE_NAME]: instance[kInstrumentation].servername,\n            [ATTRIBUTE_NAMES.HOOK_NAME]: `${this.pluginName} - not-found-handler`,\n            [ATTRIBUTE_NAMES.FASTIFY_TYPE]: HOOK_TYPES.INSTANCE,\n            [ATTRIBUTE_NAMES.HOOK_CALLBACK_NAME]:\n              hooks.name?.length > 0 ? hooks.name : ANONYMOUS_FUNCTION_NAME /* c8 ignore next */,\n          });\n          setNotFoundHandlerOriginal.call(this, handler);\n        } else {\n          if (hooks.preValidation != null) {\n            hooks.preValidation = handlerWrapper(hooks.preValidation, {\n              [ATTR_SERVICE_NAME]: instance[kInstrumentation].servername,\n              [ATTRIBUTE_NAMES.HOOK_NAME]: `${this.pluginName} - not-found-handler - preValidation`,\n              [ATTRIBUTE_NAMES.FASTIFY_TYPE]: HOOK_TYPES.INSTANCE,\n              [ATTRIBUTE_NAMES.HOOK_CALLBACK_NAME]:\n                hooks.preValidation.name?.length > 0\n                  ? hooks.preValidation.name\n                  : ANONYMOUS_FUNCTION_NAME /* c8 ignore next */,\n            });\n          }\n\n          if (hooks.preHandler != null) {\n            hooks.preHandler = handlerWrapper(hooks.preHandler, {\n              [ATTR_SERVICE_NAME]: instance[kInstrumentation].servername,\n              [ATTRIBUTE_NAMES.HOOK_NAME]: `${this.pluginName} - not-found-handler - preHandler`,\n              [ATTRIBUTE_NAMES.FASTIFY_TYPE]: HOOK_TYPES.INSTANCE,\n              [ATTRIBUTE_NAMES.HOOK_CALLBACK_NAME]:\n                hooks.preHandler.name?.length > 0\n                  ? hooks.preHandler.name\n                  : ANONYMOUS_FUNCTION_NAME /* c8 ignore next */,\n            });\n          }\n\n          handler = handlerWrapper(handler, {\n            [ATTR_SERVICE_NAME]: instance[kInstrumentation].servername,\n            [ATTRIBUTE_NAMES.HOOK_NAME]: `${this.pluginName} - not-found-handler`,\n            [ATTRIBUTE_NAMES.FASTIFY_TYPE]: HOOK_TYPES.INSTANCE,\n            [ATTRIBUTE_NAMES.HOOK_CALLBACK_NAME]:\n              handler.name?.length > 0 ? handler.name : ANONYMOUS_FUNCTION_NAME /* c8 ignore next */,\n          });\n          setNotFoundHandlerOriginal.call(this, hooks, handler);\n        }\n      }\n\n      function handlerWrapper(handler, spanAttributes = {}) {\n        return function handlerWrapped(...args) {\n          /** @type {FastifyOtelInstrumentation} */\n          const instrumentation = this[kInstrumentation];\n          const [request] = args;\n\n          if (instrumentation.isEnabled() === false) {\n            return handler.call(this, ...args);\n          }\n\n          const ctx = request[kRequestContext] ?? context.active();\n          const span = instrumentation.tracer.startSpan(\n            `handler - ${\n              handler.name?.length > 0\n                ? handler.name\n                : (this.pluginName /* c8 ignore next */ ?? ANONYMOUS_FUNCTION_NAME) /* c8 ignore next */\n            }`,\n            {\n              attributes: spanAttributes,\n            },\n            ctx,\n          );\n\n          return context.with(\n            trace.setSpan(ctx, span),\n            function () {\n              try {\n                const res = handler.call(this, ...args);\n\n                if (typeof res?.then === 'function') {\n                  return res.then(\n                    result => {\n                      span.end();\n                      return result;\n                    },\n                    error => {\n                      span.setStatus({\n                        code: SpanStatusCode.ERROR,\n                        message: error.message,\n                      });\n                      span.recordException(error);\n                      span.end();\n                      return Promise.reject(error);\n                    },\n                  );\n                }\n\n                span.end();\n                return res;\n              } catch (error) {\n                span.setStatus({\n                  code: SpanStatusCode.ERROR,\n                  message: error.message,\n                });\n                span.recordException(error);\n                span.end();\n                throw error;\n              }\n            },\n            this,\n          );\n        };\n      }\n    }\n  }\n}\n"],"names":["dc"],"mappings":"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"}},
    {"offset": {"line": 997, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/tracing/fastify/v3/enums/AttributeNames.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/tracing/fastify/v3/enums/AttributeNames.ts"],"sourcesContent":["// Vendored from https://github.com/open-telemetry/opentelemetry-js-contrib/blob/407f61591ba69a39a6908264379d4d98a48dbec4/plugins/node/opentelemetry-instrumentation-fastify/src/enums/AttributeNames.ts\n//\n/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport enum AttributeNames {\n  FASTIFY_NAME = 'fastify.name',\n  FASTIFY_TYPE = 'fastify.type',\n  HOOK_NAME = 'hook.name',\n  PLUGIN_NAME = 'plugin.name',\n}\n\nexport enum FastifyTypes {\n  MIDDLEWARE = 'middleware',\n  REQUEST_HANDLER = 'request_handler',\n}\n\nexport enum FastifyNames {\n  MIDDLEWARE = 'middleware',\n  REQUEST_HANDLER = 'request handler',\n}\n"],"names":[],"mappings":"AAAA,wMAAA;AACA,EAAA;AACA;;;;;;;;;;;;;;CAcA;;;;;;;;AAEA,IAAA,eAAA;AAAA,CAAA,SAAA,cAAA,EAA2B;IACzB,MAAA,YAAA,GAAe,cAAA,CAAA;IAAA,cAAA,CAAA,cAAA,CAAA,GAAA,YAAA;IACf,MAAA,YAAA,GAAe,cAAA,CAAA;IAAA,cAAA,CAAA,cAAA,CAAA,GAAA,YAAA;IACf,MAAA,SAAA,GAAY,WAAA,CAAA;IAAA,cAAA,CAAA,WAAA,CAAA,GAAA,SAAA;IACZ,MAAA,WAAA,GAAc,aAAA,CAAA;IAAA,cAAA,CAAA,aAAA,CAAA,GAAA,WAAA;AAChB,CAAA,EAAA,cAAA,IAAA,CAAA,cAAA,GAAA,CAAA,CAAA,CAAA,CAAA;AAEA,IAAA,aAAA;AAAA,CAAA,SAAA,YAAA,EAAyB;IACvB,MAAA,UAAA,GAAa,YAAA,CAAA;IAAA,YAAA,CAAA,YAAA,CAAA,GAAA,UAAA;IACb,MAAA,eAAA,GAAkB,iBAAA,CAAA;IAAA,YAAA,CAAA,iBAAA,CAAA,GAAA,eAAA;AACpB,CAAA,EAAA,YAAA,IAAA,CAAA,YAAA,GAAA,CAAA,CAAA,CAAA,CAAA;AAEA,IAAA,aAAA;AAAA,CAAA,SAAA,YAAA,EAAyB;IACvB,MAAA,UAAA,GAAa,YAAA,CAAA;IAAA,YAAA,CAAA,YAAA,CAAA,GAAA,UAAA;IACb,MAAA,eAAA,GAAkB,iBAAA,CAAA;IAAA,YAAA,CAAA,iBAAA,CAAA,GAAA,eAAA;AACpB,CAAA,EAAA,YAAA,IAAA,CAAA,YAAA,GAAA,CAAA,CAAA,CAAA,CAAA"}},
    {"offset": {"line": 1052, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/tracing/fastify/v3/constants.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/tracing/fastify/v3/constants.ts"],"sourcesContent":["// Vendored from https://github.com/open-telemetry/opentelemetry-js-contrib/blob/407f61591ba69a39a6908264379d4d98a48dbec4/plugins/node/opentelemetry-instrumentation-fastify/src/constants.ts\n/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport const spanRequestSymbol = Symbol('opentelemetry.instrumentation.fastify.request_active_span');\n\n// The instrumentation creates a span for invocations of lifecycle hook handlers\n// that take `(request, reply, ...[, done])` arguments. Currently this is all\n// lifecycle hooks except `onRequestAbort`.\n// https://fastify.dev/docs/latest/Reference/Hooks\nexport const hooksNamesToWrap = new Set([\n  'onTimeout',\n  'onRequest',\n  'preParsing',\n  'preValidation',\n  'preSerialization',\n  'preHandler',\n  'onSend',\n  'onResponse',\n  'onError',\n]);\n"],"names":[],"mappings":"AAAA,6LAAA;AACA;;;;;;;;;;;;;;CAcA;;;;MAEa,iBAAA,GAAoB,MAAM,CAAC,2DAA2D"}},
    {"offset": {"line": 1078, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/tracing/fastify/v3/utils.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/tracing/fastify/v3/utils.ts"],"sourcesContent":["// Vendored from: https://github.com/open-telemetry/opentelemetry-js-contrib/blob/407f61591ba69a39a6908264379d4d98a48dbec4/plugins/node/opentelemetry-instrumentation-fastify/src/utils.ts\n/* eslint-disable jsdoc/require-jsdoc */\n/* eslint-disable @typescript-eslint/no-dynamic-delete */\n/* eslint-disable @typescript-eslint/no-unsafe-member-access */\n/* eslint-disable @typescript-eslint/explicit-function-return-type */\n/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { type Attributes, type Span, type Tracer, SpanStatusCode } from '@opentelemetry/api';\nimport { spanRequestSymbol } from './constants';\nimport type { PluginFastifyReply } from './internal-types';\n\n/**\n * Starts Span\n * @param reply - reply function\n * @param tracer - tracer\n * @param spanName - span name\n * @param spanAttributes - span attributes\n */\nexport function startSpan(\n  reply: PluginFastifyReply,\n  tracer: Tracer,\n  spanName: string,\n  spanAttributes: Attributes = {},\n) {\n  const span = tracer.startSpan(spanName, { attributes: spanAttributes });\n\n  const spans: Span[] = reply[spanRequestSymbol] || [];\n  spans.push(span);\n\n  // eslint-disable-next-line @typescript-eslint/no-floating-promises\n  Object.defineProperty(reply, spanRequestSymbol, {\n    enumerable: false,\n    configurable: true,\n    value: spans,\n  });\n\n  return span;\n}\n\n/**\n * Ends span\n * @param reply - reply function\n * @param err - error\n */\nexport function endSpan(reply: PluginFastifyReply, err?: any) {\n  const spans = reply[spanRequestSymbol] || [];\n  // there is no active span, or it has already ended\n  if (!spans.length) {\n    return;\n  }\n  // biome-ignore lint/complexity/noForEach: <explanation>\n  spans.forEach((span: Span) => {\n    if (err) {\n      span.setStatus({\n        code: SpanStatusCode.ERROR,\n        message: err.message,\n      });\n      span.recordException(err);\n    }\n    span.end();\n  });\n  delete reply[spanRequestSymbol];\n}\n\n// @TODO after approve add this to instrumentation package and replace usage\n// when it will be released\n\n/**\n * This function handles the missing case from instrumentation package when\n * execute can either return a promise or void. And using async is not an\n * option as it is producing unwanted side effects.\n * @param execute - function to be executed\n * @param onFinish - function called when function executed\n * @param preventThrowingError - prevent to throw error when execute\n * function fails\n */\nexport function safeExecuteInTheMiddleMaybePromise<T>(\n  execute: () => Promise<T>,\n  onFinish: (e: unknown, result?: T) => void,\n  preventThrowingError?: boolean,\n): Promise<T>;\nexport function safeExecuteInTheMiddleMaybePromise<T>(\n  execute: () => T,\n  onFinish: (e: unknown, result?: T) => void,\n  preventThrowingError?: boolean,\n): T;\nexport function safeExecuteInTheMiddleMaybePromise<T>(\n  execute: () => T | Promise<T>,\n  onFinish: (e: unknown, result?: T) => void,\n  preventThrowingError?: boolean,\n): T | Promise<T> | undefined {\n  let error: unknown;\n  let result: T | Promise<T> | undefined = undefined;\n  try {\n    result = execute();\n\n    if (isPromise(result)) {\n      result.then(\n        res => onFinish(undefined, res),\n        err => onFinish(err),\n      );\n    }\n  } catch (e) {\n    error = e;\n  } finally {\n    if (!isPromise(result)) {\n      onFinish(error, result);\n      if (error && !preventThrowingError) {\n        // eslint-disable-next-line no-unsafe-finally\n        throw error;\n      }\n    }\n    // eslint-disable-next-line no-unsafe-finally\n    return result;\n  }\n}\n\nfunction isPromise<T>(val: T | Promise<T>): val is Promise<T> {\n  return (\n    (typeof val === 'object' && val && typeof Object.getOwnPropertyDescriptor(val, 'then')?.value === 'function') ||\n    false\n  );\n}\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA,0LAAA;AACA,sCAAA,GACA,uDAAA,GACA,6DAAA,GACA,mEAAA,GACA;;;;;;;;;;;;;;CAcA,GAMA;;;;;;CAMA,GACO,SAAS,SAAS,CACvB,KAAK,EACL,MAAM,EACN,QAAQ,EACR,cAAc,GAAe,CAAA,CAAE;IAE/B,MAAM,IAAA,GAAO,MAAM,CAAC,SAAS,CAAC,QAAQ,EAAE;QAAE,UAAU,EAAE,cAAA;IAAA,CAAgB,CAAC;IAEvE,MAAM,KAAK,GAAW,KAAK,CAAC,kSAAiB,CAAA,IAAK,EAAE;IACpD,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC;IAElB,mEAAA;IACE,MAAM,CAAC,cAAc,CAAC,KAAK,EAAE,kSAAiB,EAAE;QAC9C,UAAU,EAAE,KAAK;QACjB,YAAY,EAAE,IAAI;QAClB,KAAK,EAAE,KAAK;IAChB,CAAG,CAAC;IAEF,OAAO,IAAI;AACb;AAEA;;;;CAIA,GACO,SAAS,OAAO,CAAC,KAAK,EAAsB,GAAG,EAAQ;IAC5D,MAAM,QAAQ,KAAK,CAAC,kSAAiB,CAAA,IAAK,EAAE;IAC9C,mDAAA;IACE,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;QACjB;IACF;IACF,wDAAA;IACE,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,KAAW;QAC5B,IAAI,GAAG,EAAE;YACP,IAAI,CAAC,SAAS,CAAC;gBACb,IAAI,EAAE,+PAAc,CAAC,KAAK;gBAC1B,OAAO,EAAE,GAAG,CAAC,OAAO;YAC5B,CAAO,CAAC;YACF,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC;QAC3B;QACA,IAAI,CAAC,GAAG,EAAE;IACZ,CAAC,CAAC;IACF,OAAO,KAAK,CAAC,kSAAiB,CAAC;AACjC;AAEA,4EAAA;AACA,2BAAA;AAEA;;;;;;;;CAQA,GAWO,SAAS,kCAAkC,CAChD,OAAO,EACP,QAAQ,EACR,oBAAoB;IAEpB,IAAI,KAAK;IACT,IAAI,MAAM,GAA+B,SAAS;IAClD,IAAI;QACF,MAAA,GAAS,OAAO,EAAE;QAElB,IAAI,SAAS,CAAC,MAAM,CAAC,EAAE;YACrB,MAAM,CAAC,IAAI,EACT,MAAO,QAAQ,CAAC,SAAS,EAAE,GAAG,CAAC,GAC/B,GAAA,GAAO,QAAQ,CAAC,GAAG,CAAC;QAExB;IACF,CAAA,CAAE,OAAO,CAAC,EAAE;QACV,KAAA,GAAQ,CAAC;IACX,SAAU;QACR,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE;YACtB,QAAQ,CAAC,KAAK,EAAE,MAAM,CAAC;YACvB,IAAI,KAAA,IAAS,IAAqB,EAAE;gBAC1C,6CAAA;gBACQ,MAAM,KAAK;YACb;QACF;QACJ,6CAAA;QACI,OAAO,MAAM;IACf;AACF;AAEA,SAAS,SAAS,CAAI,GAAG,EAAqC;IAC5D,OACE,AAAC,OAAO,GAAA,KAAQ,YAAY,GAAA,IAAO,OAAO,MAAM,CAAC,wBAAwB,CAAC,GAAG,EAAE,MAAM,CAAC,EAAE,KAAA,KAAU,UAAU,IAC5G;AAEJ"}},
    {"offset": {"line": 1189, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/tracing/fastify/v3/instrumentation.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/tracing/fastify/v3/instrumentation.ts"],"sourcesContent":["// Vendored from: https://github.com/open-telemetry/opentelemetry-js-contrib/blob/407f61591ba69a39a6908264379d4d98a48dbec4/plugins/node/opentelemetry-instrumentation-fastify/src/instrumentation.ts\n/* eslint-disable @typescript-eslint/no-this-alias */\n/* eslint-disable jsdoc/require-jsdoc */\n/* eslint-disable @typescript-eslint/explicit-function-return-type */\n/* eslint-disable @typescript-eslint/no-unsafe-member-access */\n\n/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { type Attributes, context, SpanStatusCode, trace } from '@opentelemetry/api';\nimport { getRPCMetadata, RPCType } from '@opentelemetry/core';\nimport {\n  InstrumentationBase,\n  InstrumentationNodeModuleDefinition,\n  safeExecuteInTheMiddle,\n} from '@opentelemetry/instrumentation';\nimport { SEMATTRS_HTTP_ROUTE } from '@opentelemetry/semantic-conventions';\nimport type { Span } from '@sentry/core';\nimport {\n  getClient,\n  getIsolationScope,\n  SEMANTIC_ATTRIBUTE_SENTRY_OP,\n  SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,\n  spanToJSON,\n} from '@sentry/core';\nimport type {\n  FastifyErrorCodes,\n  FastifyInstance,\n  FastifyReply,\n  FastifyRequest,\n  HandlerOriginal,\n  HookHandlerDoneFunction,\n} from '../types';\nimport { AttributeNames, FastifyNames, FastifyTypes } from './enums/AttributeNames';\nimport type { PluginFastifyReply } from './internal-types';\nimport type { FastifyInstrumentationConfig } from './types';\nimport { endSpan, safeExecuteInTheMiddleMaybePromise, startSpan } from './utils';\n/** @knipignore */\n\nconst PACKAGE_VERSION = '0.1.0';\n\nconst PACKAGE_NAME = '@sentry/instrumentation-fastify-v3';\nconst ANONYMOUS_NAME = 'anonymous';\n\n// The instrumentation creates a span for invocations of lifecycle hook handlers\n// that take `(request, reply, ...[, done])` arguments. Currently this is all\n// lifecycle hooks except `onRequestAbort`.\n// https://fastify.dev/docs/latest/Reference/Hooks\nconst hooksNamesToWrap = new Set([\n  'onTimeout',\n  'onRequest',\n  'preParsing',\n  'preValidation',\n  'preSerialization',\n  'preHandler',\n  'onSend',\n  'onResponse',\n  'onError',\n]);\n\n/**\n * Fastify instrumentation for OpenTelemetry\n */\nexport class FastifyInstrumentationV3 extends InstrumentationBase<FastifyInstrumentationConfig> {\n  public constructor(config: FastifyInstrumentationConfig = {}) {\n    super(PACKAGE_NAME, PACKAGE_VERSION, config);\n  }\n\n  public init(): InstrumentationNodeModuleDefinition[] {\n    return [\n      new InstrumentationNodeModuleDefinition('fastify', ['>=3.0.0 <4'], moduleExports => {\n        return this._patchConstructor(moduleExports);\n      }),\n    ];\n  }\n\n  private _hookOnRequest() {\n    const instrumentation = this;\n\n    return function onRequest(request: FastifyRequest, reply: FastifyReply, done: HookHandlerDoneFunction) {\n      if (!instrumentation.isEnabled()) {\n        return done();\n      }\n      instrumentation._wrap(reply, 'send', instrumentation._patchSend());\n\n      const anyRequest = request as any;\n\n      const rpcMetadata = getRPCMetadata(context.active());\n      const routeName = anyRequest.routeOptions\n        ? anyRequest.routeOptions.url // since fastify@4.10.0\n        : request.routerPath;\n      if (routeName && rpcMetadata?.type === RPCType.HTTP) {\n        rpcMetadata.route = routeName;\n      }\n\n      const method = request.method || 'GET';\n\n      getIsolationScope().setTransactionName(`${method} ${routeName}`);\n      done();\n    };\n  }\n\n  private _wrapHandler(\n    pluginName: string,\n    hookName: string,\n    original: HandlerOriginal,\n    syncFunctionWithDone: boolean,\n  ): () => Promise<unknown> {\n    const instrumentation = this;\n    this._diag.debug('Patching fastify route.handler function');\n\n    return function (this: any, ...args: unknown[]): Promise<unknown> {\n      if (!instrumentation.isEnabled()) {\n        return original.apply(this, args);\n      }\n\n      const name = original.name || pluginName || ANONYMOUS_NAME;\n      const spanName = `${FastifyNames.MIDDLEWARE} - ${name}`;\n\n      const reply = args[1] as PluginFastifyReply;\n\n      const span = startSpan(reply, instrumentation.tracer, spanName, {\n        [AttributeNames.FASTIFY_TYPE]: FastifyTypes.MIDDLEWARE,\n        [AttributeNames.PLUGIN_NAME]: pluginName,\n        [AttributeNames.HOOK_NAME]: hookName,\n      });\n\n      const origDone = syncFunctionWithDone && (args[args.length - 1] as HookHandlerDoneFunction);\n      if (origDone) {\n        args[args.length - 1] = function (...doneArgs: Parameters<HookHandlerDoneFunction>) {\n          endSpan(reply);\n          origDone.apply(this, doneArgs);\n        };\n      }\n\n      return context.with(trace.setSpan(context.active(), span), () => {\n        return safeExecuteInTheMiddleMaybePromise(\n          () => {\n            return original.apply(this, args);\n          },\n          err => {\n            if (err instanceof Error) {\n              span.setStatus({\n                code: SpanStatusCode.ERROR,\n                message: err.message,\n              });\n              span.recordException(err);\n            }\n            // async hooks should end the span as soon as the promise is resolved\n            if (!syncFunctionWithDone) {\n              endSpan(reply);\n            }\n          },\n        );\n      });\n    };\n  }\n\n  private _wrapAddHook(): (original: FastifyInstance['addHook']) => () => FastifyInstance {\n    const instrumentation = this;\n    this._diag.debug('Patching fastify server.addHook function');\n\n    // biome-ignore lint/complexity/useArrowFunction: <explanation>\n    return function (original: FastifyInstance['addHook']): () => FastifyInstance {\n      return function wrappedAddHook(this: any, ...args: any) {\n        const name = args[0] as string;\n        const handler = args[1] as HandlerOriginal;\n        const pluginName = this.pluginName;\n        if (!hooksNamesToWrap.has(name)) {\n          return original.apply(this, args);\n        }\n\n        const syncFunctionWithDone =\n          typeof args[args.length - 1] === 'function' && handler.constructor.name !== 'AsyncFunction';\n\n        return original.apply(this, [\n          name,\n          instrumentation._wrapHandler(pluginName, name, handler, syncFunctionWithDone),\n        ] as never);\n      };\n    };\n  }\n\n  private _patchConstructor(moduleExports: {\n    fastify: () => FastifyInstance;\n    errorCodes: FastifyErrorCodes | undefined;\n  }): () => FastifyInstance {\n    const instrumentation = this;\n\n    function fastify(this: FastifyInstance, ...args: any) {\n      const app: FastifyInstance = moduleExports.fastify.apply(this, args);\n      app.addHook('onRequest', instrumentation._hookOnRequest());\n      app.addHook('preHandler', instrumentation._hookPreHandler());\n\n      instrumentClient();\n\n      instrumentation._wrap(app, 'addHook', instrumentation._wrapAddHook());\n\n      return app;\n    }\n\n    if (moduleExports.errorCodes !== undefined) {\n      fastify.errorCodes = moduleExports.errorCodes;\n    }\n    fastify.fastify = fastify;\n    fastify.default = fastify;\n    return fastify;\n  }\n\n  private _patchSend() {\n    const instrumentation = this;\n    this._diag.debug('Patching fastify reply.send function');\n\n    return function patchSend(original: () => FastifyReply): () => FastifyReply {\n      return function send(this: FastifyReply, ...args: any) {\n        const maybeError: any = args[0];\n\n        if (!instrumentation.isEnabled()) {\n          return original.apply(this, args);\n        }\n\n        return safeExecuteInTheMiddle<FastifyReply>(\n          () => {\n            return original.apply(this, args);\n          },\n          err => {\n            if (!err && maybeError instanceof Error) {\n              // eslint-disable-next-line no-param-reassign\n              err = maybeError;\n            }\n            endSpan(this, err);\n          },\n        );\n      };\n    };\n  }\n\n  private _hookPreHandler() {\n    const instrumentation = this;\n    this._diag.debug('Patching fastify preHandler function');\n\n    return function preHandler(this: any, request: FastifyRequest, reply: FastifyReply, done: HookHandlerDoneFunction) {\n      if (!instrumentation.isEnabled()) {\n        return done();\n      }\n      const anyRequest = request as any;\n\n      const handler = anyRequest.routeOptions?.handler || anyRequest.context?.handler;\n      const handlerName = handler?.name.startsWith('bound ') ? handler.name.substring(6) : handler?.name;\n      const spanName = `${FastifyNames.REQUEST_HANDLER} - ${handlerName || this.pluginName || ANONYMOUS_NAME}`;\n\n      const spanAttributes: Attributes = {\n        [AttributeNames.PLUGIN_NAME]: this.pluginName,\n        [AttributeNames.FASTIFY_TYPE]: FastifyTypes.REQUEST_HANDLER,\n        // eslint-disable-next-line deprecation/deprecation\n        [SEMATTRS_HTTP_ROUTE]: anyRequest.routeOptions\n          ? anyRequest.routeOptions.url // since fastify@4.10.0\n          : request.routerPath,\n      };\n      if (handlerName) {\n        spanAttributes[AttributeNames.FASTIFY_NAME] = handlerName;\n      }\n      const span = startSpan(reply, instrumentation.tracer, spanName, spanAttributes);\n\n      addFastifyV3SpanAttributes(span);\n\n      const { requestHook } = instrumentation.getConfig();\n      if (requestHook) {\n        safeExecuteInTheMiddle(\n          () => requestHook(span, { request }),\n          e => {\n            if (e) {\n              instrumentation._diag.error('request hook failed', e);\n            }\n          },\n          true,\n        );\n      }\n\n      return context.with(trace.setSpan(context.active(), span), () => {\n        done();\n      });\n    };\n  }\n}\n\nfunction instrumentClient(): void {\n  const client = getClient();\n  if (client) {\n    client.on('spanStart', (span: Span) => {\n      addFastifyV3SpanAttributes(span);\n    });\n  }\n}\n\nfunction addFastifyV3SpanAttributes(span: Span): void {\n  const attributes = spanToJSON(span).data;\n\n  // this is one of: middleware, request_handler\n  const type = attributes['fastify.type'];\n\n  // If this is already set, or we have no fastify span, no need to process again...\n  if (attributes[SEMANTIC_ATTRIBUTE_SENTRY_OP] || !type) {\n    return;\n  }\n\n  span.setAttributes({\n    [SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]: 'auto.http.otel.fastify',\n    [SEMANTIC_ATTRIBUTE_SENTRY_OP]: `${type}.fastify`,\n  });\n\n  // Also update the name, we don't need to \"middleware - \" prefix\n  const name = attributes['fastify.name'] || attributes['plugin.name'] || attributes['hook.name'];\n  if (typeof name === 'string') {\n    // Try removing `fastify -> ` and `@fastify/otel -> ` prefixes\n    // This is a bit of a hack, and not always working for all spans\n    // But it's the best we can do without a proper API\n    const updatedName = name.replace(/^fastify -> /, '').replace(/^@fastify\\/otel -> /, '');\n\n    span.updateName(updatedName);\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1440, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/tracing/fastify/index.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/tracing/fastify/index.ts"],"sourcesContent":["import * as diagnosticsChannel from 'node:diagnostics_channel';\nimport type { Instrumentation, InstrumentationConfig } from '@opentelemetry/instrumentation';\nimport type { IntegrationFn, Span } from '@sentry/core';\nimport {\n  captureException,\n  debug,\n  defineIntegration,\n  getClient,\n  getIsolationScope,\n  SEMANTIC_ATTRIBUTE_SENTRY_OP,\n  SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,\n  spanToJSON,\n} from '@sentry/core';\nimport { generateInstrumentOnce } from '@sentry/node-core';\nimport { DEBUG_BUILD } from '../../../debug-build';\nimport { FastifyOtelInstrumentation } from './fastify-otel/index';\nimport type { FastifyInstance, FastifyReply, FastifyRequest } from './types';\nimport { FastifyInstrumentationV3 } from './v3/instrumentation';\n\n/**\n * Options for the Fastify integration.\n *\n * `shouldHandleError` - Callback method deciding whether error should be captured and sent to Sentry\n * This is used on Fastify v5 where Sentry handles errors in the diagnostics channel.\n * Fastify v3 and v4 use `setupFastifyErrorHandler` instead.\n *\n * @example\n *\n * ```javascript\n * Sentry.init({\n *   integrations: [\n *     Sentry.fastifyIntegration({\n *       shouldHandleError(_error, _request, reply) {\n *         return reply.statusCode >= 500;\n *       },\n *     });\n *   },\n * });\n * ```\n *\n */\ninterface FastifyIntegrationOptions {\n  /**\n   * Callback method deciding whether error should be captured and sent to Sentry\n   * This is used on Fastify v5 where Sentry handles errors in the diagnostics channel.\n   * Fastify v3 and v4 use `setupFastifyErrorHandler` instead.\n   *\n   * @param error Captured Fastify error\n   * @param request Fastify request (or any object containing at least method, routeOptions.url, and routerPath)\n   * @param reply Fastify reply (or any object containing at least statusCode)\n   */\n  shouldHandleError: (error: Error, request: FastifyRequest, reply: FastifyReply) => boolean;\n}\n\ninterface FastifyHandlerOptions {\n  /**\n   * Callback method deciding whether error should be captured and sent to Sentry\n   *\n   * @param error Captured Fastify error\n   * @param request Fastify request (or any object containing at least method, routeOptions.url, and routerPath)\n   * @param reply Fastify reply (or any object containing at least statusCode)\n   *\n   * @example\n   *\n   *\n   * ```javascript\n   * setupFastifyErrorHandler(app, {\n   *   shouldHandleError(_error, _request, reply) {\n   *     return reply.statusCode >= 400;\n   *   },\n   * });\n   * ```\n   *\n   *\n   * If using TypeScript, you can cast the request and reply to get full type safety.\n   *\n   * ```typescript\n   * import type { FastifyRequest, FastifyReply } from 'fastify';\n   *\n   * setupFastifyErrorHandler(app, {\n   *   shouldHandleError(error, minimalRequest, minimalReply) {\n   *     const request = minimalRequest as FastifyRequest;\n   *     const reply = minimalReply as FastifyReply;\n   *     return reply.statusCode >= 500;\n   *   },\n   * });\n   * ```\n   */\n  shouldHandleError: (error: Error, request: FastifyRequest, reply: FastifyReply) => boolean;\n}\n\nconst INTEGRATION_NAME = 'Fastify';\n\nexport const instrumentFastifyV3 = generateInstrumentOnce(\n  `${INTEGRATION_NAME}.v3`,\n  () => new FastifyInstrumentationV3(),\n);\n\nfunction getFastifyIntegration(): ReturnType<typeof _fastifyIntegration> | undefined {\n  const client = getClient();\n  if (!client) {\n    return undefined;\n  } else {\n    return client.getIntegrationByName(INTEGRATION_NAME);\n  }\n}\n\nfunction handleFastifyError(\n  this: {\n    diagnosticsChannelExists?: boolean;\n  },\n  error: Error,\n  request: FastifyRequest & { opentelemetry?: () => { span?: Span } },\n  reply: FastifyReply,\n  handlerOrigin: 'diagnostics-channel' | 'onError-hook',\n): void {\n  const shouldHandleError = getFastifyIntegration()?.getShouldHandleError() || defaultShouldHandleError;\n  // Diagnostics channel runs before the onError hook, so we can use it to check if the handler was already registered\n  if (handlerOrigin === 'diagnostics-channel') {\n    this.diagnosticsChannelExists = true;\n  }\n\n  if (this.diagnosticsChannelExists && handlerOrigin === 'onError-hook') {\n    DEBUG_BUILD &&\n      debug.warn(\n        'Fastify error handler was already registered via diagnostics channel.',\n        'You can safely remove `setupFastifyErrorHandler` call and set `shouldHandleError` on the integration options.',\n      );\n\n    // If the diagnostics channel already exists, we don't need to handle the error again\n    return;\n  }\n\n  if (shouldHandleError(error, request, reply)) {\n    captureException(error, { mechanism: { handled: false, type: 'auto.function.fastify' } });\n  }\n}\n\nexport const instrumentFastify = generateInstrumentOnce(`${INTEGRATION_NAME}.v5`, () => {\n  const fastifyOtelInstrumentationInstance = new FastifyOtelInstrumentation();\n  const plugin = fastifyOtelInstrumentationInstance.plugin();\n\n  // This message handler works for Fastify versions 3, 4 and 5\n  diagnosticsChannel.subscribe('fastify.initialization', message => {\n    const fastifyInstance = (message as { fastify?: FastifyInstance }).fastify;\n\n    fastifyInstance?.register(plugin).after(err => {\n      if (err) {\n        DEBUG_BUILD && debug.error('Failed to setup Fastify instrumentation', err);\n      } else {\n        instrumentClient();\n\n        if (fastifyInstance) {\n          instrumentOnRequest(fastifyInstance);\n        }\n      }\n    });\n  });\n\n  // This diagnostics channel only works on Fastify version 5\n  // For versions 3 and 4, we use `setupFastifyErrorHandler` instead\n  diagnosticsChannel.subscribe('tracing:fastify.request.handler:error', message => {\n    const { error, request, reply } = message as {\n      error: Error;\n      request: FastifyRequest & { opentelemetry?: () => { span?: Span } };\n      reply: FastifyReply;\n    };\n\n    handleFastifyError.call(handleFastifyError, error, request, reply, 'diagnostics-channel');\n  });\n\n  // Returning this as unknown not to deal with the internal types of the FastifyOtelInstrumentation\n  return fastifyOtelInstrumentationInstance as Instrumentation<InstrumentationConfig & FastifyIntegrationOptions>;\n});\n\nconst _fastifyIntegration = (({ shouldHandleError }: Partial<FastifyIntegrationOptions>) => {\n  let _shouldHandleError: (error: Error, request: FastifyRequest, reply: FastifyReply) => boolean;\n\n  return {\n    name: INTEGRATION_NAME,\n    setupOnce() {\n      _shouldHandleError = shouldHandleError || defaultShouldHandleError;\n\n      instrumentFastifyV3();\n      instrumentFastify();\n    },\n    getShouldHandleError() {\n      return _shouldHandleError;\n    },\n    setShouldHandleError(fn: (error: Error, request: FastifyRequest, reply: FastifyReply) => boolean): void {\n      _shouldHandleError = fn;\n    },\n  };\n}) satisfies IntegrationFn;\n\n/**\n * Adds Sentry tracing instrumentation for [Fastify](https://fastify.dev/).\n *\n * If you also want to capture errors, you need to call `setupFastifyErrorHandler(app)` after you set up your Fastify server.\n *\n * For more information, see the [fastify documentation](https://docs.sentry.io/platforms/javascript/guides/fastify/).\n *\n * @example\n * ```javascript\n * const Sentry = require('@sentry/node');\n *\n * Sentry.init({\n *   integrations: [Sentry.fastifyIntegration()],\n * })\n * ```\n */\nexport const fastifyIntegration = defineIntegration((options: Partial<FastifyIntegrationOptions> = {}) =>\n  _fastifyIntegration(options),\n);\n\n/**\n * Default function to determine if an error should be sent to Sentry\n *\n * 3xx and 4xx errors are not sent by default.\n */\nfunction defaultShouldHandleError(_error: Error, _request: FastifyRequest, reply: FastifyReply): boolean {\n  const statusCode = reply.statusCode;\n  // 3xx and 4xx errors are not sent by default.\n  return statusCode >= 500 || statusCode <= 299;\n}\n\n/**\n * Add an Fastify error handler to capture errors to Sentry.\n *\n * @param fastify The Fastify instance to which to add the error handler\n * @param options Configuration options for the handler\n *\n * @example\n * ```javascript\n * const Sentry = require('@sentry/node');\n * const Fastify = require(\"fastify\");\n *\n * const app = Fastify();\n *\n * Sentry.setupFastifyErrorHandler(app);\n *\n * // Add your routes, etc.\n *\n * app.listen({ port: 3000 });\n * ```\n */\nexport function setupFastifyErrorHandler(fastify: FastifyInstance, options?: Partial<FastifyHandlerOptions>): void {\n  if (options?.shouldHandleError) {\n    getFastifyIntegration()?.setShouldHandleError(options.shouldHandleError);\n  }\n\n  const plugin = Object.assign(\n    function (fastify: FastifyInstance, _options: unknown, done: () => void): void {\n      fastify.addHook('onError', async (request, reply, error) => {\n        handleFastifyError.call(handleFastifyError, error, request, reply, 'onError-hook');\n      });\n      done();\n    },\n    {\n      [Symbol.for('skip-override')]: true,\n      [Symbol.for('fastify.display-name')]: 'sentry-fastify-error-handler',\n    },\n  );\n\n  // eslint-disable-next-line @typescript-eslint/no-floating-promises\n  fastify.register(plugin);\n}\n\nfunction addFastifySpanAttributes(span: Span): void {\n  const spanJSON = spanToJSON(span);\n  const spanName = spanJSON.description;\n  const attributes = spanJSON.data;\n\n  const type = attributes['fastify.type'];\n\n  const isHook = type === 'hook';\n  const isHandler = type === spanName?.startsWith('handler -');\n  // In @fastify/otel `request-handler` is separated by dash, not underscore\n  const isRequestHandler = spanName === 'request' || type === 'request-handler';\n\n  // If this is already set, or we have no fastify span, no need to process again...\n  if (attributes[SEMANTIC_ATTRIBUTE_SENTRY_OP] || (!isHandler && !isRequestHandler && !isHook)) {\n    return;\n  }\n\n  const opPrefix = isHook ? 'hook' : isHandler ? 'middleware' : isRequestHandler ? 'request-handler' : '<unknown>';\n\n  span.setAttributes({\n    [SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]: 'auto.http.otel.fastify',\n    [SEMANTIC_ATTRIBUTE_SENTRY_OP]: `${opPrefix}.fastify`,\n  });\n\n  const attrName = attributes['fastify.name'] || attributes['plugin.name'] || attributes['hook.name'];\n  if (typeof attrName === 'string') {\n    // Try removing `fastify -> ` and `@fastify/otel -> ` prefixes\n    // This is a bit of a hack, and not always working for all spans\n    // But it's the best we can do without a proper API\n    const updatedName = attrName.replace(/^fastify -> /, '').replace(/^@fastify\\/otel -> /, '');\n\n    span.updateName(updatedName);\n  }\n}\n\nfunction instrumentClient(): void {\n  const client = getClient();\n  if (client) {\n    client.on('spanStart', (span: Span) => {\n      addFastifySpanAttributes(span);\n    });\n  }\n}\n\nfunction instrumentOnRequest(fastify: FastifyInstance): void {\n  fastify.addHook('onRequest', async (request: FastifyRequest & { opentelemetry?: () => { span?: Span } }, _reply) => {\n    if (request.opentelemetry) {\n      const { span } = request.opentelemetry();\n\n      if (span) {\n        addFastifySpanAttributes(span);\n      }\n    }\n\n    const routeName = request.routeOptions?.url;\n    const method = request.method || 'GET';\n\n    getIsolationScope().setTransactionName(`${method} ${routeName}`);\n  });\n}\n"],"names":["diagnosticsChannel"],"mappings":"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"}},
    {"offset": {"line": 1675, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/tracing/graphql.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/tracing/graphql.ts"],"sourcesContent":["import type { AttributeValue } from '@opentelemetry/api';\nimport { SpanStatusCode } from '@opentelemetry/api';\nimport { GraphQLInstrumentation } from '@opentelemetry/instrumentation-graphql';\nimport type { IntegrationFn } from '@sentry/core';\nimport { defineIntegration, getRootSpan, spanToJSON } from '@sentry/core';\nimport { addOriginToSpan, generateInstrumentOnce } from '@sentry/node-core';\nimport { SEMANTIC_ATTRIBUTE_SENTRY_GRAPHQL_OPERATION } from '@sentry/opentelemetry';\n\ninterface GraphqlOptions {\n  /**\n   * Do not create spans for resolvers.\n   *\n   * Defaults to true.\n   */\n  ignoreResolveSpans?: boolean;\n\n  /**\n   * Don't create spans for the execution of the default resolver on object properties.\n   *\n   * When a resolver function is not defined on the schema for a field, graphql will\n   * use the default resolver which just looks for a property with that name on the object.\n   * If the property is not a function, it's not very interesting to trace.\n   * This option can reduce noise and number of spans created.\n   *\n   * Defaults to true.\n   */\n  ignoreTrivialResolveSpans?: boolean;\n\n  /**\n   * If this is enabled, a http.server root span containing this span will automatically be renamed to include the operation name.\n   * Set this to `false` if you do not want this behavior, and want to keep the default http.server span name.\n   *\n   * Defaults to true.\n   */\n  useOperationNameForRootSpan?: boolean;\n}\n\nconst INTEGRATION_NAME = 'Graphql';\n\nexport const instrumentGraphql = generateInstrumentOnce(\n  INTEGRATION_NAME,\n  GraphQLInstrumentation,\n  (_options: GraphqlOptions) => {\n    const options = getOptionsWithDefaults(_options);\n\n    return {\n      ...options,\n      responseHook(span, result) {\n        addOriginToSpan(span, 'auto.graphql.otel.graphql');\n\n        // We want to ensure spans are marked as errored if there are errors in the result\n        // We only do that if the span is not already marked with a status\n        const resultWithMaybeError = result as { errors?: { message: string }[] };\n        if (resultWithMaybeError.errors?.length && !spanToJSON(span).status) {\n          span.setStatus({ code: SpanStatusCode.ERROR });\n        }\n\n        const attributes = spanToJSON(span).data;\n\n        // If operation.name is not set, we fall back to use operation.type only\n        const operationType = attributes['graphql.operation.type'];\n        const operationName = attributes['graphql.operation.name'];\n\n        if (options.useOperationNameForRootSpan && operationType) {\n          const rootSpan = getRootSpan(span);\n          const rootSpanAttributes = spanToJSON(rootSpan).data;\n\n          const existingOperations = rootSpanAttributes[SEMANTIC_ATTRIBUTE_SENTRY_GRAPHQL_OPERATION] || [];\n\n          const newOperation = operationName ? `${operationType} ${operationName}` : `${operationType}`;\n\n          // We keep track of each operation on the root span\n          // This can either be a string, or an array of strings (if there are multiple operations)\n          if (Array.isArray(existingOperations)) {\n            (existingOperations as string[]).push(newOperation);\n            rootSpan.setAttribute(SEMANTIC_ATTRIBUTE_SENTRY_GRAPHQL_OPERATION, existingOperations);\n          } else if (typeof existingOperations === 'string') {\n            rootSpan.setAttribute(SEMANTIC_ATTRIBUTE_SENTRY_GRAPHQL_OPERATION, [existingOperations, newOperation]);\n          } else {\n            rootSpan.setAttribute(SEMANTIC_ATTRIBUTE_SENTRY_GRAPHQL_OPERATION, newOperation);\n          }\n\n          if (!spanToJSON(rootSpan).data['original-description']) {\n            rootSpan.setAttribute('original-description', spanToJSON(rootSpan).description);\n          }\n          // Important for e.g. @sentry/aws-serverless because this would otherwise overwrite the name again\n          rootSpan.updateName(\n            `${spanToJSON(rootSpan).data['original-description']} (${getGraphqlOperationNamesFromAttribute(\n              existingOperations,\n            )})`,\n          );\n        }\n      },\n    };\n  },\n);\n\nconst _graphqlIntegration = ((options: GraphqlOptions = {}) => {\n  return {\n    name: INTEGRATION_NAME,\n    setupOnce() {\n      // We set defaults here, too, because otherwise we'd update the instrumentation config\n      // to the config without defaults, as `generateInstrumentOnce` automatically calls `setConfig(options)`\n      // when being called the second time\n      instrumentGraphql(getOptionsWithDefaults(options));\n    },\n  };\n}) satisfies IntegrationFn;\n\n/**\n * Adds Sentry tracing instrumentation for the [graphql](https://www.npmjs.com/package/graphql) library.\n *\n * For more information, see the [`graphqlIntegration` documentation](https://docs.sentry.io/platforms/javascript/guides/node/configuration/integrations/graphql/).\n *\n * @param {GraphqlOptions} options Configuration options for the GraphQL integration.\n *\n * @example\n * ```javascript\n * const Sentry = require('@sentry/node');\n *\n * Sentry.init({\n *  integrations: [Sentry.graphqlIntegration()],\n * });\n */\nexport const graphqlIntegration = defineIntegration(_graphqlIntegration);\n\nfunction getOptionsWithDefaults(options?: GraphqlOptions): GraphqlOptions {\n  return {\n    ignoreResolveSpans: true,\n    ignoreTrivialResolveSpans: true,\n    useOperationNameForRootSpan: true,\n    ...options,\n  };\n}\n\n// copy from packages/opentelemetry/utils\nfunction getGraphqlOperationNamesFromAttribute(attr: AttributeValue): string {\n  if (Array.isArray(attr)) {\n    const sorted = attr.slice().sort();\n\n    // Up to 5 items, we just add all of them\n    if (sorted.length <= 5) {\n      return sorted.join(', ');\n    } else {\n      // Else, we add the first 5 and the diff of other operations\n      return `${sorted.slice(0, 5).join(', ')}, +${sorted.length - 5}`;\n    }\n  }\n\n  return `${attr}`;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1793, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/tracing/kafka.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/tracing/kafka.ts"],"sourcesContent":["import { KafkaJsInstrumentation } from '@opentelemetry/instrumentation-kafkajs';\nimport type { IntegrationFn } from '@sentry/core';\nimport { defineIntegration } from '@sentry/core';\nimport { addOriginToSpan, generateInstrumentOnce } from '@sentry/node-core';\n\nconst INTEGRATION_NAME = 'Kafka';\n\nexport const instrumentKafka = generateInstrumentOnce(\n  INTEGRATION_NAME,\n  () =>\n    new KafkaJsInstrumentation({\n      consumerHook(span) {\n        addOriginToSpan(span, 'auto.kafkajs.otel.consumer');\n      },\n      producerHook(span) {\n        addOriginToSpan(span, 'auto.kafkajs.otel.producer');\n      },\n    }),\n);\n\nconst _kafkaIntegration = (() => {\n  return {\n    name: INTEGRATION_NAME,\n    setupOnce() {\n      instrumentKafka();\n    },\n  };\n}) satisfies IntegrationFn;\n\n/**\n * Adds Sentry tracing instrumentation for the [kafkajs](https://www.npmjs.com/package/kafkajs) library.\n *\n * For more information, see the [`kafkaIntegration` documentation](https://docs.sentry.io/platforms/javascript/guides/node/configuration/integrations/kafka/).\n *\n * @example\n * ```javascript\n * const Sentry = require('@sentry/node');\n *\n * Sentry.init({\n *  integrations: [Sentry.kafkaIntegration()],\n * });\n */\nexport const kafkaIntegration = defineIntegration(_kafkaIntegration);\n"],"names":[],"mappings":";;;;;;;;;;;;;AAKA,MAAM,gBAAA,GAAmB,OAAO;AAEzB,MAAM,eAAA,OAAkB,4QAAsB,EACnD,gBAAgB,EAChB,IACE,IAAI,oRAAsB,CAAC;QACzB,YAAY,EAAC,IAAI,EAAE;gBACjB,2QAAe,EAAC,IAAI,EAAE,4BAA4B,CAAC;QACrD,CAAC;QACD,YAAY,EAAC,IAAI,EAAE;gBACjB,2QAAe,EAAC,IAAI,EAAE,4BAA4B,CAAC;QACrD,CAAC;IACP,CAAK,CAAC;AAGN,MAAM,iBAAA,GAAqB,MAAM;IAC/B,OAAO;QACL,IAAI,EAAE,gBAAgB;QACtB,SAAS,GAAG;YACV,eAAe,EAAE;QACnB,CAAC;IACL,CAAG;AACH,CAAC,CAAA;AAED;;;;;;;;;;;;CAYA,SACa,gBAAA,OAAmB,wPAAiB,EAAC,iBAAiB"}},
    {"offset": {"line": 1842, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/tracing/lrumemoizer.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/tracing/lrumemoizer.ts"],"sourcesContent":["import { LruMemoizerInstrumentation } from '@opentelemetry/instrumentation-lru-memoizer';\nimport type { IntegrationFn } from '@sentry/core';\nimport { defineIntegration } from '@sentry/core';\nimport { generateInstrumentOnce } from '@sentry/node-core';\n\nconst INTEGRATION_NAME = 'LruMemoizer';\n\nexport const instrumentLruMemoizer = generateInstrumentOnce(INTEGRATION_NAME, () => new LruMemoizerInstrumentation());\n\nconst _lruMemoizerIntegration = (() => {\n  return {\n    name: INTEGRATION_NAME,\n    setupOnce() {\n      instrumentLruMemoizer();\n    },\n  };\n}) satisfies IntegrationFn;\n\n/**\n * Adds Sentry tracing instrumentation for the [lru-memoizer](https://www.npmjs.com/package/lru-memoizer) library.\n *\n * For more information, see the [`lruMemoizerIntegration` documentation](https://docs.sentry.io/platforms/javascript/guides/node/configuration/integrations/lrumemoizer/).\n *\n * @example\n * ```javascript\n * const Sentry = require('@sentry/node');\n *\n * Sentry.init({\n *  integrations: [Sentry.lruMemoizerIntegration()],\n * });\n */\nexport const lruMemoizerIntegration = defineIntegration(_lruMemoizerIntegration);\n"],"names":[],"mappings":";;;;;;;;;;;;AAKA,MAAM,gBAAA,GAAmB,aAAa;AAE/B,MAAM,qBAAA,OAAwB,4QAAsB,EAAC,gBAAgB,EAAE,IAAM,IAAI,gSAA0B,EAAE;AAEpH,MAAM,uBAAA,GAA2B,MAAM;IACrC,OAAO;QACL,IAAI,EAAE,gBAAgB;QACtB,SAAS,GAAG;YACV,qBAAqB,EAAE;QACzB,CAAC;IACL,CAAG;AACH,CAAC,CAAA;AAED;;;;;;;;;;;;CAYA,SACa,sBAAA,OAAyB,wPAAiB,EAAC,uBAAuB"}},
    {"offset": {"line": 1883, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/tracing/mongo.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/tracing/mongo.ts"],"sourcesContent":["import { MongoDBInstrumentation } from '@opentelemetry/instrumentation-mongodb';\nimport type { IntegrationFn } from '@sentry/core';\nimport { defineIntegration } from '@sentry/core';\nimport { addOriginToSpan, generateInstrumentOnce } from '@sentry/node-core';\n\nconst INTEGRATION_NAME = 'Mongo';\n\nexport const instrumentMongo = generateInstrumentOnce(\n  INTEGRATION_NAME,\n  () =>\n    new MongoDBInstrumentation({\n      dbStatementSerializer: _defaultDbStatementSerializer,\n      responseHook(span) {\n        addOriginToSpan(span, 'auto.db.otel.mongo');\n      },\n    }),\n);\n\n/**\n * Replaces values in document with '?', hiding PII and helping grouping.\n */\nexport function _defaultDbStatementSerializer(commandObj: Record<string, unknown>): string {\n  const resultObj = _scrubStatement(commandObj);\n  return JSON.stringify(resultObj);\n}\n\nfunction _scrubStatement(value: unknown): unknown {\n  if (Array.isArray(value)) {\n    return value.map(element => _scrubStatement(element));\n  }\n\n  if (isCommandObj(value)) {\n    const initial: Record<string, unknown> = {};\n    return Object.entries(value)\n      .map(([key, element]) => [key, _scrubStatement(element)])\n      .reduce((prev, current) => {\n        if (isCommandEntry(current)) {\n          prev[current[0]] = current[1];\n        }\n        return prev;\n      }, initial);\n  }\n\n  // A value like string or number, possible contains PII, scrub it\n  return '?';\n}\n\nfunction isCommandObj(value: Record<string, unknown> | unknown): value is Record<string, unknown> {\n  return typeof value === 'object' && value !== null && !isBuffer(value);\n}\n\nfunction isBuffer(value: unknown): boolean {\n  let isBuffer = false;\n  if (typeof Buffer !== 'undefined') {\n    isBuffer = Buffer.isBuffer(value);\n  }\n  return isBuffer;\n}\n\nfunction isCommandEntry(value: [string, unknown] | unknown): value is [string, unknown] {\n  return Array.isArray(value);\n}\n\nconst _mongoIntegration = (() => {\n  return {\n    name: INTEGRATION_NAME,\n    setupOnce() {\n      instrumentMongo();\n    },\n  };\n}) satisfies IntegrationFn;\n\n/**\n * Adds Sentry tracing instrumentation for the [mongodb](https://www.npmjs.com/package/mongodb) library.\n *\n * For more information, see the [`mongoIntegration` documentation](https://docs.sentry.io/platforms/javascript/guides/node/configuration/integrations/mongo/).\n *\n * @example\n * ```javascript\n * const Sentry = require('@sentry/node');\n *\n * Sentry.init({\n *  integrations: [Sentry.mongoIntegration()],\n * });\n * ```\n */\nexport const mongoIntegration = defineIntegration(_mongoIntegration);\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAKA,MAAM,gBAAA,GAAmB,OAAO;AAEzB,MAAM,eAAA,OAAkB,4QAAsB,EACnD,gBAAgB,EAChB,IACE,IAAI,oRAAsB,CAAC;QACzB,qBAAqB,EAAE,6BAA6B;QACpD,YAAY,EAAC,IAAI,EAAE;gBACjB,2QAAe,EAAC,IAAI,EAAE,oBAAoB,CAAC;QAC7C,CAAC;IACP,CAAK,CAAC;AAGN;;CAEA,GACO,SAAS,6BAA6B,CAAC,UAAU,EAAmC;IACzF,MAAM,SAAA,GAAY,eAAe,CAAC,UAAU,CAAC;IAC7C,OAAO,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC;AAClC;AAEA,SAAS,eAAe,CAAC,KAAK,EAAoB;IAChD,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;QACxB,OAAO,KAAK,CAAC,GAAG,EAAC,OAAA,GAAW,eAAe,CAAC,OAAO,CAAC,CAAC;IACvD;IAEA,IAAI,YAAY,CAAC,KAAK,CAAC,EAAE;QACvB,MAAM,OAAO,GAA4B,CAAA,CAAE;QAC3C,OAAO,MAAM,CAAC,OAAO,CAAC,KAAK,EACxB,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,OAAO,CAAC,GAAK;gBAAC,GAAG;gBAAE,eAAe,CAAC,OAAO,CAAC;aAAC,EACvD,MAAM,CAAC,CAAC,IAAI,EAAE,OAAO,KAAK;YACzB,IAAI,cAAc,CAAC,OAAO,CAAC,EAAE;gBAC3B,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAA,GAAI,OAAO,CAAC,CAAC,CAAC;YAC/B;YACA,OAAO,IAAI;QACb,CAAC,EAAE,OAAO,CAAC;IACf;IAEF,iEAAA;IACE,OAAO,GAAG;AACZ;AAEA,SAAS,YAAY,CAAC,KAAK,EAAuE;IAChG,OAAO,OAAO,KAAA,KAAU,YAAY,KAAA,KAAU,IAAA,IAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC;AACxE;AAEA,SAAS,QAAQ,CAAC,KAAK,EAAoB;IACzC,IAAI,QAAA,GAAW,KAAK;IACpB,IAAI,OAAO,MAAA,KAAW,WAAW,EAAE;QACjC,WAAW,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC;IACnC;IACA,OAAO,QAAQ;AACjB;AAEA,SAAS,cAAc,CAAC,KAAK,EAA2D;IACtF,OAAO,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC;AAC7B;AAEA,MAAM,iBAAA,GAAqB,MAAM;IAC/B,OAAO;QACL,IAAI,EAAE,gBAAgB;QACtB,SAAS,GAAG;YACV,eAAe,EAAE;QACnB,CAAC;IACL,CAAG;AACH,CAAC,CAAA;AAED;;;;;;;;;;;;;CAaA,SACa,gBAAA,OAAmB,wPAAiB,EAAC,iBAAiB"}},
    {"offset": {"line": 1971, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/tracing/mongoose.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/tracing/mongoose.ts"],"sourcesContent":["import { MongooseInstrumentation } from '@opentelemetry/instrumentation-mongoose';\nimport type { IntegrationFn } from '@sentry/core';\nimport { defineIntegration } from '@sentry/core';\nimport { addOriginToSpan, generateInstrumentOnce } from '@sentry/node-core';\n\nconst INTEGRATION_NAME = 'Mongoose';\n\nexport const instrumentMongoose = generateInstrumentOnce(\n  INTEGRATION_NAME,\n  () =>\n    new MongooseInstrumentation({\n      responseHook(span) {\n        addOriginToSpan(span, 'auto.db.otel.mongoose');\n      },\n    }),\n);\n\nconst _mongooseIntegration = (() => {\n  return {\n    name: INTEGRATION_NAME,\n    setupOnce() {\n      instrumentMongoose();\n    },\n  };\n}) satisfies IntegrationFn;\n\n/**\n * Adds Sentry tracing instrumentation for the [mongoose](https://www.npmjs.com/package/mongoose) library.\n *\n * For more information, see the [`mongooseIntegration` documentation](https://docs.sentry.io/platforms/javascript/guides/node/configuration/integrations/mongoose/).\n *\n * @example\n * ```javascript\n * const Sentry = require('@sentry/node');\n *\n * Sentry.init({\n *  integrations: [Sentry.mongooseIntegration()],\n * });\n * ```\n */\nexport const mongooseIntegration = defineIntegration(_mongooseIntegration);\n"],"names":[],"mappings":";;;;;;;;;;;;;AAKA,MAAM,gBAAA,GAAmB,UAAU;AAE5B,MAAM,kBAAA,OAAqB,4QAAsB,EACtD,gBAAgB,EAChB,IACE,IAAI,sRAAuB,CAAC;QAC1B,YAAY,EAAC,IAAI,EAAE;gBACjB,2QAAe,EAAC,IAAI,EAAE,uBAAuB,CAAC;QAChD,CAAC;IACP,CAAK,CAAC;AAGN,MAAM,oBAAA,GAAwB,MAAM;IAClC,OAAO;QACL,IAAI,EAAE,gBAAgB;QACtB,SAAS,GAAG;YACV,kBAAkB,EAAE;QACtB,CAAC;IACL,CAAG;AACH,CAAC,CAAA;AAED;;;;;;;;;;;;;CAaA,SACa,mBAAA,OAAsB,wPAAiB,EAAC,oBAAoB"}},
    {"offset": {"line": 2018, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/tracing/mysql.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/tracing/mysql.ts"],"sourcesContent":["import { MySQLInstrumentation } from '@opentelemetry/instrumentation-mysql';\nimport type { IntegrationFn } from '@sentry/core';\nimport { defineIntegration } from '@sentry/core';\nimport { generateInstrumentOnce } from '@sentry/node-core';\n\nconst INTEGRATION_NAME = 'Mysql';\n\nexport const instrumentMysql = generateInstrumentOnce(INTEGRATION_NAME, () => new MySQLInstrumentation({}));\n\nconst _mysqlIntegration = (() => {\n  return {\n    name: INTEGRATION_NAME,\n    setupOnce() {\n      instrumentMysql();\n    },\n  };\n}) satisfies IntegrationFn;\n\n/**\n * Adds Sentry tracing instrumentation for the [mysql](https://www.npmjs.com/package/mysql) library.\n *\n * For more information, see the [`mysqlIntegration` documentation](https://docs.sentry.io/platforms/javascript/guides/node/configuration/integrations/mysql/).\n *\n * @example\n * ```javascript\n * const Sentry = require('@sentry/node');\n *\n * Sentry.init({\n *  integrations: [Sentry.mysqlIntegration()],\n * });\n * ```\n */\nexport const mysqlIntegration = defineIntegration(_mysqlIntegration);\n"],"names":[],"mappings":";;;;;;;;;;;;AAKA,MAAM,gBAAA,GAAmB,OAAO;MAEnB,eAAA,OAAkB,4QAAsB,EAAC,gBAAgB,EAAE,IAAM,IAAI,gRAAoB,CAAC,CAAA,CAAE,CAAC;AAE1G,MAAM,iBAAA,GAAqB,MAAM;IAC/B,OAAO;QACL,IAAI,EAAE,gBAAgB;QACtB,SAAS,GAAG;YACV,eAAe,EAAE;QACnB,CAAC;IACL,CAAG;AACH,CAAC,CAAA;AAED;;;;;;;;;;;;;CAaA,SACa,gBAAA,OAAmB,wPAAiB,EAAC,iBAAiB"}},
    {"offset": {"line": 2060, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/tracing/mysql2.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/tracing/mysql2.ts"],"sourcesContent":["import { MySQL2Instrumentation } from '@opentelemetry/instrumentation-mysql2';\nimport type { IntegrationFn } from '@sentry/core';\nimport { defineIntegration } from '@sentry/core';\nimport { addOriginToSpan, generateInstrumentOnce } from '@sentry/node-core';\n\nconst INTEGRATION_NAME = 'Mysql2';\n\nexport const instrumentMysql2 = generateInstrumentOnce(\n  INTEGRATION_NAME,\n  () =>\n    new MySQL2Instrumentation({\n      responseHook(span) {\n        addOriginToSpan(span, 'auto.db.otel.mysql2');\n      },\n    }),\n);\n\nconst _mysql2Integration = (() => {\n  return {\n    name: INTEGRATION_NAME,\n    setupOnce() {\n      instrumentMysql2();\n    },\n  };\n}) satisfies IntegrationFn;\n\n/**\n * Adds Sentry tracing instrumentation for the [mysql2](https://www.npmjs.com/package/mysql2) library.\n *\n * For more information, see the [`mysql2Integration` documentation](https://docs.sentry.io/platforms/javascript/guides/node/configuration/integrations/mysql2/).\n *\n * @example\n * ```javascript\n * const Sentry = require('@sentry/node');\n *\n * Sentry.init({\n *  integrations: [Sentry.mysqlIntegration()],\n * });\n * ```\n */\nexport const mysql2Integration = defineIntegration(_mysql2Integration);\n"],"names":[],"mappings":";;;;;;;;;;;;;AAKA,MAAM,gBAAA,GAAmB,QAAQ;AAE1B,MAAM,gBAAA,OAAmB,4QAAsB,EACpD,gBAAgB,EAChB,IACE,IAAI,kRAAqB,CAAC;QACxB,YAAY,EAAC,IAAI,EAAE;gBACjB,2QAAe,EAAC,IAAI,EAAE,qBAAqB,CAAC;QAC9C,CAAC;IACP,CAAK,CAAC;AAGN,MAAM,kBAAA,GAAsB,MAAM;IAChC,OAAO;QACL,IAAI,EAAE,gBAAgB;QACtB,SAAS,GAAG;YACV,gBAAgB,EAAE;QACpB,CAAC;IACL,CAAG;AACH,CAAC,CAAA;AAED;;;;;;;;;;;;;CAaA,SACa,iBAAA,OAAoB,wPAAiB,EAAC,kBAAkB"}},
    {"offset": {"line": 2107, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/utils/redisCache.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/utils/redisCache.ts"],"sourcesContent":["import type { CommandArgs as IORedisCommandArgs } from '@opentelemetry/instrumentation-ioredis';\n\nconst SINGLE_ARG_COMMANDS = ['get', 'set', 'setex'];\n\nexport const GET_COMMANDS = ['get', 'mget'];\nexport const SET_COMMANDS = ['set', 'setex'];\n// todo: del, expire\n\n/** Checks if a given command is in the list of redis commands.\n *  Useful because commands can come in lowercase or uppercase (depending on the library). */\nexport function isInCommands(redisCommands: string[], command: string): boolean {\n  return redisCommands.includes(command.toLowerCase());\n}\n\n/** Determine cache operation based on redis statement */\nexport function getCacheOperation(\n  command: string,\n): 'cache.get' | 'cache.put' | 'cache.remove' | 'cache.flush' | undefined {\n  if (isInCommands(GET_COMMANDS, command)) {\n    return 'cache.get';\n  } else if (isInCommands(SET_COMMANDS, command)) {\n    return 'cache.put';\n  } else {\n    return undefined;\n  }\n}\n\nfunction keyHasPrefix(key: string, prefixes: string[]): boolean {\n  return prefixes.some(prefix => key.startsWith(prefix));\n}\n\n/** Safely converts a redis key to a string (comma-separated if there are multiple keys) */\nexport function getCacheKeySafely(redisCommand: string, cmdArgs: IORedisCommandArgs): string[] | undefined {\n  try {\n    if (cmdArgs.length === 0) {\n      return undefined;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const processArg = (arg: string | Buffer | number | any[]): string[] => {\n      if (typeof arg === 'string' || typeof arg === 'number' || Buffer.isBuffer(arg)) {\n        return [arg.toString()];\n      } else if (Array.isArray(arg)) {\n        return flatten(arg.map(arg => processArg(arg)));\n      } else {\n        return ['<unknown>'];\n      }\n    };\n\n    const firstArg = cmdArgs[0];\n    if (isInCommands(SINGLE_ARG_COMMANDS, redisCommand) && firstArg != null) {\n      return processArg(firstArg);\n    }\n\n    return flatten(cmdArgs.map(arg => processArg(arg)));\n  } catch {\n    return undefined;\n  }\n}\n\n/** Determines whether a redis operation should be considered as \"cache operation\" by checking if a key is prefixed.\n *  We only support certain commands (such as 'set', 'get', 'mget'). */\nexport function shouldConsiderForCache(redisCommand: string, keys: string[], prefixes: string[]): boolean {\n  if (!getCacheOperation(redisCommand)) {\n    return false;\n  }\n\n  for (const key of keys) {\n    if (keyHasPrefix(key, prefixes)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/** Calculates size based on the cache response value */\nexport function calculateCacheItemSize(response: unknown): number | undefined {\n  const getSize = (value: unknown): number | undefined => {\n    try {\n      if (Buffer.isBuffer(value)) return value.byteLength;\n      else if (typeof value === 'string') return value.length;\n      else if (typeof value === 'number') return value.toString().length;\n      else if (value === null || value === undefined) return 0;\n      return JSON.stringify(value).length;\n    } catch {\n      return undefined;\n    }\n  };\n\n  return Array.isArray(response)\n    ? response.reduce((acc: number | undefined, curr) => {\n        const size = getSize(curr);\n        return typeof size === 'number' ? (acc !== undefined ? acc + size : size) : acc;\n      }, 0)\n    : getSize(response);\n}\n\ntype NestedArray<T> = Array<NestedArray<T> | T>;\n\nfunction flatten<T>(input: NestedArray<T>): T[] {\n  const result: T[] = [];\n\n  const flattenHelper = (input: NestedArray<T>): void => {\n    input.forEach((el: T | NestedArray<T>) => {\n      if (Array.isArray(el)) {\n        flattenHelper(el);\n      } else {\n        result.push(el);\n      }\n    });\n  };\n\n  flattenHelper(input);\n  return result;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2230, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/tracing/redis.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/tracing/redis.ts"],"sourcesContent":["import type { Span } from '@opentelemetry/api';\nimport type { RedisResponseCustomAttributeFunction } from '@opentelemetry/instrumentation-ioredis';\nimport { IORedisInstrumentation } from '@opentelemetry/instrumentation-ioredis';\nimport { RedisInstrumentation } from '@opentelemetry/instrumentation-redis';\nimport type { IntegrationFn } from '@sentry/core';\nimport {\n  defineIntegration,\n  SEMANTIC_ATTRIBUTE_CACHE_HIT,\n  SEMANTIC_ATTRIBUTE_CACHE_ITEM_SIZE,\n  SEMANTIC_ATTRIBUTE_CACHE_KEY,\n  SEMANTIC_ATTRIBUTE_SENTRY_OP,\n  SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,\n  spanToJSON,\n  truncate,\n} from '@sentry/core';\nimport { generateInstrumentOnce } from '@sentry/node-core';\nimport {\n  calculateCacheItemSize,\n  GET_COMMANDS,\n  getCacheKeySafely,\n  getCacheOperation,\n  isInCommands,\n  shouldConsiderForCache,\n} from '../../utils/redisCache';\n\ninterface RedisOptions {\n  /**\n   * Define cache prefixes for cache keys that should be captured as a cache span.\n   *\n   * Setting this to, for example, `['user:']` will capture cache keys that start with `user:`.\n   */\n  cachePrefixes?: string[];\n  /**\n   * Maximum length of the cache key added to the span description. If the key exceeds this length, it will be truncated.\n   *\n   * Passing `0` will use the full cache key without truncation.\n   *\n   * By default, the full cache key is used.\n   */\n  maxCacheKeyLength?: number;\n}\n\nconst INTEGRATION_NAME = 'Redis';\n\n/* Only exported for testing purposes */\nexport let _redisOptions: RedisOptions = {};\n\n/* Only exported for testing purposes */\nexport const cacheResponseHook: RedisResponseCustomAttributeFunction = (\n  span: Span,\n  redisCommand,\n  cmdArgs,\n  response,\n) => {\n  span.setAttribute(SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN, 'auto.db.otel.redis');\n\n  const safeKey = getCacheKeySafely(redisCommand, cmdArgs);\n  const cacheOperation = getCacheOperation(redisCommand);\n\n  if (\n    !safeKey ||\n    !cacheOperation ||\n    !_redisOptions.cachePrefixes ||\n    !shouldConsiderForCache(redisCommand, safeKey, _redisOptions.cachePrefixes)\n  ) {\n    // not relevant for cache\n    return;\n  }\n\n  // otel/ioredis seems to be using the old standard, as there was a change to those params: https://github.com/open-telemetry/opentelemetry-specification/issues/3199\n  // We are using params based on the docs: https://opentelemetry.io/docs/specs/semconv/attributes-registry/network/\n  const networkPeerAddress = spanToJSON(span).data['net.peer.name'];\n  const networkPeerPort = spanToJSON(span).data['net.peer.port'];\n  if (networkPeerPort && networkPeerAddress) {\n    span.setAttributes({ 'network.peer.address': networkPeerAddress, 'network.peer.port': networkPeerPort });\n  }\n\n  const cacheItemSize = calculateCacheItemSize(response);\n\n  if (cacheItemSize) {\n    span.setAttribute(SEMANTIC_ATTRIBUTE_CACHE_ITEM_SIZE, cacheItemSize);\n  }\n\n  if (isInCommands(GET_COMMANDS, redisCommand) && cacheItemSize !== undefined) {\n    span.setAttribute(SEMANTIC_ATTRIBUTE_CACHE_HIT, cacheItemSize > 0);\n  }\n\n  span.setAttributes({\n    [SEMANTIC_ATTRIBUTE_SENTRY_OP]: cacheOperation,\n    [SEMANTIC_ATTRIBUTE_CACHE_KEY]: safeKey,\n  });\n\n  // todo: change to string[] once EAP supports it\n  const spanDescription = safeKey.join(', ');\n\n  span.updateName(\n    _redisOptions.maxCacheKeyLength ? truncate(spanDescription, _redisOptions.maxCacheKeyLength) : spanDescription,\n  );\n};\n\nconst instrumentIORedis = generateInstrumentOnce(`${INTEGRATION_NAME}.IORedis`, () => {\n  return new IORedisInstrumentation({\n    responseHook: cacheResponseHook,\n  });\n});\n\nconst instrumentRedisModule = generateInstrumentOnce(`${INTEGRATION_NAME}.Redis`, () => {\n  return new RedisInstrumentation({\n    responseHook: cacheResponseHook,\n  });\n});\n\n/** To be able to preload all Redis OTel instrumentations with just one ID (\"Redis\"), all the instrumentations are generated in this one function  */\nexport const instrumentRedis = Object.assign(\n  (): void => {\n    instrumentIORedis();\n    instrumentRedisModule();\n\n    // todo: implement them gradually\n    // new LegacyRedisInstrumentation({}),\n  },\n  { id: INTEGRATION_NAME },\n);\n\nconst _redisIntegration = ((options: RedisOptions = {}) => {\n  return {\n    name: INTEGRATION_NAME,\n    setupOnce() {\n      _redisOptions = options;\n      instrumentRedis();\n    },\n  };\n}) satisfies IntegrationFn;\n\n/**\n * Adds Sentry tracing instrumentation for the [redis](https://www.npmjs.com/package/redis) and\n * [ioredis](https://www.npmjs.com/package/ioredis) libraries.\n *\n * For more information, see the [`redisIntegration` documentation](https://docs.sentry.io/platforms/javascript/guides/node/configuration/integrations/redis/).\n *\n * @example\n * ```javascript\n * const Sentry = require('@sentry/node');\n *\n * Sentry.init({\n *  integrations: [Sentry.redisIntegration()],\n * });\n * ```\n */\nexport const redisIntegration = defineIntegration(_redisIntegration);\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AA0CA,MAAM,gBAAA,GAAmB,OAAO;AAEhC,sCAAA,GACO,IAAI,aAAa,GAAiB,CAAA;AAEzC,sCAAA,GACO,MAAM,iBAAiB,GAAyC,CACrE,IAAI,EACJ,YAAY,EACZ,OAAO,EACP,QAAQ;IAER,IAAI,CAAC,YAAY,CAAC,8QAAgC,EAAE,oBAAoB,CAAC;IAEzE,MAAM,cAAU,gQAAiB,EAAC,YAAY,EAAE,OAAO,CAAC;IACxD,MAAM,cAAA,OAAiB,gQAAiB,EAAC,YAAY,CAAC;IAEtD,IACE,CAAC,OAAA,IACD,CAAC,cAAA,IACD,CAAC,aAAa,CAAC,aAAA,IACf,KAAC,qQAAsB,EAAC,YAAY,EAAE,OAAO,EAAE,aAAa,CAAC,aAAa,GAC1E;QACJ,yBAAA;QACI;IACF;IAEF,oKAAA;IACA,kHAAA;IACE,MAAM,kBAAA,OAAqB,wPAAU,EAAC,IAAI,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC;IACjE,MAAM,eAAA,OAAkB,wPAAU,EAAC,IAAI,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC;IAC9D,IAAI,eAAA,IAAmB,kBAAkB,EAAE;QACzC,IAAI,CAAC,aAAa,CAAC;YAAE,sBAAsB,EAAE,kBAAkB;YAAE,mBAAmB,EAAE,eAAA;QAAA,CAAiB,CAAC;IAC1G;IAEA,MAAM,aAAA,OAAgB,qQAAsB,EAAC,QAAQ,CAAC;IAEtD,IAAI,aAAa,EAAE;QACjB,IAAI,CAAC,YAAY,CAAC,gRAAkC,EAAE,aAAa,CAAC;IACtE;IAEA,QAAI,2PAAY,EAAC,2PAAY,EAAE,YAAY,CAAA,IAAK,aAAA,KAAkB,SAAS,EAAE;QAC3E,IAAI,CAAC,YAAY,CAAC,0QAA4B,EAAE,aAAA,GAAgB,CAAC,CAAC;IACpE;IAEA,IAAI,CAAC,aAAa,CAAC;QACjB,CAAC,0QAA4B,CAAA,EAAG,cAAc;QAC9C,CAAC,0QAA4B,CAAA,EAAG,OAAO;IAC3C,CAAG,CAAC;IAEJ,gDAAA;IACE,MAAM,kBAAkB,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC;IAE1C,IAAI,CAAC,UAAU,CACb,aAAa,CAAC,iBAAA,OAAoB,mPAAQ,EAAC,eAAe,EAAE,aAAa,CAAC,iBAAiB,CAAA,GAAI,eAAe;AAElH;AAEA,MAAM,iBAAA,OAAoB,4QAAsB,EAAC,CAAC,EAAA,gBAAA,CAAA,QAAA,CAAA,EAAA,MAAA;IACA,OAAA,IAAA,oRAAA,CAAA;QACA,YAAA,EAAA,iBAAA;IACA,CAAA,CAAA;AACA,CAAA,CAAA;AAEA,MAAA,qBAAA,OAAA,4QAAA,EAAA,CAAA,EAAA,gBAAA,CAAA,MAAA,CAAA,EAAA,MAAA;IACA,OAAA,IAAA,gRAAA,CAAA;QACA,YAAA,EAAA,iBAAA;IACA,CAAA,CAAA;AACA,CAAA,CAAA;AAEA,mJAAA,GACA,MAAA,eAAA,GAAA,MAAA,CAAA,MAAA,CACA,MAAA;IACA,iBAAA,EAAA;IACA,qBAAA,EAAA;AAEA,iCAAA;AACA,sCAAA;AACA,CAAA,EACA;IAAA,EAAA,EAAA,gBAAA;AAAA,CAAA;AAGA,MAAA,iBAAA,GAAA,CAAA,OAAA,GAAA,CAAA,CAAA,KAAA;IACA,OAAA;QACA,IAAA,EAAA,gBAAA;QACA,SAAA,GAAA;YACA,aAAA,GAAA,OAAA;YACA,eAAA,EAAA;QACA,CAAA;IACA,CAAA;AACA,CAAA,CAAA;AAEA;;;;;;;;;;;;;;CAcA,GACA,MAAA,gBAAA,OAAA,wPAAA,EAAA,iBAAA"}},
    {"offset": {"line": 2336, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/tracing/postgres.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/tracing/postgres.ts"],"sourcesContent":["import { PgInstrumentation } from '@opentelemetry/instrumentation-pg';\nimport type { IntegrationFn } from '@sentry/core';\nimport { defineIntegration } from '@sentry/core';\nimport { addOriginToSpan, generateInstrumentOnce } from '@sentry/node-core';\n\nconst INTEGRATION_NAME = 'Postgres';\n\nexport const instrumentPostgres = generateInstrumentOnce(\n  INTEGRATION_NAME,\n  () =>\n    new PgInstrumentation({\n      requireParentSpan: true,\n      requestHook(span) {\n        addOriginToSpan(span, 'auto.db.otel.postgres');\n      },\n    }),\n);\n\nconst _postgresIntegration = (() => {\n  return {\n    name: INTEGRATION_NAME,\n    setupOnce() {\n      instrumentPostgres();\n    },\n  };\n}) satisfies IntegrationFn;\n\n/**\n * Adds Sentry tracing instrumentation for the [pg](https://www.npmjs.com/package/pg) library.\n *\n * For more information, see the [`postgresIntegration` documentation](https://docs.sentry.io/platforms/javascript/guides/node/configuration/integrations/postgres/).\n *\n * @example\n * ```javascript\n * const Sentry = require('@sentry/node');\n *\n * Sentry.init({\n *  integrations: [Sentry.postgresIntegration()],\n * });\n * ```\n */\nexport const postgresIntegration = defineIntegration(_postgresIntegration);\n"],"names":[],"mappings":";;;;;;;;;;;;;AAKA,MAAM,gBAAA,GAAmB,UAAU;AAE5B,MAAM,kBAAA,OAAqB,4QAAsB,EACtD,gBAAgB,EAChB,IACE,IAAI,0QAAiB,CAAC;QACpB,iBAAiB,EAAE,IAAI;QACvB,WAAW,EAAC,IAAI,EAAE;gBAChB,2QAAe,EAAC,IAAI,EAAE,uBAAuB,CAAC;QAChD,CAAC;IACP,CAAK,CAAC;AAGN,MAAM,oBAAA,GAAwB,MAAM;IAClC,OAAO;QACL,IAAI,EAAE,gBAAgB;QACtB,SAAS,GAAG;YACV,kBAAkB,EAAE;QACtB,CAAC;IACL,CAAG;AACH,CAAC,CAAA;AAED;;;;;;;;;;;;;CAaA,SACa,mBAAA,OAAsB,wPAAiB,EAAC,oBAAoB"}},
    {"offset": {"line": 2384, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/tracing/postgresjs.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/tracing/postgresjs.ts"],"sourcesContent":["// Instrumentation for https://github.com/porsager/postgres\nimport { context, trace } from '@opentelemetry/api';\nimport type { InstrumentationConfig } from '@opentelemetry/instrumentation';\nimport {\n  InstrumentationBase,\n  InstrumentationNodeModuleDefinition,\n  InstrumentationNodeModuleFile,\n  safeExecuteInTheMiddle,\n} from '@opentelemetry/instrumentation';\nimport {\n  ATTR_DB_NAMESPACE,\n  ATTR_DB_OPERATION_NAME,\n  ATTR_DB_QUERY_TEXT,\n  ATTR_DB_RESPONSE_STATUS_CODE,\n  ATTR_DB_SYSTEM_NAME,\n  ATTR_ERROR_TYPE,\n  ATTR_SERVER_ADDRESS,\n  ATTR_SERVER_PORT,\n} from '@opentelemetry/semantic-conventions';\nimport type { IntegrationFn, Span } from '@sentry/core';\nimport {\n  debug,\n  defineIntegration,\n  getCurrentScope,\n  SDK_VERSION,\n  SPAN_STATUS_ERROR,\n  startSpanManual,\n} from '@sentry/core';\nimport { addOriginToSpan, generateInstrumentOnce } from '@sentry/node-core';\n\nconst INTEGRATION_NAME = 'PostgresJs';\nconst SUPPORTED_VERSIONS = ['>=3.0.0 <4'];\n\ntype PostgresConnectionContext = {\n  ATTR_DB_NAMESPACE?: string; // Database name\n  ATTR_SERVER_ADDRESS?: string; // Hostname or IP address of the database server\n  ATTR_SERVER_PORT?: string; // Port number of the database server\n};\n\ntype PostgresJsInstrumentationConfig = InstrumentationConfig & {\n  /**\n   * Whether to require a parent span for the instrumentation.\n   * If set to true, the instrumentation will only create spans if there is a parent span\n   * available in the current scope.\n   * @default true\n   */\n  requireParentSpan?: boolean;\n  /**\n   * Hook to modify the span before it is started.\n   * This can be used to set additional attributes or modify the span in any way.\n   */\n  requestHook?: (span: Span, sanitizedSqlQuery: string, postgresConnectionContext?: PostgresConnectionContext) => void;\n};\n\nexport const instrumentPostgresJs = generateInstrumentOnce(\n  INTEGRATION_NAME,\n  (options?: PostgresJsInstrumentationConfig) =>\n    new PostgresJsInstrumentation({\n      requireParentSpan: options?.requireParentSpan ?? true,\n      requestHook: options?.requestHook,\n    }),\n);\n\n/**\n * Instrumentation for the [postgres](https://www.npmjs.com/package/postgres) library.\n * This instrumentation captures postgresjs queries and their attributes,\n */\nexport class PostgresJsInstrumentation extends InstrumentationBase<PostgresJsInstrumentationConfig> {\n  public constructor(config: PostgresJsInstrumentationConfig) {\n    super('sentry-postgres-js', SDK_VERSION, config);\n  }\n\n  /**\n   * Initializes the instrumentation.\n   */\n  public init(): InstrumentationNodeModuleDefinition[] {\n    const instrumentationModule = new InstrumentationNodeModuleDefinition('postgres', SUPPORTED_VERSIONS);\n\n    ['src', 'cf/src', 'cjs/src'].forEach(path => {\n      instrumentationModule.files.push(\n        new InstrumentationNodeModuleFile(\n          `postgres/${path}/connection.js`,\n          ['*'],\n          this._patchConnection.bind(this),\n          this._unwrap.bind(this),\n        ),\n      );\n\n      instrumentationModule.files.push(\n        new InstrumentationNodeModuleFile(\n          `postgres/${path}/query.js`,\n          SUPPORTED_VERSIONS,\n          this._patchQuery.bind(this),\n          this._unwrap.bind(this),\n        ),\n      );\n    });\n\n    return [instrumentationModule];\n  }\n\n  /**\n   * Determines whether a span should be created based on the current context.\n   * If `requireParentSpan` is set to true in the configuration, a span will\n   * only be created if there is a parent span available.\n   */\n  private _shouldCreateSpans(): boolean {\n    const config = this.getConfig();\n    const hasParentSpan = trace.getSpan(context.active()) !== undefined;\n    return hasParentSpan || !config.requireParentSpan;\n  }\n\n  /**\n   * Patches the reject method of the Query class to set the span status and end it\n   */\n  private _patchReject(rejectTarget: any, span: Span): any {\n    return new Proxy(rejectTarget, {\n      apply: (\n        rejectTarget,\n        rejectThisArg,\n        rejectArgs: {\n          message?: string;\n          code?: string;\n          name?: string;\n        }[],\n      ) => {\n        span.setStatus({\n          code: SPAN_STATUS_ERROR,\n          // This message is the error message from the rejectArgs, when available\n          // e.g \"relation 'User' does not exist\"\n          message: rejectArgs?.[0]?.message || 'internal_error',\n        });\n\n        const result = Reflect.apply(rejectTarget, rejectThisArg, rejectArgs);\n\n        // This status code is PG error code, e.g. '42P01' for \"relation does not exist\"\n        // https://www.postgresql.org/docs/current/errcodes-appendix.html\n        span.setAttribute(ATTR_DB_RESPONSE_STATUS_CODE, rejectArgs?.[0]?.code || 'Unknown error');\n        // This is the error type, e.g. 'PostgresError' for a Postgres error\n        span.setAttribute(ATTR_ERROR_TYPE, rejectArgs?.[0]?.name || 'Unknown error');\n\n        span.end();\n        return result;\n      },\n    });\n  }\n\n  /**\n   * Patches the resolve method of the Query class to end the span when the query is resolved.\n   */\n  private _patchResolve(resolveTarget: any, span: Span): any {\n    return new Proxy(resolveTarget, {\n      apply: (resolveTarget, resolveThisArg, resolveArgs: [{ command?: string }]) => {\n        const result = Reflect.apply(resolveTarget, resolveThisArg, resolveArgs);\n        const sqlCommand = resolveArgs?.[0]?.command;\n\n        if (sqlCommand) {\n          // SQL command is only available when the query is resolved successfully\n          span.setAttribute(ATTR_DB_OPERATION_NAME, sqlCommand);\n        }\n        span.end();\n        return result;\n      },\n    });\n  }\n\n  /**\n   * Patches the Query class to instrument the handle method.\n   */\n  private _patchQuery(moduleExports: {\n    Query: {\n      prototype: {\n        handle: any;\n      };\n    };\n  }): any {\n    moduleExports.Query.prototype.handle = new Proxy(moduleExports.Query.prototype.handle, {\n      apply: async (\n        handleTarget,\n        handleThisArg: {\n          resolve: any;\n          reject: any;\n          strings?: string[];\n        },\n        handleArgs,\n      ) => {\n        if (!this._shouldCreateSpans()) {\n          // If we don't need to create spans, just call the original method\n          return Reflect.apply(handleTarget, handleThisArg, handleArgs);\n        }\n\n        const sanitizedSqlQuery = this._sanitizeSqlQuery(handleThisArg.strings?.[0]);\n\n        return startSpanManual(\n          {\n            name: sanitizedSqlQuery || 'postgresjs.query',\n            op: 'db',\n          },\n          (span: Span) => {\n            const scope = getCurrentScope();\n            const postgresConnectionContext = scope.getScopeData().contexts['postgresjsConnection'] as\n              | PostgresConnectionContext\n              | undefined;\n\n            addOriginToSpan(span, 'auto.db.otel.postgres');\n\n            const { requestHook } = this.getConfig();\n\n            if (requestHook) {\n              safeExecuteInTheMiddle(\n                () => requestHook(span, sanitizedSqlQuery, postgresConnectionContext),\n                error => {\n                  if (error) {\n                    debug.error(`Error in requestHook for ${INTEGRATION_NAME} integration:`, error);\n                  }\n                },\n              );\n            }\n\n            // ATTR_DB_NAMESPACE is used to indicate the database name and the schema name\n            // It's only the database name as we don't have the schema information\n            const databaseName = postgresConnectionContext?.ATTR_DB_NAMESPACE || '<unknown database>';\n            const databaseHost = postgresConnectionContext?.ATTR_SERVER_ADDRESS || '<unknown host>';\n            const databasePort = postgresConnectionContext?.ATTR_SERVER_PORT || '<unknown port>';\n\n            span.setAttribute(ATTR_DB_SYSTEM_NAME, 'postgres');\n            span.setAttribute(ATTR_DB_NAMESPACE, databaseName);\n            span.setAttribute(ATTR_SERVER_ADDRESS, databaseHost);\n            span.setAttribute(ATTR_SERVER_PORT, databasePort);\n            span.setAttribute(ATTR_DB_QUERY_TEXT, sanitizedSqlQuery);\n\n            handleThisArg.resolve = this._patchResolve(handleThisArg.resolve, span);\n            handleThisArg.reject = this._patchReject(handleThisArg.reject, span);\n\n            try {\n              return Reflect.apply(handleTarget, handleThisArg, handleArgs);\n            } catch (error) {\n              span.setStatus({\n                code: SPAN_STATUS_ERROR,\n              });\n              span.end();\n              throw error; // Re-throw the error to propagate it\n            }\n          },\n        );\n      },\n    });\n\n    return moduleExports;\n  }\n\n  /**\n   * Patches the Connection class to set the database, host, and port attributes\n   * when a new connection is created.\n   */\n  private _patchConnection(Connection: any): any {\n    return new Proxy(Connection, {\n      apply: (connectionTarget, thisArg, connectionArgs: { database: string; host: string[]; port: number[] }[]) => {\n        const databaseName = connectionArgs[0]?.database || '<unknown database>';\n        const databaseHost = connectionArgs[0]?.host?.[0] || '<unknown host>';\n        const databasePort = connectionArgs[0]?.port?.[0] || '<unknown port>';\n\n        const scope = getCurrentScope();\n        scope.setContext('postgresjsConnection', {\n          ATTR_DB_NAMESPACE: databaseName,\n          ATTR_SERVER_ADDRESS: databaseHost,\n          ATTR_SERVER_PORT: databasePort,\n        });\n\n        return Reflect.apply(connectionTarget, thisArg, connectionArgs);\n      },\n    });\n  }\n\n  /**\n   * Sanitize SQL query as per the OTEL semantic conventions\n   * https://opentelemetry.io/docs/specs/semconv/database/database-spans/#sanitization-of-dbquerytext\n   */\n  private _sanitizeSqlQuery(sqlQuery: string | undefined): string {\n    if (!sqlQuery) {\n      return 'Unknown SQL Query';\n    }\n\n    return (\n      sqlQuery\n        .replace(/\\s+/g, ' ')\n        .trim() // Remove extra spaces including newlines and trim\n        .substring(0, 1024) // Truncate to 1024 characters\n        .replace(/--.*?(\\r?\\n|$)/g, '') // Single line comments\n        .replace(/\\/\\*[\\s\\S]*?\\*\\//g, '') // Multi-line comments\n        .replace(/;\\s*$/, '') // Remove trailing semicolons\n        .replace(/\\b\\d+\\b/g, '?') // Replace standalone numbers\n        // Collapse whitespace to a single space\n        .replace(/\\s+/g, ' ')\n        // Collapse IN and in clauses\n        // eg. IN (?, ?, ?, ?) to IN (?)\n        .replace(/\\bIN\\b\\s*\\(\\s*\\?(?:\\s*,\\s*\\?)*\\s*\\)/g, 'IN (?)')\n    );\n  }\n}\n\nconst _postgresJsIntegration = (() => {\n  return {\n    name: INTEGRATION_NAME,\n    setupOnce() {\n      instrumentPostgresJs();\n    },\n  };\n}) satisfies IntegrationFn;\n\n/**\n * Adds Sentry tracing instrumentation for the [postgres](https://www.npmjs.com/package/postgres) library.\n *\n * For more information, see the [`postgresIntegration` documentation](https://docs.sentry.io/platforms/javascript/guides/node/configuration/integrations/postgres/).\n *\n * @example\n * ```javascript\n * const Sentry = require('@sentry/node');\n *\n * Sentry.init({\n *  integrations: [Sentry.postgresJsIntegration()],\n * });\n * ```\n */\n\nexport const postgresJsIntegration = defineIntegration(_postgresJsIntegration);\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2610, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/tracing/prisma.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/tracing/prisma.ts"],"sourcesContent":["import type { Link, Tracer } from '@opentelemetry/api';\nimport { context, SpanKind, trace, TraceFlags } from '@opentelemetry/api';\nimport type { Instrumentation } from '@opentelemetry/instrumentation';\nimport type { IdGenerator } from '@opentelemetry/sdk-trace-base';\nimport { PrismaInstrumentation } from '@prisma/instrumentation';\nimport { consoleSandbox, defineIntegration, SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN, spanToJSON } from '@sentry/core';\nimport { generateInstrumentOnce } from '@sentry/node-core';\nimport type { PrismaV5TracingHelper } from './prisma/vendor/v5-tracing-helper';\nimport type { PrismaV6TracingHelper } from './prisma/vendor/v6-tracing-helper';\n\nconst INTEGRATION_NAME = 'Prisma';\n\ntype CompatibilityLayerTraceHelper = PrismaV5TracingHelper & PrismaV6TracingHelper;\n\n// Vendored in from @prisma/instrumentation v5:\ntype V5EngineSpanEvent = {\n  span: boolean;\n  spans: V5EngineSpan[];\n};\n\ntype V5EngineSpanKind = 'client' | 'internal';\n\ntype V5EngineSpan = {\n  span: boolean;\n  name: string;\n  trace_id: string;\n  span_id: string;\n  parent_span_id: string;\n  start_time: [number, number];\n  end_time: [number, number];\n  attributes?: Record<string, string>;\n  links?: { trace_id: string; span_id: string }[];\n  kind: V5EngineSpanKind;\n};\n\nfunction isPrismaV6TracingHelper(helper: unknown): helper is PrismaV6TracingHelper {\n  return !!helper && typeof helper === 'object' && 'dispatchEngineSpans' in helper;\n}\n\nfunction getPrismaTracingHelper(): unknown | undefined {\n  const prismaInstrumentationObject = (globalThis as Record<string, unknown>).PRISMA_INSTRUMENTATION;\n  const prismaTracingHelper =\n    prismaInstrumentationObject &&\n    typeof prismaInstrumentationObject === 'object' &&\n    'helper' in prismaInstrumentationObject\n      ? prismaInstrumentationObject.helper\n      : undefined;\n\n  return prismaTracingHelper;\n}\n\ntype TracerWithIdGenerator = Tracer & {\n  _idGenerator?: IdGenerator;\n};\n\ninterface PrismaOptions {\n  /**\n   * @deprecated This is no longer used, v5 works out of the box.\n   */\n  prismaInstrumentation?: Instrumentation;\n}\n\nclass SentryPrismaInteropInstrumentation extends PrismaInstrumentation {\n  public constructor() {\n    super();\n  }\n\n  public enable(): void {\n    super.enable();\n\n    // The PrismaIntegration (super class) defines a global variable `global[\"PRISMA_INSTRUMENTATION\"]` when `enable()` is called. This global variable holds a \"TracingHelper\" which Prisma uses internally to create tracing data. It's their way of not depending on OTEL with their main package. The sucky thing is, prisma broke the interface of the tracing helper with the v6 major update. This means that if you use Prisma 5 with the v6 instrumentation (or vice versa) Prisma just blows up, because tries to call methods on the helper that no longer exist.\n    // Because we actually want to use the v6 instrumentation and not blow up in Prisma 5 user's faces, what we're doing here is backfilling the v5 method (`createEngineSpan`) with a noop so that no longer crashes when it attempts to call that function.\n    const prismaTracingHelper = getPrismaTracingHelper();\n\n    if (isPrismaV6TracingHelper(prismaTracingHelper)) {\n      // Inspired & adjusted from https://github.com/prisma/prisma/tree/5.22.0/packages/instrumentation\n      (prismaTracingHelper as CompatibilityLayerTraceHelper).createEngineSpan = (\n        engineSpanEvent: V5EngineSpanEvent,\n      ) => {\n        const tracer = trace.getTracer('prismaV5Compatibility') as TracerWithIdGenerator;\n\n        // Prisma v5 relies on being able to create spans with a specific span & trace ID\n        // this is no longer possible in OTEL v2, there is no public API to do this anymore\n        // So in order to kind of hack this possibility, we rely on the internal `_idGenerator` property\n        // This is used to generate the random IDs, and we overwrite this temporarily to generate static IDs\n        // This is flawed and may not work, e.g. if the code is bundled and the private property is renamed\n        // in such cases, these spans will not be captured and some Prisma spans will be missing\n        const initialIdGenerator = tracer._idGenerator;\n\n        if (!initialIdGenerator) {\n          consoleSandbox(() => {\n            // eslint-disable-next-line no-console\n            console.warn(\n              '[Sentry] Could not find _idGenerator on tracer, skipping Prisma v5 compatibility - some Prisma spans may be missing!',\n            );\n          });\n\n          return;\n        }\n\n        try {\n          engineSpanEvent.spans.forEach(engineSpan => {\n            const kind = engineSpanKindToOTELSpanKind(engineSpan.kind);\n\n            const parentSpanId = engineSpan.parent_span_id;\n            const spanId = engineSpan.span_id;\n            const traceId = engineSpan.trace_id;\n\n            const links: Link[] | undefined = engineSpan.links?.map(link => {\n              return {\n                context: {\n                  traceId: link.trace_id,\n                  spanId: link.span_id,\n                  traceFlags: TraceFlags.SAMPLED,\n                },\n              };\n            });\n\n            const ctx = trace.setSpanContext(context.active(), {\n              traceId,\n              spanId: parentSpanId,\n              traceFlags: TraceFlags.SAMPLED,\n            });\n\n            context.with(ctx, () => {\n              const temporaryIdGenerator: IdGenerator = {\n                generateTraceId: () => {\n                  return traceId;\n                },\n                generateSpanId: () => {\n                  return spanId;\n                },\n              };\n\n              tracer._idGenerator = temporaryIdGenerator;\n\n              const span = tracer.startSpan(engineSpan.name, {\n                kind,\n                links,\n                startTime: engineSpan.start_time,\n                attributes: engineSpan.attributes,\n              });\n\n              span.end(engineSpan.end_time);\n\n              tracer._idGenerator = initialIdGenerator;\n            });\n          });\n        } finally {\n          // Ensure we always restore this at the end, even if something errors\n          tracer._idGenerator = initialIdGenerator;\n        }\n      };\n    }\n  }\n}\n\nfunction engineSpanKindToOTELSpanKind(engineSpanKind: V5EngineSpanKind): SpanKind {\n  switch (engineSpanKind) {\n    case 'client':\n      return SpanKind.CLIENT;\n    case 'internal':\n    default: // Other span kinds aren't currently supported\n      return SpanKind.INTERNAL;\n  }\n}\n\nexport const instrumentPrisma = generateInstrumentOnce<PrismaOptions>(INTEGRATION_NAME, _options => {\n  return new SentryPrismaInteropInstrumentation();\n});\n\n/**\n * Adds Sentry tracing instrumentation for the [prisma](https://www.npmjs.com/package/prisma) library.\n * For more information, see the [`prismaIntegration` documentation](https://docs.sentry.io/platforms/javascript/guides/node/configuration/integrations/prisma/).\n *\n * NOTE: By default, this integration works with Prisma version 6.\n * To get performance instrumentation for other Prisma versions,\n * 1. Install the `@prisma/instrumentation` package with the desired version.\n * 1. Pass a `new PrismaInstrumentation()` instance as exported from `@prisma/instrumentation` to the `prismaInstrumentation` option of this integration:\n *\n *    ```js\n *    import { PrismaInstrumentation } from '@prisma/instrumentation'\n *\n *    Sentry.init({\n *      integrations: [\n *        prismaIntegration({\n *          // Override the default instrumentation that Sentry uses\n *          prismaInstrumentation: new PrismaInstrumentation()\n *        })\n *      ]\n *    })\n *    ```\n *\n *    The passed instrumentation instance will override the default instrumentation instance the integration would use, while the `prismaIntegration` will still ensure data compatibility for the various Prisma versions.\n * 1. Depending on your Prisma version (prior to version 6), add `previewFeatures = [\"tracing\"]` to the client generator block of your Prisma schema:\n *\n *    ```\n *    generator client {\n *      provider = \"prisma-client-js\"\n *      previewFeatures = [\"tracing\"]\n *    }\n *    ```\n */\nexport const prismaIntegration = defineIntegration((_options?: PrismaOptions) => {\n  return {\n    name: INTEGRATION_NAME,\n    setupOnce() {\n      instrumentPrisma();\n    },\n    setup(client) {\n      // If no tracing helper exists, we skip any work here\n      // this means that prisma is not being used\n      if (!getPrismaTracingHelper()) {\n        return;\n      }\n\n      client.on('spanStart', span => {\n        const spanJSON = spanToJSON(span);\n        if (spanJSON.description?.startsWith('prisma:')) {\n          span.setAttribute(SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN, 'auto.db.otel.prisma');\n        }\n\n        // Make sure we use the query text as the span name, for ex. SELECT * FROM \"User\" WHERE \"id\" = $1\n        if (spanJSON.description === 'prisma:engine:db_query' && spanJSON.data['db.query.text']) {\n          span.updateName(spanJSON.data['db.query.text'] as string);\n        }\n\n        // In Prisma v5.22+, the `db.system` attribute is automatically set\n        // On older versions, this is missing, so we add it here\n        if (spanJSON.description === 'prisma:engine:db_query' && !spanJSON.data['db.system']) {\n          span.setAttribute('db.system', 'prisma');\n        }\n      });\n    },\n  };\n});\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2793, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/tracing/hapi/index.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/tracing/hapi/index.ts"],"sourcesContent":["import { HapiInstrumentation } from '@opentelemetry/instrumentation-hapi';\nimport type { IntegrationFn, Span } from '@sentry/core';\nimport {\n  captureException,\n  debug,\n  defineIntegration,\n  getClient,\n  getDefaultIsolationScope,\n  getIsolationScope,\n  SDK_VERSION,\n  SEMANTIC_ATTRIBUTE_SENTRY_OP,\n  SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,\n  spanToJSON,\n} from '@sentry/core';\nimport { ensureIsWrapped, generateInstrumentOnce } from '@sentry/node-core';\nimport { DEBUG_BUILD } from '../../../debug-build';\nimport type { Request, RequestEvent, Server } from './types';\n\nconst INTEGRATION_NAME = 'Hapi';\n\nexport const instrumentHapi = generateInstrumentOnce(INTEGRATION_NAME, () => new HapiInstrumentation());\n\nconst _hapiIntegration = (() => {\n  return {\n    name: INTEGRATION_NAME,\n    setupOnce() {\n      instrumentHapi();\n    },\n  };\n}) satisfies IntegrationFn;\n\n/**\n * Adds Sentry tracing instrumentation for [Hapi](https://hapi.dev/).\n *\n * If you also want to capture errors, you need to call `setupHapiErrorHandler(server)` after you set up your server.\n *\n * For more information, see the [hapi documentation](https://docs.sentry.io/platforms/javascript/guides/hapi/).\n *\n * @example\n * ```javascript\n * const Sentry = require('@sentry/node');\n *\n * Sentry.init({\n *   integrations: [Sentry.hapiIntegration()],\n * })\n * ```\n */\nexport const hapiIntegration = defineIntegration(_hapiIntegration);\n\nfunction isErrorEvent(event: unknown): event is RequestEvent {\n  return !!(event && typeof event === 'object' && 'error' in event && event.error);\n}\n\nfunction sendErrorToSentry(errorData: object): void {\n  captureException(errorData, {\n    mechanism: {\n      type: 'auto.function.hapi',\n      handled: false,\n    },\n  });\n}\n\nexport const hapiErrorPlugin = {\n  name: 'SentryHapiErrorPlugin',\n  version: SDK_VERSION,\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  register: async function (serverArg: Record<any, any>) {\n    const server = serverArg as unknown as Server;\n\n    server.events.on({ name: 'request', channels: ['error'] }, (request: Request, event: RequestEvent) => {\n      if (getIsolationScope() !== getDefaultIsolationScope()) {\n        const route = request.route;\n        if (route.path) {\n          getIsolationScope().setTransactionName(`${route.method.toUpperCase()} ${route.path}`);\n        }\n      } else {\n        DEBUG_BUILD &&\n          debug.warn('Isolation scope is still the default isolation scope - skipping setting transactionName');\n      }\n\n      if (isErrorEvent(event)) {\n        sendErrorToSentry(event.error);\n      }\n    });\n  },\n};\n\n/**\n * Add a Hapi plugin to capture errors to Sentry.\n *\n * @param server The Hapi server to attach the error handler to\n *\n * @example\n * ```javascript\n * const Sentry = require('@sentry/node');\n * const Hapi = require('@hapi/hapi');\n *\n * const init = async () => {\n *   const server = Hapi.server();\n *\n *   // all your routes here\n *\n *   await Sentry.setupHapiErrorHandler(server);\n *\n *   await server.start();\n * };\n * ```\n */\nexport async function setupHapiErrorHandler(server: Server): Promise<void> {\n  await server.register(hapiErrorPlugin);\n\n  // Sadly, middleware spans do not go through `requestHook`, so we handle those here\n  // We register this hook in this method, because if we register it in the integration `setup`,\n  // it would always run even for users that are not even using hapi\n  const client = getClient();\n  if (client) {\n    client.on('spanStart', span => {\n      addHapiSpanAttributes(span);\n    });\n  }\n\n  // eslint-disable-next-line @typescript-eslint/unbound-method\n  ensureIsWrapped(server.register, 'hapi');\n}\n\nfunction addHapiSpanAttributes(span: Span): void {\n  const attributes = spanToJSON(span).data;\n\n  // this is one of: router, plugin, server.ext\n  const type = attributes['hapi.type'];\n\n  // If this is already set, or we have no Hapi span, no need to process again...\n  if (attributes[SEMANTIC_ATTRIBUTE_SENTRY_OP] || !type) {\n    return;\n  }\n\n  span.setAttributes({\n    [SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]: 'auto.http.otel.hapi',\n    [SEMANTIC_ATTRIBUTE_SENTRY_OP]: `${type}.hapi`,\n  });\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAkBA,MAAM,gBAAA,GAAmB,MAAM;AAExB,MAAM,cAAA,OAAiB,4QAAsB,EAAC,gBAAgB,EAAE,IAAM,IAAI,8QAAmB,EAAE;AAEtG,MAAM,gBAAA,GAAoB,MAAM;IAC9B,OAAO;QACL,IAAI,EAAE,gBAAgB;QACtB,SAAS,GAAG;YACV,cAAc,EAAE;QAClB,CAAC;IACL,CAAG;AACH,CAAC,CAAA;AAED;;;;;;;;;;;;;;;CAeA,SACa,eAAA,OAAkB,wPAAiB,EAAC,gBAAgB;AAEjE,SAAS,YAAY,CAAC,KAAK,EAAkC;IAC3D,OAAO,CAAC,CAAA,CAAE,KAAA,IAAS,OAAO,KAAA,KAAU,QAAA,IAAY,WAAW,KAAA,IAAS,KAAK,CAAC,KAAK,CAAC;AAClF;AAEA,SAAS,iBAAiB,CAAC,SAAS,EAAgB;QAClD,mPAAgB,EAAC,SAAS,EAAE;QAC1B,SAAS,EAAE;YACT,IAAI,EAAE,oBAAoB;YAC1B,OAAO,EAAE,KAAK;QACpB,CAAK;IACL,CAAG,CAAC;AACJ;AAEO,MAAM,kBAAkB;IAC7B,IAAI,EAAE,uBAAuB;IAC7B,OAAO,EAAE,uPAAW;IACtB,8DAAA;IACE,QAAQ,EAAE,eAAgB,SAAS,EAAoB;QACrD,MAAM,MAAA,GAAS,SAAA;QAEf,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC;YAAE,IAAI,EAAE,SAAS;YAAE,QAAQ,EAAE;gBAAC,OAAO;aAAA;QAAA,CAAG,EAAE,CAAC,OAAO,EAAW,KAAK,KAAmB;YACpG,QAAI,0PAAiB,YAAO,iQAAwB,EAAE,GAAE;gBACtD,MAAM,KAAA,GAAQ,OAAO,CAAC,KAAK;gBAC3B,IAAI,KAAK,CAAC,IAAI,EAAE;wBACd,0PAAiB,EAAE,EAAC,kBAAkB,CAAC,CAAC,EAAA,KAAA,CAAA,MAAA,CAAA,WAAA,EAAA,CAAA,CAAA,EAAA,KAAA,CAAA,IAAA,CAAA,CAAA,CAAA;gBACA;YACA,CAAA,MAAA;gBACA,qPAAA,IACA,yPAAA,CAAA,IAAA,CAAA,yFAAA,CAAA;YACA;YAEA,IAAA,YAAA,CAAA,KAAA,CAAA,EAAA;gBACA,iBAAA,CAAA,KAAA,CAAA,KAAA,CAAA;YACA;QACA,CAAA,CAAA;IACA,CAAA;AACA;AAEA;;;;;;;;;;;;;;;;;;;;CAoBA,GACA,eAAA,qBAAA,CAAA,MAAA,EAAA;IACA,MAAA,MAAA,CAAA,QAAA,CAAA,eAAA,CAAA;IAEA,mFAAA;IACA,8FAAA;IACA,kEAAA;IACA,MAAA,MAAA,OAAA,kPAAA,EAAA;IACA,IAAA,MAAA,EAAA;QACA,MAAA,CAAA,EAAA,CAAA,WAAA,GAAA,IAAA,IAAA;YACA,qBAAA,CAAA,IAAA,CAAA;QACA,CAAA,CAAA;IACA;IAEA,6DAAA;QACA,2QAAA,EAAA,MAAA,CAAA,QAAA,EAAA,MAAA,CAAA;AACA;AAEA,SAAA,qBAAA,CAAA,IAAA,EAAA;IACA,MAAA,UAAA,OAAA,wPAAA,EAAA,IAAA,CAAA,CAAA,IAAA;IAEA,6CAAA;IACA,MAAA,IAAA,GAAA,UAAA,CAAA,WAAA,CAAA;IAEA,+EAAA;IACA,IAAA,UAAA,CAAA,0QAAA,CAAA,IAAA,CAAA,IAAA,EAAA;QACA;IACA;IAEA,IAAA,CAAA,aAAA,CAAA;QACA,CAAA,8QAAA,CAAA,EAAA,qBAAA;QACA,CAAA,0QAAA,CAAA,EAAA,CAAA,EAAA,IAAA,CAAA,KAAA,CAAA;IACA,CAAA,CAAA;AACA"}},
    {"offset": {"line": 2935, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/tracing/hono/constants.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/tracing/hono/constants.ts"],"sourcesContent":["export const AttributeNames = {\n  HONO_TYPE: 'hono.type',\n  HONO_NAME: 'hono.name',\n} as const;\n\nexport type AttributeNames = (typeof AttributeNames)[keyof typeof AttributeNames];\n\nexport const HonoTypes = {\n  MIDDLEWARE: 'middleware',\n  REQUEST_HANDLER: 'request_handler',\n} as const;\n\nexport type HonoTypes = (typeof HonoTypes)[keyof typeof HonoTypes];\n"],"names":[],"mappings":";;;;;;AAAO,MAAM,iBAAiB;IAC5B,SAAS,EAAE,WAAW;IACtB,SAAS,EAAE,WAAW;AACxB,CAAA;AAIO,MAAM,YAAY;IACvB,UAAU,EAAE,YAAY;IACxB,eAAe,EAAE,iBAAiB;AACpC,CAAA"}},
    {"offset": {"line": 2955, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/tracing/hono/instrumentation.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/tracing/hono/instrumentation.ts"],"sourcesContent":["import type { Span } from '@opentelemetry/api';\nimport { context, SpanStatusCode, trace } from '@opentelemetry/api';\nimport type { InstrumentationConfig } from '@opentelemetry/instrumentation';\nimport { InstrumentationBase, InstrumentationNodeModuleDefinition } from '@opentelemetry/instrumentation';\nimport { isThenable } from '@sentry/core';\nimport { AttributeNames, HonoTypes } from './constants';\nimport type {\n  Context,\n  Handler,\n  HandlerInterface,\n  Hono,\n  HonoInstance,\n  MiddlewareHandler,\n  MiddlewareHandlerInterface,\n  Next,\n  OnHandlerInterface,\n} from './types';\n\nconst PACKAGE_NAME = '@sentry/instrumentation-hono';\nconst PACKAGE_VERSION = '0.0.1';\n\nexport interface HonoResponseHookFunction {\n  (span: Span): void;\n}\n\nexport interface HonoInstrumentationConfig extends InstrumentationConfig {\n  /** Function for adding custom span attributes from the response */\n  responseHook?: HonoResponseHookFunction;\n}\n\n/**\n * Hono instrumentation for OpenTelemetry\n */\nexport class HonoInstrumentation extends InstrumentationBase<HonoInstrumentationConfig> {\n  public constructor(config: HonoInstrumentationConfig = {}) {\n    super(PACKAGE_NAME, PACKAGE_VERSION, config);\n  }\n\n  /**\n   * Initialize the instrumentation.\n   */\n  public init(): InstrumentationNodeModuleDefinition[] {\n    return [\n      new InstrumentationNodeModuleDefinition('hono', ['>=4.0.0 <5'], moduleExports => this._patch(moduleExports)),\n    ];\n  }\n\n  /**\n   * Patches the module exports to instrument Hono.\n   */\n  private _patch(moduleExports: { Hono: Hono }): { Hono: Hono } {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const instrumentation = this;\n\n    class WrappedHono extends moduleExports.Hono {\n      public constructor(...args: unknown[]) {\n        super(...args);\n\n        instrumentation._wrap(this, 'get', instrumentation._patchHandler());\n        instrumentation._wrap(this, 'post', instrumentation._patchHandler());\n        instrumentation._wrap(this, 'put', instrumentation._patchHandler());\n        instrumentation._wrap(this, 'delete', instrumentation._patchHandler());\n        instrumentation._wrap(this, 'options', instrumentation._patchHandler());\n        instrumentation._wrap(this, 'patch', instrumentation._patchHandler());\n        instrumentation._wrap(this, 'all', instrumentation._patchHandler());\n        instrumentation._wrap(this, 'on', instrumentation._patchOnHandler());\n        instrumentation._wrap(this, 'use', instrumentation._patchMiddlewareHandler());\n      }\n    }\n\n    try {\n      moduleExports.Hono = WrappedHono;\n    } catch {\n      // This is a workaround for environments where direct assignment is not allowed.\n      return { ...moduleExports, Hono: WrappedHono };\n    }\n\n    return moduleExports;\n  }\n\n  /**\n   * Patches the route handler to instrument it.\n   */\n  private _patchHandler(): (original: HandlerInterface) => HandlerInterface {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const instrumentation = this;\n\n    return function (original: HandlerInterface) {\n      return function wrappedHandler(this: HonoInstance, ...args: unknown[]) {\n        if (typeof args[0] === 'string') {\n          const path = args[0];\n          if (args.length === 1) {\n            return original.apply(this, [path]);\n          }\n\n          const handlers = args.slice(1);\n          return original.apply(this, [\n            path,\n            ...handlers.map(handler => instrumentation._wrapHandler(handler as Handler | MiddlewareHandler)),\n          ]);\n        }\n\n        return original.apply(\n          this,\n          args.map(handler => instrumentation._wrapHandler(handler as Handler | MiddlewareHandler)),\n        );\n      };\n    };\n  }\n\n  /**\n   * Patches the 'on' handler to instrument it.\n   */\n  private _patchOnHandler(): (original: OnHandlerInterface) => OnHandlerInterface {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const instrumentation = this;\n\n    return function (original: OnHandlerInterface) {\n      return function wrappedHandler(this: HonoInstance, ...args: unknown[]) {\n        const handlers = args.slice(2);\n        return original.apply(this, [\n          ...args.slice(0, 2),\n          ...handlers.map(handler => instrumentation._wrapHandler(handler as Handler | MiddlewareHandler)),\n        ]);\n      };\n    };\n  }\n\n  /**\n   * Patches the middleware handler to instrument it.\n   */\n  private _patchMiddlewareHandler(): (original: MiddlewareHandlerInterface) => MiddlewareHandlerInterface {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const instrumentation = this;\n\n    return function (original: MiddlewareHandlerInterface) {\n      return function wrappedHandler(this: HonoInstance, ...args: unknown[]) {\n        if (typeof args[0] === 'string') {\n          const path = args[0];\n          if (args.length === 1) {\n            return original.apply(this, [path]);\n          }\n\n          const handlers = args.slice(1);\n          return original.apply(this, [\n            path,\n            ...handlers.map(handler => instrumentation._wrapHandler(handler as MiddlewareHandler)),\n          ]);\n        }\n\n        return original.apply(\n          this,\n          args.map(handler => instrumentation._wrapHandler(handler as MiddlewareHandler)),\n        );\n      };\n    };\n  }\n\n  /**\n   * Wraps a handler or middleware handler to apply instrumentation.\n   */\n  private _wrapHandler(handler: Handler | MiddlewareHandler): Handler | MiddlewareHandler {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const instrumentation = this;\n\n    return function (this: unknown, c: Context, next: Next) {\n      if (!instrumentation.isEnabled()) {\n        return handler.apply(this, [c, next]);\n      }\n\n      const path = c.req.path;\n      const span = instrumentation.tracer.startSpan(path);\n\n      return context.with(trace.setSpan(context.active(), span), () => {\n        return instrumentation._safeExecute(\n          () => {\n            const result = handler.apply(this, [c, next]);\n            if (isThenable(result)) {\n              return result.then(result => {\n                const type = instrumentation._determineHandlerType(result);\n                span.setAttributes({\n                  [AttributeNames.HONO_TYPE]: type,\n                  [AttributeNames.HONO_NAME]: type === HonoTypes.REQUEST_HANDLER ? path : handler.name || 'anonymous',\n                });\n                instrumentation.getConfig().responseHook?.(span);\n                return result;\n              });\n            } else {\n              const type = instrumentation._determineHandlerType(result);\n              span.setAttributes({\n                [AttributeNames.HONO_TYPE]: type,\n                [AttributeNames.HONO_NAME]: type === HonoTypes.REQUEST_HANDLER ? path : handler.name || 'anonymous',\n              });\n              instrumentation.getConfig().responseHook?.(span);\n              return result;\n            }\n          },\n          () => span.end(),\n          error => {\n            instrumentation._handleError(span, error);\n            span.end();\n          },\n        );\n      });\n    };\n  }\n\n  /**\n   * Safely executes a function and handles errors.\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private _safeExecute(execute: () => any, onSuccess: () => void, onFailure: (error: unknown) => void): () => any {\n    try {\n      const result = execute();\n\n      if (isThenable(result)) {\n        result.then(\n          () => onSuccess(),\n          (error: unknown) => onFailure(error),\n        );\n      } else {\n        onSuccess();\n      }\n\n      return result;\n    } catch (error: unknown) {\n      onFailure(error);\n      throw error;\n    }\n  }\n\n  /**\n   * Determines the handler type based on the result.\n   * @param result\n   * @private\n   */\n  private _determineHandlerType(result: unknown): HonoTypes {\n    return result === undefined ? HonoTypes.MIDDLEWARE : HonoTypes.REQUEST_HANDLER;\n  }\n\n  /**\n   * Handles errors by setting the span status and recording the exception.\n   */\n  private _handleError(span: Span, error: unknown): void {\n    if (error instanceof Error) {\n      span.setStatus({\n        code: SpanStatusCode.ERROR,\n        message: error.message,\n      });\n      span.recordException(error);\n    }\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3168, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/tracing/hono/index.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/tracing/hono/index.ts"],"sourcesContent":["import { ATTR_HTTP_REQUEST_METHOD, ATTR_HTTP_ROUTE } from '@opentelemetry/semantic-conventions';\nimport type { IntegrationFn, Span } from '@sentry/core';\nimport {\n  captureException,\n  debug,\n  defineIntegration,\n  getDefaultIsolationScope,\n  getIsolationScope,\n  httpRequestToRequestData,\n  SEMANTIC_ATTRIBUTE_SENTRY_OP,\n  SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,\n  spanToJSON,\n} from '@sentry/core';\nimport { ensureIsWrapped, generateInstrumentOnce } from '@sentry/node-core';\nimport { DEBUG_BUILD } from '../../../debug-build';\nimport { AttributeNames } from './constants';\nimport { HonoInstrumentation } from './instrumentation';\nimport type { Context, MiddlewareHandler, MiddlewareHandlerInterface, Next } from './types';\n\nconst INTEGRATION_NAME = 'Hono';\n\nfunction addHonoSpanAttributes(span: Span): void {\n  const attributes = spanToJSON(span).data;\n  const type = attributes[AttributeNames.HONO_TYPE];\n  if (attributes[SEMANTIC_ATTRIBUTE_SENTRY_OP] || !type) {\n    return;\n  }\n\n  span.setAttributes({\n    [SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]: 'auto.http.otel.hono',\n    [SEMANTIC_ATTRIBUTE_SENTRY_OP]: `${type}.hono`,\n  });\n\n  const name = attributes[AttributeNames.HONO_NAME];\n  if (typeof name === 'string') {\n    span.updateName(name);\n  }\n\n  if (getIsolationScope() === getDefaultIsolationScope()) {\n    DEBUG_BUILD && debug.warn('Isolation scope is default isolation scope - skipping setting transactionName');\n    return;\n  }\n\n  const route = attributes[ATTR_HTTP_ROUTE];\n  const method = attributes[ATTR_HTTP_REQUEST_METHOD];\n  if (typeof route === 'string' && typeof method === 'string') {\n    getIsolationScope().setTransactionName(`${method} ${route}`);\n  }\n}\n\nexport const instrumentHono = generateInstrumentOnce(\n  INTEGRATION_NAME,\n  () =>\n    new HonoInstrumentation({\n      responseHook: span => {\n        addHonoSpanAttributes(span);\n      },\n    }),\n);\n\nconst _honoIntegration = (() => {\n  return {\n    name: INTEGRATION_NAME,\n    setupOnce() {\n      instrumentHono();\n    },\n  };\n}) satisfies IntegrationFn;\n\n/**\n * Adds Sentry tracing instrumentation for [Hono](https://hono.dev/).\n *\n * If you also want to capture errors, you need to call `setupHonoErrorHandler(app)` after you set up your Hono server.\n *\n * For more information, see the [hono documentation](https://docs.sentry.io/platforms/javascript/guides/hono/).\n *\n * @example\n * ```javascript\n * const Sentry = require('@sentry/node');\n *\n * Sentry.init({\n *   integrations: [Sentry.honoIntegration()],\n * })\n * ```\n */\nexport const honoIntegration = defineIntegration(_honoIntegration);\n\ninterface HonoHandlerOptions {\n  /**\n   * Callback method deciding whether error should be captured and sent to Sentry\n   * @param error Captured Hono error\n   */\n  shouldHandleError: (context: Context) => boolean;\n}\n\nfunction honoRequestHandler(): MiddlewareHandler {\n  return async function sentryRequestMiddleware(context: Context, next: Next): Promise<void> {\n    const normalizedRequest = httpRequestToRequestData(context.req);\n    getIsolationScope().setSDKProcessingMetadata({ normalizedRequest });\n    await next();\n  };\n}\n\nfunction defaultShouldHandleError(context: Context): boolean {\n  const statusCode = context.res.status;\n  return statusCode >= 500;\n}\n\nfunction honoErrorHandler(options?: Partial<HonoHandlerOptions>): MiddlewareHandler {\n  return async function sentryErrorMiddleware(context: Context, next: Next): Promise<void> {\n    await next();\n\n    const shouldHandleError = options?.shouldHandleError || defaultShouldHandleError;\n    if (shouldHandleError(context)) {\n      (context.res as { sentry?: string }).sentry = captureException(context.error, {\n        mechanism: {\n          type: 'auto.middleware.hono',\n          handled: false,\n        },\n      });\n    }\n  };\n}\n\n/**\n * Add a Hono error handler to capture errors to Sentry.\n *\n * @param app The Hono instances\n * @param options Configuration options for the handler\n *\n * @example\n * ```javascript\n * const Sentry = require('@sentry/node');\n * const { Hono } = require(\"hono\");\n *\n * const app = new Hono();\n *\n * Sentry.setupHonoErrorHandler(app);\n *\n * // Add your routes, etc.\n * ```\n */\nexport function setupHonoErrorHandler(\n  app: { use: MiddlewareHandlerInterface },\n  options?: Partial<HonoHandlerOptions>,\n): void {\n  app.use(honoRequestHandler());\n  app.use(honoErrorHandler(options));\n  ensureIsWrapped(app.use, 'hono');\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3305, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/tracing/koa.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/tracing/koa.ts"],"sourcesContent":["import type { KoaInstrumentationConfig, KoaLayerType } from '@opentelemetry/instrumentation-koa';\nimport { KoaInstrumentation } from '@opentelemetry/instrumentation-koa';\nimport { ATTR_HTTP_ROUTE } from '@opentelemetry/semantic-conventions';\nimport type { IntegrationFn } from '@sentry/core';\nimport {\n  captureException,\n  debug,\n  defineIntegration,\n  getDefaultIsolationScope,\n  getIsolationScope,\n  SEMANTIC_ATTRIBUTE_SENTRY_OP,\n  spanToJSON,\n} from '@sentry/core';\nimport { addOriginToSpan, ensureIsWrapped, generateInstrumentOnce } from '@sentry/node-core';\nimport { DEBUG_BUILD } from '../../debug-build';\n\ninterface KoaOptions {\n  /**\n   * Ignore layers of specified types\n   */\n  ignoreLayersType?: Array<'middleware' | 'router'>;\n}\n\nconst INTEGRATION_NAME = 'Koa';\n\nexport const instrumentKoa = generateInstrumentOnce(\n  INTEGRATION_NAME,\n  KoaInstrumentation,\n  (options: KoaOptions = {}) => {\n    return {\n      ignoreLayersType: options.ignoreLayersType as KoaLayerType[],\n      requestHook(span, info) {\n        addOriginToSpan(span, 'auto.http.otel.koa');\n\n        const attributes = spanToJSON(span).data;\n\n        // this is one of: middleware, router\n        const type = attributes['koa.type'];\n        if (type) {\n          span.setAttribute(SEMANTIC_ATTRIBUTE_SENTRY_OP, `${type}.koa`);\n        }\n\n        // Also update the name\n        const name = attributes['koa.name'];\n        if (typeof name === 'string') {\n          // Somehow, name is sometimes `''` for middleware spans\n          // See: https://github.com/open-telemetry/opentelemetry-js-contrib/issues/2220\n          span.updateName(name || '< unknown >');\n        }\n\n        if (getIsolationScope() === getDefaultIsolationScope()) {\n          DEBUG_BUILD && debug.warn('Isolation scope is default isolation scope - skipping setting transactionName');\n          return;\n        }\n        const route = attributes[ATTR_HTTP_ROUTE];\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n        const method = info.context?.request?.method?.toUpperCase() || 'GET';\n        if (route) {\n          getIsolationScope().setTransactionName(`${method} ${route}`);\n        }\n      },\n    } satisfies KoaInstrumentationConfig;\n  },\n);\n\nconst _koaIntegration = ((options: KoaOptions = {}) => {\n  return {\n    name: INTEGRATION_NAME,\n    setupOnce() {\n      instrumentKoa(options);\n    },\n  };\n}) satisfies IntegrationFn;\n\n/**\n * Adds Sentry tracing instrumentation for [Koa](https://koajs.com/).\n *\n * If you also want to capture errors, you need to call `setupKoaErrorHandler(app)` after you set up your Koa server.\n *\n * For more information, see the [koa documentation](https://docs.sentry.io/platforms/javascript/guides/koa/).\n *\n * @param {KoaOptions} options Configuration options for the Koa integration.\n *\n * @example\n * ```javascript\n * const Sentry = require('@sentry/node');\n *\n * Sentry.init({\n *   integrations: [Sentry.koaIntegration()],\n * })\n * ```\n *\n * @example\n * ```javascript\n * // To ignore middleware spans\n * const Sentry = require('@sentry/node');\n *\n * Sentry.init({\n *   integrations: [\n *     Sentry.koaIntegration({\n *       ignoreLayersType: ['middleware']\n *     })\n *   ],\n * })\n * ```\n */\nexport const koaIntegration = defineIntegration(_koaIntegration);\n\n/**\n * Add an Koa error handler to capture errors to Sentry.\n *\n * The error handler must be before any other middleware and after all controllers.\n *\n * @param app The Express instances\n * @param options {ExpressHandlerOptions} Configuration options for the handler\n *\n * @example\n * ```javascript\n * const Sentry = require('@sentry/node');\n * const Koa = require(\"koa\");\n *\n * const app = new Koa();\n *\n * Sentry.setupKoaErrorHandler(app);\n *\n * // Add your routes, etc.\n *\n * app.listen(3000);\n * ```\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport const setupKoaErrorHandler = (app: { use: (arg0: (ctx: any, next: any) => Promise<void>) => void }): void => {\n  app.use(async (ctx, next) => {\n    try {\n      await next();\n    } catch (error) {\n      captureException(error, {\n        mechanism: {\n          handled: false,\n          type: 'auto.middleware.koa',\n        },\n      });\n      throw error;\n    }\n  });\n\n  ensureIsWrapped(app.use, 'koa');\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAuBA,MAAM,gBAAA,GAAmB,KAAK;AAEvB,MAAM,aAAA,OAAgB,4QAAsB,EACjD,gBAAgB,EAChB,4QAAkB,EAClB,CAAC,OAAO,GAAe,CAAA,CAAE,KAAK;IAC5B,OAAO;QACL,gBAAgB,EAAE,OAAO,CAAC,gBAAA;QAC1B,WAAW,EAAC,IAAI,EAAE,IAAI,EAAE;gBACtB,2QAAe,EAAC,IAAI,EAAE,oBAAoB,CAAC;YAE3C,MAAM,iBAAa,wPAAU,EAAC,IAAI,CAAC,CAAC,IAAI;YAEhD,qCAAA;YACQ,MAAM,IAAA,GAAO,UAAU,CAAC,UAAU,CAAC;YACnC,IAAI,IAAI,EAAE;gBACR,IAAI,CAAC,YAAY,CAAC,0QAA4B,EAAE,CAAC,EAAA,IAAA,CAAA,IAAA,CAAA,CAAA;YACA;YAEA,uBAAA;YACA,MAAA,IAAA,GAAA,UAAA,CAAA,UAAA,CAAA;YACA,IAAA,OAAA,IAAA,KAAA,QAAA,EAAA;gBACA,uDAAA;gBACA,8EAAA;gBACA,IAAA,CAAA,UAAA,CAAA,IAAA,IAAA,aAAA,CAAA;YACA;YAEA,QAAA,0PAAA,EAAA,UAAA,iQAAA,EAAA,GAAA;gBACA,qPAAA,IAAA,yPAAA,CAAA,IAAA,CAAA,+EAAA,CAAA;gBACA;YACA;YACA,MAAA,KAAA,GAAA,UAAA,CAAA,sRAAA,CAAA;YACA,sEAAA;YACA,MAAA,MAAA,GAAA,IAAA,CAAA,OAAA,EAAA,OAAA,EAAA,MAAA,EAAA,WAAA,EAAA,IAAA,KAAA;YACA,IAAA,KAAA,EAAA;oBACA,0PAAA,EAAA,EAAA,kBAAA,CAAA,CAAA,EAAA,MAAA,CAAA,CAAA,EAAA,KAAA,CAAA,CAAA,CAAA;YACA;QACA,CAAA;IACA,CAAA;AACA,CAAA;AAGA,MAAA,eAAA,GAAA,CAAA,OAAA,GAAA,CAAA,CAAA,KAAA;IACA,OAAA;QACA,IAAA,EAAA,gBAAA;QACA,SAAA,GAAA;YACA,aAAA,CAAA,OAAA,CAAA;QACA,CAAA;IACA,CAAA;AACA,CAAA,CAAA;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CA+BA,GACA,MAAA,cAAA,OAAA,wPAAA,EAAA,eAAA;AAEA;;;;;;;;;;;;;;;;;;;;;CAqBA,GACA,8DAAA;AACA,MAAA,oBAAA,GAAA,CAAA,GAAA,KAAA;IACA,GAAA,CAAA,GAAA,CAAA,OAAA,GAAA,EAAA,IAAA,KAAA;QACA,IAAA;YACA,MAAA,IAAA,EAAA;QACA,CAAA,CAAA,OAAA,KAAA,EAAA;gBACA,mPAAA,EAAA,KAAA,EAAA;gBACA,SAAA,EAAA;oBACA,OAAA,EAAA,KAAA;oBACA,IAAA,EAAA,qBAAA;gBACA,CAAA;YACA,CAAA,CAAA;YACA,MAAA,KAAA;QACA;IACA,CAAA,CAAA;QAEA,2QAAA,EAAA,GAAA,CAAA,GAAA,EAAA,KAAA,CAAA;AACA"}},
    {"offset": {"line": 3447, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/tracing/connect.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/tracing/connect.ts"],"sourcesContent":["import { ConnectInstrumentation } from '@opentelemetry/instrumentation-connect';\nimport type { IntegrationFn, Span } from '@sentry/core';\nimport {\n  captureException,\n  defineIntegration,\n  getClient,\n  SEMANTIC_ATTRIBUTE_SENTRY_OP,\n  SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,\n  spanToJSON,\n} from '@sentry/core';\nimport { ensureIsWrapped, generateInstrumentOnce } from '@sentry/node-core';\n\ntype ConnectApp = {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  use: (middleware: any) => void;\n};\n\nconst INTEGRATION_NAME = 'Connect';\n\nexport const instrumentConnect = generateInstrumentOnce(INTEGRATION_NAME, () => new ConnectInstrumentation());\n\nconst _connectIntegration = (() => {\n  return {\n    name: INTEGRATION_NAME,\n    setupOnce() {\n      instrumentConnect();\n    },\n  };\n}) satisfies IntegrationFn;\n\n/**\n * Adds Sentry tracing instrumentation for [Connect](https://github.com/senchalabs/connect/).\n *\n * If you also want to capture errors, you need to call `setupConnectErrorHandler(app)` after you initialize your connect app.\n *\n * For more information, see the [connect documentation](https://docs.sentry.io/platforms/javascript/guides/connect/).\n *\n * @example\n * ```javascript\n * const Sentry = require('@sentry/node');\n *\n * Sentry.init({\n *   integrations: [Sentry.connectIntegration()],\n * })\n * ```\n */\nexport const connectIntegration = defineIntegration(_connectIntegration);\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction connectErrorMiddleware(err: any, req: any, res: any, next: any): void {\n  captureException(err, {\n    mechanism: {\n      handled: false,\n      type: 'auto.middleware.connect',\n    },\n  });\n  next(err);\n}\n\n/**\n * Add a Connect middleware to capture errors to Sentry.\n *\n * @param app The Connect app to attach the error handler to\n *\n * @example\n * ```javascript\n * const Sentry = require('@sentry/node');\n * const connect = require(\"connect\");\n *\n * const app = connect();\n *\n * Sentry.setupConnectErrorHandler(app);\n *\n * // Add you connect routes here\n *\n * app.listen(3000);\n * ```\n */\nexport const setupConnectErrorHandler = (app: ConnectApp): void => {\n  app.use(connectErrorMiddleware);\n\n  // Sadly, ConnectInstrumentation has no requestHook, so we need to add the attributes here\n  // We register this hook in this method, because if we register it in the integration `setup`,\n  // it would always run even for users that are not even using connect\n  const client = getClient();\n  if (client) {\n    client.on('spanStart', span => {\n      addConnectSpanAttributes(span);\n    });\n  }\n\n  ensureIsWrapped(app.use, 'connect');\n};\n\nfunction addConnectSpanAttributes(span: Span): void {\n  const attributes = spanToJSON(span).data;\n\n  // this is one of: middleware, request_handler\n  const type = attributes['connect.type'];\n\n  // If this is already set, or we have no connect span, no need to process again...\n  if (attributes[SEMANTIC_ATTRIBUTE_SENTRY_OP] || !type) {\n    return;\n  }\n\n  span.setAttributes({\n    [SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]: 'auto.http.otel.connect',\n    [SEMANTIC_ATTRIBUTE_SENTRY_OP]: `${type}.connect`,\n  });\n\n  // Also update the name, we don't need the \"middleware - \" prefix\n  const name = attributes['connect.name'];\n  if (typeof name === 'string') {\n    span.updateName(name);\n  }\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAiBA,MAAM,gBAAA,GAAmB,SAAS;AAE3B,MAAM,iBAAA,OAAoB,4QAAsB,EAAC,gBAAgB,EAAE,IAAM,IAAI,oRAAsB,EAAE;AAE5G,MAAM,mBAAA,GAAuB,MAAM;IACjC,OAAO;QACL,IAAI,EAAE,gBAAgB;QACtB,SAAS,GAAG;YACV,iBAAiB,EAAE;QACrB,CAAC;IACL,CAAG;AACH,CAAC,CAAA;AAED;;;;;;;;;;;;;;;CAeA,SACa,kBAAA,OAAqB,wPAAiB,EAAC,mBAAmB;AAEvE,8DAAA;AACA,SAAS,sBAAsB,CAAC,GAAG,EAAO,GAAG,EAAO,GAAG,EAAO,IAAI,EAAa;QAC7E,mPAAgB,EAAC,GAAG,EAAE;QACpB,SAAS,EAAE;YACT,OAAO,EAAE,KAAK;YACd,IAAI,EAAE,yBAAyB;QACrC,CAAK;IACL,CAAG,CAAC;IACF,IAAI,CAAC,GAAG,CAAC;AACX;AAEA;;;;;;;;;;;;;;;;;;CAkBA,GACO,MAAM,wBAAA,GAA2B,CAAC,GAAG,KAAuB;IACjE,GAAG,CAAC,GAAG,CAAC,sBAAsB,CAAC;IAEjC,0FAAA;IACA,8FAAA;IACA,qEAAA;IACE,MAAM,MAAA,OAAS,kPAAS,EAAE;IAC1B,IAAI,MAAM,EAAE;QACV,MAAM,CAAC,EAAE,CAAC,WAAW,GAAE,QAAQ;YAC7B,wBAAwB,CAAC,IAAI,CAAC;QAChC,CAAC,CAAC;IACJ;QAEA,2QAAe,EAAC,GAAG,CAAC,GAAG,EAAE,SAAS,CAAC;AACrC;AAEA,SAAS,wBAAwB,CAAC,IAAI,EAAc;IAClD,MAAM,iBAAa,wPAAU,EAAC,IAAI,CAAC,CAAC,IAAI;IAE1C,8CAAA;IACE,MAAM,IAAA,GAAO,UAAU,CAAC,cAAc,CAAC;IAEzC,kFAAA;IACE,IAAI,UAAU,CAAC,0QAA4B,CAAA,IAAK,CAAC,IAAI,EAAE;QACrD;IACF;IAEA,IAAI,CAAC,aAAa,CAAC;QACjB,CAAC,8QAAgC,CAAA,EAAG,wBAAwB;QAC5D,CAAC,0QAA4B,CAAA,EAAG,CAAC,EAAA,IAAA,CAAA,QAAA,CAAA;IACA,CAAA,CAAA;IAEA,iEAAA;IACA,MAAA,IAAA,GAAA,UAAA,CAAA,cAAA,CAAA;IACA,IAAA,OAAA,IAAA,KAAA,QAAA,EAAA;QACA,IAAA,CAAA,UAAA,CAAA,IAAA,CAAA;IACA;AACA"}},
    {"offset": {"line": 3557, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/tracing/knex.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/tracing/knex.ts"],"sourcesContent":["import { KnexInstrumentation } from '@opentelemetry/instrumentation-knex';\nimport type { IntegrationFn } from '@sentry/core';\nimport { defineIntegration, SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN, spanToJSON } from '@sentry/core';\nimport { generateInstrumentOnce, instrumentWhenWrapped } from '@sentry/node-core';\n\nconst INTEGRATION_NAME = 'Knex';\n\nexport const instrumentKnex = generateInstrumentOnce(\n  INTEGRATION_NAME,\n  () => new KnexInstrumentation({ requireParentSpan: true }),\n);\n\nconst _knexIntegration = (() => {\n  let instrumentationWrappedCallback: undefined | ((callback: () => void) => void);\n\n  return {\n    name: INTEGRATION_NAME,\n    setupOnce() {\n      const instrumentation = instrumentKnex();\n      instrumentationWrappedCallback = instrumentWhenWrapped(instrumentation);\n    },\n\n    setup(client) {\n      instrumentationWrappedCallback?.(() =>\n        client.on('spanStart', span => {\n          const { data } = spanToJSON(span);\n          // knex.version is always set in the span data\n          // https://github.com/open-telemetry/opentelemetry-js-contrib/blob/0309caeafc44ac9cb13a3345b790b01b76d0497d/plugins/node/opentelemetry-instrumentation-knex/src/instrumentation.ts#L138\n          if ('knex.version' in data) {\n            span.setAttribute(SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN, 'auto.db.otel.knex');\n          }\n        }),\n      );\n    },\n  };\n}) satisfies IntegrationFn;\n\n/**\n * Knex integration\n *\n * Capture tracing data for [Knex](https://knexjs.org/).\n *\n * @example\n * ```javascript\n * import * as Sentry from '@sentry/node';\n *\n * Sentry.init({\n *  integrations: [Sentry.knexIntegration()],\n * });\n * ```\n */\nexport const knexIntegration = defineIntegration(_knexIntegration);\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAKA,MAAM,gBAAA,GAAmB,MAAM;AAExB,MAAM,cAAA,OAAiB,4QAAsB,EAClD,gBAAgB,EAChB,IAAM,IAAI,8QAAmB,CAAC;QAAE,iBAAiB,EAAE,IAAA;IAAA,CAAM,CAAC;AAG5D,MAAM,gBAAA,GAAoB,MAAM;IAC9B,IAAI,8BAA8B;IAElC,OAAO;QACL,IAAI,EAAE,gBAAgB;QACtB,SAAS,GAAG;YACV,MAAM,eAAA,GAAkB,cAAc,EAAE;YACxC,8BAAA,OAAiC,2QAAqB,EAAC,eAAe,CAAC;QACzE,CAAC;QAED,KAAK,EAAC,MAAM,EAAE;YACZ,8BAA8B,GAAG,IAC/B,MAAM,CAAC,EAAE,CAAC,WAAW,GAAE,QAAQ;oBAC7B,MAAM,EAAE,IAAA,EAAK,OAAI,wPAAU,EAAC,IAAI,CAAC;oBAC3C,8CAAA;oBACA,uLAAA;oBACU,IAAI,cAAA,IAAkB,IAAI,EAAE;wBAC1B,IAAI,CAAC,YAAY,CAAC,8QAAgC,EAAE,mBAAmB,CAAC;oBAC1E;gBACF,CAAC,CAAC;QAEN,CAAC;IACL,CAAG;AACH,CAAC,CAAA;AAED;;;;;;;;;;;;;CAaA,SACa,eAAA,OAAkB,wPAAiB,EAAC,gBAAgB"}},
    {"offset": {"line": 3615, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/tracing/tedious.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/tracing/tedious.ts"],"sourcesContent":["import { TediousInstrumentation } from '@opentelemetry/instrumentation-tedious';\nimport type { IntegrationFn } from '@sentry/core';\nimport { defineIntegration, SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN, spanToJSON } from '@sentry/core';\nimport { generateInstrumentOnce, instrumentWhenWrapped } from '@sentry/node-core';\n\nconst TEDIUS_INSTRUMENTED_METHODS = new Set([\n  'callProcedure',\n  'execSql',\n  'execSqlBatch',\n  'execBulkLoad',\n  'prepare',\n  'execute',\n]);\n\nconst INTEGRATION_NAME = 'Tedious';\n\nexport const instrumentTedious = generateInstrumentOnce(INTEGRATION_NAME, () => new TediousInstrumentation({}));\n\nconst _tediousIntegration = (() => {\n  let instrumentationWrappedCallback: undefined | ((callback: () => void) => void);\n\n  return {\n    name: INTEGRATION_NAME,\n    setupOnce() {\n      const instrumentation = instrumentTedious();\n      instrumentationWrappedCallback = instrumentWhenWrapped(instrumentation);\n    },\n\n    setup(client) {\n      instrumentationWrappedCallback?.(() =>\n        client.on('spanStart', span => {\n          const { description, data } = spanToJSON(span);\n          // Tedius integration always set a span name and `db.system` attribute to `mssql`.\n          if (!description || data['db.system'] !== 'mssql') {\n            return;\n          }\n\n          const operation = description.split(' ')[0] || '';\n          if (TEDIUS_INSTRUMENTED_METHODS.has(operation)) {\n            span.setAttribute(SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN, 'auto.db.otel.tedious');\n          }\n        }),\n      );\n    },\n  };\n}) satisfies IntegrationFn;\n\n/**\n * Adds Sentry tracing instrumentation for the [tedious](https://www.npmjs.com/package/tedious) library.\n *\n * For more information, see the [`tediousIntegration` documentation](https://docs.sentry.io/platforms/javascript/guides/node/configuration/integrations/tedious/).\n *\n * @example\n * ```javascript\n * const Sentry = require('@sentry/node');\n *\n * Sentry.init({\n *  integrations: [Sentry.tediousIntegration()],\n * });\n * ```\n */\nexport const tediousIntegration = defineIntegration(_tediousIntegration);\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAKA,MAAM,2BAAA,GAA8B,IAAI,GAAG,CAAC;IAC1C,eAAe;IACf,SAAS;IACT,cAAc;IACd,cAAc;IACd,SAAS;IACT,SAAS;CACV,CAAC;AAEF,MAAM,gBAAA,GAAmB,SAAS;MAErB,iBAAA,OAAoB,4QAAsB,EAAC,gBAAgB,EAAE,IAAM,IAAI,oRAAsB,CAAC,CAAA,CAAE,CAAC;AAE9G,MAAM,mBAAA,GAAuB,MAAM;IACjC,IAAI,8BAA8B;IAElC,OAAO;QACL,IAAI,EAAE,gBAAgB;QACtB,SAAS,GAAG;YACV,MAAM,eAAA,GAAkB,iBAAiB,EAAE;YAC3C,8BAAA,OAAiC,2QAAqB,EAAC,eAAe,CAAC;QACzE,CAAC;QAED,KAAK,EAAC,MAAM,EAAE;YACZ,8BAA8B,GAAG,IAC/B,MAAM,CAAC,EAAE,CAAC,WAAW,GAAE,QAAQ;oBAC7B,MAAM,EAAE,WAAW,EAAE,IAAA,EAAA,OAAS,wPAAU,EAAC,IAAI,CAAC;oBACxD,kFAAA;oBACU,IAAI,CAAC,WAAA,IAAe,IAAI,CAAC,WAAW,CAAA,KAAM,OAAO,EAAE;wBACjD;oBACF;oBAEA,MAAM,SAAA,GAAY,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAA,IAAK,EAAE;oBACjD,IAAI,2BAA2B,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE;wBAC9C,IAAI,CAAC,YAAY,CAAC,8QAAgC,EAAE,sBAAsB,CAAC;oBAC7E;gBACF,CAAC,CAAC;QAEN,CAAC;IACL,CAAG;AACH,CAAC,CAAA;AAED;;;;;;;;;;;;;CAaA,SACa,kBAAA,OAAqB,wPAAiB,EAAC,mBAAmB"}},
    {"offset": {"line": 3682, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/tracing/genericPool.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/tracing/genericPool.ts"],"sourcesContent":["import { GenericPoolInstrumentation } from '@opentelemetry/instrumentation-generic-pool';\nimport type { IntegrationFn } from '@sentry/core';\nimport { defineIntegration, SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN, spanToJSON } from '@sentry/core';\nimport { generateInstrumentOnce, instrumentWhenWrapped } from '@sentry/node-core';\n\nconst INTEGRATION_NAME = 'GenericPool';\n\nexport const instrumentGenericPool = generateInstrumentOnce(INTEGRATION_NAME, () => new GenericPoolInstrumentation({}));\n\nconst _genericPoolIntegration = (() => {\n  let instrumentationWrappedCallback: undefined | ((callback: () => void) => void);\n\n  return {\n    name: INTEGRATION_NAME,\n    setupOnce() {\n      const instrumentation = instrumentGenericPool();\n      instrumentationWrappedCallback = instrumentWhenWrapped(instrumentation);\n    },\n\n    setup(client) {\n      instrumentationWrappedCallback?.(() =>\n        client.on('spanStart', span => {\n          const spanJSON = spanToJSON(span);\n\n          const spanDescription = spanJSON.description;\n\n          // typo in emitted span for version <= 0.38.0 of @opentelemetry/instrumentation-generic-pool\n          const isGenericPoolSpan =\n            spanDescription === 'generic-pool.aquire' || spanDescription === 'generic-pool.acquire';\n\n          if (isGenericPoolSpan) {\n            span.setAttribute(SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN, 'auto.db.otel.generic_pool');\n          }\n        }),\n      );\n    },\n  };\n}) satisfies IntegrationFn;\n\n/**\n * Adds Sentry tracing instrumentation for the [generic-pool](https://www.npmjs.com/package/generic-pool) library.\n *\n * For more information, see the [`genericPoolIntegration` documentation](https://docs.sentry.io/platforms/javascript/guides/node/configuration/integrations/genericpool/).\n *\n * @example\n * ```javascript\n * const Sentry = require('@sentry/node');\n *\n * Sentry.init({\n *  integrations: [Sentry.genericPoolIntegration()],\n * });\n * ```\n */\nexport const genericPoolIntegration = defineIntegration(_genericPoolIntegration);\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAKA,MAAM,gBAAA,GAAmB,aAAa;MAEzB,qBAAA,OAAwB,4QAAsB,EAAC,gBAAgB,EAAE,IAAM,IAAI,gSAA0B,CAAC,CAAA,CAAE,CAAC;AAEtH,MAAM,uBAAA,GAA2B,MAAM;IACrC,IAAI,8BAA8B;IAElC,OAAO;QACL,IAAI,EAAE,gBAAgB;QACtB,SAAS,GAAG;YACV,MAAM,eAAA,GAAkB,qBAAqB,EAAE;YAC/C,8BAAA,OAAiC,2QAAqB,EAAC,eAAe,CAAC;QACzE,CAAC;QAED,KAAK,EAAC,MAAM,EAAE;YACZ,8BAA8B,GAAG,IAC/B,MAAM,CAAC,EAAE,CAAC,WAAW,GAAE,QAAQ;oBAC7B,MAAM,QAAA,OAAW,wPAAU,EAAC,IAAI,CAAC;oBAEjC,MAAM,eAAA,GAAkB,QAAQ,CAAC,WAAW;oBAEtD,4FAAA;oBACU,MAAM,iBAAA,GACJ,oBAAoB,qBAAA,IAAyB,eAAA,KAAoB,sBAAsB;oBAEzF,IAAI,iBAAiB,EAAE;wBACrB,IAAI,CAAC,YAAY,CAAC,8QAAgC,EAAE,2BAA2B,CAAC;oBAClF;gBACF,CAAC,CAAC;QAEN,CAAC;IACL,CAAG;AACH,CAAC,CAAA;AAED;;;;;;;;;;;;;CAaA,SACa,sBAAA,OAAyB,wPAAiB,EAAC,uBAAuB"}},
    {"offset": {"line": 3739, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/tracing/dataloader.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/tracing/dataloader.ts"],"sourcesContent":["import { DataloaderInstrumentation } from '@opentelemetry/instrumentation-dataloader';\nimport type { IntegrationFn } from '@sentry/core';\nimport {\n  defineIntegration,\n  SEMANTIC_ATTRIBUTE_SENTRY_OP,\n  SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,\n  spanToJSON,\n} from '@sentry/core';\nimport { generateInstrumentOnce, instrumentWhenWrapped } from '@sentry/node-core';\n\nconst INTEGRATION_NAME = 'Dataloader';\n\nexport const instrumentDataloader = generateInstrumentOnce(\n  INTEGRATION_NAME,\n  () =>\n    new DataloaderInstrumentation({\n      requireParentSpan: true,\n    }),\n);\n\nconst _dataloaderIntegration = (() => {\n  let instrumentationWrappedCallback: undefined | ((callback: () => void) => void);\n\n  return {\n    name: INTEGRATION_NAME,\n    setupOnce() {\n      const instrumentation = instrumentDataloader();\n      instrumentationWrappedCallback = instrumentWhenWrapped(instrumentation);\n    },\n\n    setup(client) {\n      // This is called either immediately or when the instrumentation is wrapped\n      instrumentationWrappedCallback?.(() => {\n        client.on('spanStart', span => {\n          const spanJSON = spanToJSON(span);\n          if (spanJSON.description?.startsWith('dataloader')) {\n            span.setAttribute(SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN, 'auto.db.otel.dataloader');\n          }\n\n          // These are all possible dataloader span descriptions\n          // Still checking for the future versions\n          // in case they add support for `clear` and `prime`\n          if (\n            spanJSON.description === 'dataloader.load' ||\n            spanJSON.description === 'dataloader.loadMany' ||\n            spanJSON.description === 'dataloader.batch'\n          ) {\n            span.setAttribute(SEMANTIC_ATTRIBUTE_SENTRY_OP, 'cache.get');\n            // TODO: We can try adding `key` to the `data` attribute upstream.\n            // Or alternatively, we can add `requestHook` to the dataloader instrumentation.\n          }\n        });\n      });\n    },\n  };\n}) satisfies IntegrationFn;\n\n/**\n * Adds Sentry tracing instrumentation for the [dataloader](https://www.npmjs.com/package/dataloader) library.\n *\n * For more information, see the [`dataloaderIntegration` documentation](https://docs.sentry.io/platforms/javascript/guides/node/configuration/integrations/dataloader/).\n *\n * @example\n * ```javascript\n * const Sentry = require('@sentry/node');\n *\n * Sentry.init({\n *  integrations: [Sentry.dataloaderIntegration()],\n * });\n * ```\n */\nexport const dataloaderIntegration = defineIntegration(_dataloaderIntegration);\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAUA,MAAM,gBAAA,GAAmB,YAAY;AAE9B,MAAM,oBAAA,OAAuB,4QAAsB,EACxD,gBAAgB,EAChB,IACE,IAAI,0RAAyB,CAAC;QAC5B,iBAAiB,EAAE,IAAI;IAC7B,CAAK,CAAC;AAGN,MAAM,sBAAA,GAA0B,MAAM;IACpC,IAAI,8BAA8B;IAElC,OAAO;QACL,IAAI,EAAE,gBAAgB;QACtB,SAAS,GAAG;YACV,MAAM,eAAA,GAAkB,oBAAoB,EAAE;YAC9C,8BAAA,OAAiC,2QAAqB,EAAC,eAAe,CAAC;QACzE,CAAC;QAED,KAAK,EAAC,MAAM,EAAE;YAClB,2EAAA;YACM,8BAA8B,GAAG,MAAM;gBACrC,MAAM,CAAC,EAAE,CAAC,WAAW,GAAE,QAAQ;oBAC7B,MAAM,QAAA,OAAW,wPAAU,EAAC,IAAI,CAAC;oBACjC,IAAI,QAAQ,CAAC,WAAW,EAAE,UAAU,CAAC,YAAY,CAAC,EAAE;wBAClD,IAAI,CAAC,YAAY,CAAC,8QAAgC,EAAE,yBAAyB,CAAC;oBAChF;oBAEV,sDAAA;oBACA,yCAAA;oBACA,mDAAA;oBACU,IACE,QAAQ,CAAC,WAAA,KAAgB,iBAAA,IACzB,QAAQ,CAAC,WAAA,KAAgB,qBAAA,IACzB,QAAQ,CAAC,WAAA,KAAgB,oBACzB;wBACA,IAAI,CAAC,YAAY,CAAC,0QAA4B,EAAE,WAAW,CAAC;oBACxE,kEAAA;oBACA,gFAAA;oBACU;gBACF,CAAC,CAAC;YACJ,CAAC,CAAC;QACJ,CAAC;IACL,CAAG;AACH,CAAC,CAAA;AAED;;;;;;;;;;;;;CAaA,SACa,qBAAA,OAAwB,wPAAiB,EAAC,sBAAsB"}},
    {"offset": {"line": 3806, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/tracing/amqplib.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/tracing/amqplib.ts"],"sourcesContent":["import type { Span } from '@opentelemetry/api';\nimport { type AmqplibInstrumentationConfig, AmqplibInstrumentation } from '@opentelemetry/instrumentation-amqplib';\nimport type { IntegrationFn } from '@sentry/core';\nimport { defineIntegration } from '@sentry/core';\nimport { addOriginToSpan, generateInstrumentOnce } from '@sentry/node-core';\n\nconst INTEGRATION_NAME = 'Amqplib';\n\nconst config: AmqplibInstrumentationConfig = {\n  consumeEndHook: (span: Span) => {\n    addOriginToSpan(span, 'auto.amqplib.otel.consumer');\n  },\n  publishHook: (span: Span) => {\n    addOriginToSpan(span, 'auto.amqplib.otel.publisher');\n  },\n};\n\nexport const instrumentAmqplib = generateInstrumentOnce(INTEGRATION_NAME, () => new AmqplibInstrumentation(config));\n\nconst _amqplibIntegration = (() => {\n  return {\n    name: INTEGRATION_NAME,\n    setupOnce() {\n      instrumentAmqplib();\n    },\n  };\n}) satisfies IntegrationFn;\n\n/**\n * Adds Sentry tracing instrumentation for the [amqplib](https://www.npmjs.com/package/amqplib) library.\n *\n * For more information, see the [`amqplibIntegration` documentation](https://docs.sentry.io/platforms/javascript/guides/node/configuration/integrations/amqplib/).\n *\n * @example\n * ```javascript\n * const Sentry = require('@sentry/node');\n *\n * Sentry.init({\n *  integrations: [Sentry.amqplibIntegration()],\n * });\n * ```\n */\nexport const amqplibIntegration = defineIntegration(_amqplibIntegration);\n"],"names":[],"mappings":";;;;;;;;;;;;;AAMA,MAAM,gBAAA,GAAmB,SAAS;AAElC,MAAM,MAAM,GAAiC;IAC3C,cAAc,EAAE,CAAC,IAAI,KAAW;YAC9B,2QAAe,EAAC,IAAI,EAAE,4BAA4B,CAAC;IACrD,CAAC;IACD,WAAW,EAAE,CAAC,IAAI,KAAW;YAC3B,2QAAe,EAAC,IAAI,EAAE,6BAA6B,CAAC;IACtD,CAAC;AACH,CAAC;AAEM,MAAM,iBAAA,OAAoB,4QAAsB,EAAC,gBAAgB,EAAE,IAAM,IAAI,oRAAsB,CAAC,MAAM,CAAC;AAElH,MAAM,mBAAA,GAAuB,MAAM;IACjC,OAAO;QACL,IAAI,EAAE,gBAAgB;QACtB,SAAS,GAAG;YACV,iBAAiB,EAAE;QACrB,CAAC;IACL,CAAG;AACH,CAAC,CAAA;AAED;;;;;;;;;;;;;CAaA,SACa,kBAAA,OAAqB,wPAAiB,EAAC,mBAAmB"}},
    {"offset": {"line": 3857, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/tracing/vercelai/constants.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/tracing/vercelai/constants.ts"],"sourcesContent":["export const INTEGRATION_NAME = 'VercelAI';\n"],"names":[],"mappings":";;;;AAAO,MAAM,gBAAA,GAAmB"}},
    {"offset": {"line": 3868, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/tracing/vercelai/instrumentation.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/tracing/vercelai/instrumentation.ts"],"sourcesContent":["import type { InstrumentationConfig, InstrumentationModuleDefinition } from '@opentelemetry/instrumentation';\nimport { InstrumentationBase, InstrumentationNodeModuleDefinition } from '@opentelemetry/instrumentation';\nimport type { Span } from '@sentry/core';\nimport {\n  _INTERNAL_cleanupToolCallSpan,\n  _INTERNAL_getSpanForToolCallId,\n  addNonEnumerableProperty,\n  captureException,\n  getActiveSpan,\n  getClient,\n  handleCallbackErrors,\n  SDK_VERSION,\n  withScope,\n} from '@sentry/core';\nimport { INTEGRATION_NAME } from './constants';\nimport type { TelemetrySettings, VercelAiIntegration } from './types';\n\n// List of patched methods\n// From: https://sdk.vercel.ai/docs/ai-sdk-core/telemetry#collected-data\nconst INSTRUMENTED_METHODS = [\n  'generateText',\n  'streamText',\n  'generateObject',\n  'streamObject',\n  'embed',\n  'embedMany',\n] as const;\n\ninterface MethodFirstArg extends Record<string, unknown> {\n  experimental_telemetry?: TelemetrySettings;\n}\n\ntype MethodArgs = [MethodFirstArg, ...unknown[]];\n\ntype PatchedModuleExports = Record<(typeof INSTRUMENTED_METHODS)[number], (...args: MethodArgs) => unknown> &\n  Record<string, unknown>;\n\ninterface RecordingOptions {\n  recordInputs?: boolean;\n  recordOutputs?: boolean;\n}\n\ninterface ToolError {\n  type: 'tool-error' | 'tool-result' | 'tool-call';\n  toolCallId: string;\n  toolName: string;\n  input?: {\n    [key: string]: unknown;\n  };\n  error: Error;\n  dynamic?: boolean;\n}\n\nfunction isToolError(obj: unknown): obj is ToolError {\n  if (typeof obj !== 'object' || obj === null) {\n    return false;\n  }\n\n  const candidate = obj as Record<string, unknown>;\n  return (\n    'type' in candidate &&\n    'error' in candidate &&\n    'toolName' in candidate &&\n    'toolCallId' in candidate &&\n    candidate.type === 'tool-error' &&\n    candidate.error instanceof Error\n  );\n}\n\n/**\n * Check for tool errors in the result and capture them\n * Tool errors are not rejected in Vercel V5, it is added as metadata to the result content\n */\nfunction checkResultForToolErrors(result: unknown): void {\n  if (typeof result !== 'object' || result === null || !('content' in result)) {\n    return;\n  }\n\n  const resultObj = result as { content: Array<object> };\n  if (!Array.isArray(resultObj.content)) {\n    return;\n  }\n\n  for (const item of resultObj.content) {\n    if (isToolError(item)) {\n      // Try to get the span associated with this tool call ID\n      const associatedSpan = _INTERNAL_getSpanForToolCallId(item.toolCallId) as Span;\n\n      if (associatedSpan) {\n        // We have the span, so link the error using span and trace IDs from the span\n        const spanContext = associatedSpan.spanContext();\n\n        withScope(scope => {\n          // Set the span and trace context for proper linking\n          scope.setContext('trace', {\n            trace_id: spanContext.traceId,\n            span_id: spanContext.spanId,\n          });\n\n          scope.setTag('vercel.ai.tool.name', item.toolName);\n          scope.setTag('vercel.ai.tool.callId', item.toolCallId);\n\n          scope.setLevel('error');\n\n          captureException(item.error, {\n            mechanism: {\n              type: 'auto.vercelai.otel',\n              handled: false,\n            },\n          });\n        });\n\n        // Clean up the span mapping since we've processed this tool error\n        // We won't get multiple { type: 'tool-error' } parts for the same toolCallId.\n        _INTERNAL_cleanupToolCallSpan(item.toolCallId);\n      } else {\n        // Fallback: capture without span linking\n        withScope(scope => {\n          scope.setTag('vercel.ai.tool.name', item.toolName);\n          scope.setTag('vercel.ai.tool.callId', item.toolCallId);\n          scope.setLevel('error');\n\n          captureException(item.error, {\n            mechanism: {\n              type: 'auto.vercelai.otel',\n              handled: false,\n            },\n          });\n        });\n      }\n    }\n  }\n}\n\n/**\n * Determines whether to record inputs and outputs for Vercel AI telemetry based on the configuration hierarchy.\n *\n * The order of precedence is:\n * 1. The vercel ai integration options\n * 2. The experimental_telemetry options in the vercel ai method calls\n * 3. When telemetry is explicitly enabled (isEnabled: true), default to recording\n * 4. Otherwise, use the sendDefaultPii option from client options\n */\nexport function determineRecordingSettings(\n  integrationRecordingOptions: RecordingOptions | undefined,\n  methodTelemetryOptions: RecordingOptions,\n  telemetryExplicitlyEnabled: boolean | undefined,\n  defaultRecordingEnabled: boolean,\n): { recordInputs: boolean; recordOutputs: boolean } {\n  const recordInputs =\n    integrationRecordingOptions?.recordInputs !== undefined\n      ? integrationRecordingOptions.recordInputs\n      : methodTelemetryOptions.recordInputs !== undefined\n        ? methodTelemetryOptions.recordInputs\n        : telemetryExplicitlyEnabled === true\n          ? true // When telemetry is explicitly enabled, default to recording inputs\n          : defaultRecordingEnabled;\n\n  const recordOutputs =\n    integrationRecordingOptions?.recordOutputs !== undefined\n      ? integrationRecordingOptions.recordOutputs\n      : methodTelemetryOptions.recordOutputs !== undefined\n        ? methodTelemetryOptions.recordOutputs\n        : telemetryExplicitlyEnabled === true\n          ? true // When telemetry is explicitly enabled, default to recording inputs\n          : defaultRecordingEnabled;\n\n  return { recordInputs, recordOutputs };\n}\n\n/**\n * This detects is added by the Sentry Vercel AI Integration to detect if the integration should\n * be enabled.\n *\n * It also patches the `ai` module to enable Vercel AI telemetry automatically for all methods.\n */\nexport class SentryVercelAiInstrumentation extends InstrumentationBase {\n  private _isPatched = false;\n  private _callbacks: (() => void)[] = [];\n\n  public constructor(config: InstrumentationConfig = {}) {\n    super('@sentry/instrumentation-vercel-ai', SDK_VERSION, config);\n  }\n\n  /**\n   * Initializes the instrumentation by defining the modules to be patched.\n   */\n  public init(): InstrumentationModuleDefinition {\n    const module = new InstrumentationNodeModuleDefinition('ai', ['>=3.0.0 <6'], this._patch.bind(this));\n    return module;\n  }\n\n  /**\n   * Call the provided callback when the module is patched.\n   * If it has already been patched, the callback will be called immediately.\n   */\n  public callWhenPatched(callback: () => void): void {\n    if (this._isPatched) {\n      callback();\n    } else {\n      this._callbacks.push(callback);\n    }\n  }\n\n  /**\n   * Patches module exports to enable Vercel AI telemetry.\n   */\n  private _patch(moduleExports: PatchedModuleExports): unknown {\n    this._isPatched = true;\n\n    this._callbacks.forEach(callback => callback());\n    this._callbacks = [];\n\n    const generatePatch = <T extends (...args: MethodArgs) => unknown>(originalMethod: T): T => {\n      return new Proxy(originalMethod, {\n        apply: (target, thisArg, args: MethodArgs) => {\n          const existingExperimentalTelemetry = args[0].experimental_telemetry || {};\n          const isEnabled = existingExperimentalTelemetry.isEnabled;\n\n          const client = getClient();\n          const integration = client?.getIntegrationByName<VercelAiIntegration>(INTEGRATION_NAME);\n          const integrationOptions = integration?.options;\n          const shouldRecordInputsAndOutputs = integration ? Boolean(client?.getOptions().sendDefaultPii) : false;\n\n          const { recordInputs, recordOutputs } = determineRecordingSettings(\n            integrationOptions,\n            existingExperimentalTelemetry,\n            isEnabled,\n            shouldRecordInputsAndOutputs,\n          );\n\n          args[0].experimental_telemetry = {\n            ...existingExperimentalTelemetry,\n            isEnabled: isEnabled !== undefined ? isEnabled : true,\n            recordInputs,\n            recordOutputs,\n          };\n\n          return handleCallbackErrors(\n            () => Reflect.apply(target, thisArg, args),\n            error => {\n              // This error bubbles up to unhandledrejection handler (if not handled before),\n              // where we do not know the active span anymore\n              // So to circumvent this, we set the active span on the error object\n              // which is picked up by the unhandledrejection handler\n              if (error && typeof error === 'object') {\n                addNonEnumerableProperty(error, '_sentry_active_span', getActiveSpan());\n              }\n            },\n            () => {},\n            result => {\n              checkResultForToolErrors(result);\n            },\n          );\n        },\n      });\n    };\n\n    // Is this an ESM module?\n    // https://tc39.es/ecma262/#sec-module-namespace-objects\n    if (Object.prototype.toString.call(moduleExports) === '[object Module]') {\n      // In ESM we take the usual route and just replace the exports we want to instrument\n      for (const method of INSTRUMENTED_METHODS) {\n        moduleExports[method] = generatePatch(moduleExports[method]);\n      }\n\n      return moduleExports;\n    } else {\n      // In CJS we can't replace the exports in the original module because they\n      // don't have setters, so we create a new object with the same properties\n      const patchedModuleExports = INSTRUMENTED_METHODS.reduce((acc, curr) => {\n        acc[curr] = generatePatch(moduleExports[curr]);\n        return acc;\n      }, {} as PatchedModuleExports);\n\n      return { ...moduleExports, ...patchedModuleExports };\n    }\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4075, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/tracing/vercelai/index.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/tracing/vercelai/index.ts"],"sourcesContent":["import type { Client, IntegrationFn } from '@sentry/core';\nimport { addVercelAiProcessors, defineIntegration } from '@sentry/core';\nimport { type modulesIntegration, generateInstrumentOnce } from '@sentry/node-core';\nimport { INTEGRATION_NAME } from './constants';\nimport { SentryVercelAiInstrumentation } from './instrumentation';\nimport type { VercelAiOptions } from './types';\n\nexport const instrumentVercelAi = generateInstrumentOnce(INTEGRATION_NAME, () => new SentryVercelAiInstrumentation({}));\n\n/**\n * Determines if the integration should be forced based on environment and package availability.\n * Returns true if the 'ai' package is available.\n */\nfunction shouldForceIntegration(client: Client): boolean {\n  const modules = client.getIntegrationByName<ReturnType<typeof modulesIntegration>>('Modules');\n  return !!modules?.getModules?.()?.ai;\n}\n\nconst _vercelAIIntegration = ((options: VercelAiOptions = {}) => {\n  let instrumentation: undefined | SentryVercelAiInstrumentation;\n\n  return {\n    name: INTEGRATION_NAME,\n    options,\n    setupOnce() {\n      instrumentation = instrumentVercelAi();\n    },\n    afterAllSetup(client) {\n      // Auto-detect if we should force the integration when running with 'ai' package available\n      // Note that this can only be detected if the 'Modules' integration is available, and running in CJS mode\n      const shouldForce = options.force ?? shouldForceIntegration(client);\n\n      if (shouldForce) {\n        addVercelAiProcessors(client);\n      } else {\n        instrumentation?.callWhenPatched(() => addVercelAiProcessors(client));\n      }\n    },\n  };\n}) satisfies IntegrationFn;\n\n/**\n * Adds Sentry tracing instrumentation for the [ai](https://www.npmjs.com/package/ai) library.\n * This integration is not enabled by default, you need to manually add it.\n *\n * For more information, see the [`ai` documentation](https://sdk.vercel.ai/docs/ai-sdk-core/telemetry).\n *\n * @example\n * ```javascript\n * const Sentry = require('@sentry/node');\n *\n * Sentry.init({\n *  integrations: [Sentry.vercelAIIntegration()],\n * });\n * ```\n *\n * This integration adds tracing support to all `ai` function calls.\n * You need to opt-in to collecting spans for a specific call,\n * you can do so by setting `experimental_telemetry.isEnabled` to `true` in the first argument of the function call.\n *\n * ```javascript\n * const result = await generateText({\n *   model: openai('gpt-4-turbo'),\n *   experimental_telemetry: { isEnabled: true },\n * });\n * ```\n *\n * If you want to collect inputs and outputs for a specific call, you must specifically opt-in to each\n * function call by setting `experimental_telemetry.recordInputs` and `experimental_telemetry.recordOutputs`\n * to `true`.\n *\n * ```javascript\n * const result = await generateText({\n *  model: openai('gpt-4-turbo'),\n *  experimental_telemetry: { isEnabled: true, recordInputs: true, recordOutputs: true },\n * });\n */\nexport const vercelAIIntegration = defineIntegration(_vercelAIIntegration);\n"],"names":[],"mappings":";;;;;;;;;;;;;;;MAOa,kBAAA,OAAqB,4QAAsB,EAAC,4RAAgB,EAAE,IAAM,IAAI,+SAA6B,CAAC,CAAA,CAAE,CAAC;AAEtH;;;CAGA,GACA,SAAS,sBAAsB,CAAC,MAAM,EAAmB;IACvD,MAAM,UAAU,MAAM,CAAC,oBAAoB,CAAwC,SAAS,CAAC;IAC7F,OAAO,CAAC,CAAC,OAAO,EAAE,UAAU,IAAI,EAAE,EAAE;AACtC;AAEA,MAAM,oBAAA,GAAwB,CAAC,OAAO,GAAoB,CAAA,CAAE,KAAK;IAC/D,IAAI,eAAe;IAEnB,OAAO;QACL,IAAI,EAAE,4RAAgB;QACtB,OAAO;QACP,SAAS,GAAG;YACV,eAAA,GAAkB,kBAAkB,EAAE;QACxC,CAAC;QACD,aAAa,EAAC,MAAM,EAAE;YAC1B,0FAAA;YACA,yGAAA;YACM,MAAM,WAAA,GAAc,OAAO,CAAC,KAAA,IAAS,sBAAsB,CAAC,MAAM,CAAC;YAEnE,IAAI,WAAW,EAAE;oBACf,iRAAqB,EAAC,MAAM,CAAC;YAC/B,OAAO;gBACL,eAAe,EAAE,eAAe,CAAC,QAAM,iRAAqB,EAAC,MAAM,CAAC,CAAC;YACvE;QACF,CAAC;IACL,CAAG;AACH,CAAC,CAAA;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAmCA,SACa,mBAAA,OAAsB,wPAAiB,EAAC,oBAAoB"}},
    {"offset": {"line": 4160, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/tracing/openai/instrumentation.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/tracing/openai/instrumentation.ts"],"sourcesContent":["import {\n  type InstrumentationConfig,\n  type InstrumentationModuleDefinition,\n  InstrumentationBase,\n  InstrumentationNodeModuleDefinition,\n} from '@opentelemetry/instrumentation';\nimport type { Integration, OpenAiClient, OpenAiOptions } from '@sentry/core';\nimport {\n  _INTERNAL_shouldSkipAiProviderWrapping,\n  getClient,\n  instrumentOpenAiClient,\n  OPENAI_INTEGRATION_NAME,\n  SDK_VERSION,\n} from '@sentry/core';\n\nconst supportedVersions = ['>=4.0.0 <7'];\n\nexport interface OpenAiIntegration extends Integration {\n  options: OpenAiOptions;\n}\n\n/**\n * Represents the patched shape of the OpenAI module export.\n */\ninterface PatchedModuleExports {\n  [key: string]: unknown;\n  OpenAI: abstract new (...args: unknown[]) => OpenAiClient;\n}\n\n/**\n * Determines telemetry recording settings.\n */\nfunction determineRecordingSettings(\n  integrationOptions: OpenAiOptions | undefined,\n  defaultEnabled: boolean,\n): { recordInputs: boolean; recordOutputs: boolean } {\n  const recordInputs = integrationOptions?.recordInputs ?? defaultEnabled;\n  const recordOutputs = integrationOptions?.recordOutputs ?? defaultEnabled;\n  return { recordInputs, recordOutputs };\n}\n\n/**\n * Sentry OpenAI instrumentation using OpenTelemetry.\n */\nexport class SentryOpenAiInstrumentation extends InstrumentationBase<InstrumentationConfig> {\n  public constructor(config: InstrumentationConfig = {}) {\n    super('@sentry/instrumentation-openai', SDK_VERSION, config);\n  }\n\n  /**\n   * Initializes the instrumentation by defining the modules to be patched.\n   */\n  public init(): InstrumentationModuleDefinition {\n    const module = new InstrumentationNodeModuleDefinition('openai', supportedVersions, this._patch.bind(this));\n    return module;\n  }\n\n  /**\n   * Core patch logic applying instrumentation to the OpenAI client constructor.\n   */\n  private _patch(exports: PatchedModuleExports): PatchedModuleExports | void {\n    const Original = exports.OpenAI;\n\n    const WrappedOpenAI = function (this: unknown, ...args: unknown[]) {\n      // Check if wrapping should be skipped (e.g., when LangChain is handling instrumentation)\n      if (_INTERNAL_shouldSkipAiProviderWrapping(OPENAI_INTEGRATION_NAME)) {\n        return Reflect.construct(Original, args) as OpenAiClient;\n      }\n\n      const instance = Reflect.construct(Original, args);\n      const client = getClient();\n      const integration = client?.getIntegrationByName<OpenAiIntegration>(OPENAI_INTEGRATION_NAME);\n      const integrationOpts = integration?.options;\n      const defaultPii = Boolean(client?.getOptions().sendDefaultPii);\n\n      const { recordInputs, recordOutputs } = determineRecordingSettings(integrationOpts, defaultPii);\n\n      return instrumentOpenAiClient(instance as OpenAiClient, {\n        recordInputs,\n        recordOutputs,\n      });\n    } as unknown as abstract new (...args: unknown[]) => OpenAiClient;\n\n    // Preserve static and prototype chains\n    Object.setPrototypeOf(WrappedOpenAI, Original);\n    Object.setPrototypeOf(WrappedOpenAI.prototype, Original.prototype);\n\n    for (const key of Object.getOwnPropertyNames(Original)) {\n      if (!['length', 'name', 'prototype'].includes(key)) {\n        const descriptor = Object.getOwnPropertyDescriptor(Original, key);\n        if (descriptor) {\n          Object.defineProperty(WrappedOpenAI, key, descriptor);\n        }\n      }\n    }\n\n    // Constructor replacement - handle read-only properties\n    // The OpenAI property might have only a getter, so use defineProperty\n    try {\n      exports.OpenAI = WrappedOpenAI;\n    } catch (error) {\n      // If direct assignment fails, override the property descriptor\n      Object.defineProperty(exports, 'OpenAI', {\n        value: WrappedOpenAI,\n        writable: true,\n        configurable: true,\n        enumerable: true,\n      });\n    }\n\n    // Wrap the default export if it points to the original constructor\n    // Constructor replacement - handle read-only properties\n    // The OpenAI property might have only a getter, so use defineProperty\n    if (exports.default === Original) {\n      try {\n        exports.default = WrappedOpenAI;\n      } catch (error) {\n        // If direct assignment fails, override the property descriptor\n        Object.defineProperty(exports, 'default', {\n          value: WrappedOpenAI,\n          writable: true,\n          configurable: true,\n          enumerable: true,\n        });\n      }\n    }\n    return exports;\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4271, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/tracing/openai/index.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/tracing/openai/index.ts"],"sourcesContent":["import type { IntegrationFn, OpenAiOptions } from '@sentry/core';\nimport { defineIntegration, OPENAI_INTEGRATION_NAME } from '@sentry/core';\nimport { generateInstrumentOnce } from '@sentry/node-core';\nimport { SentryOpenAiInstrumentation } from './instrumentation';\n\nexport const instrumentOpenAi = generateInstrumentOnce(\n  OPENAI_INTEGRATION_NAME,\n  () => new SentryOpenAiInstrumentation({}),\n);\n\nconst _openAiIntegration = ((options: OpenAiOptions = {}) => {\n  return {\n    name: OPENAI_INTEGRATION_NAME,\n    options,\n    setupOnce() {\n      instrumentOpenAi();\n    },\n  };\n}) satisfies IntegrationFn;\n\n/**\n * Adds Sentry tracing instrumentation for the OpenAI SDK.\n *\n * This integration is enabled by default.\n *\n * When configured, this integration automatically instruments OpenAI SDK client instances\n * to capture telemetry data following OpenTelemetry Semantic Conventions for Generative AI.\n *\n * @example\n * ```javascript\n * import * as Sentry from '@sentry/node';\n *\n * Sentry.init({\n *   integrations: [Sentry.openAIIntegration()],\n * });\n * ```\n *\n * ## Options\n *\n * - `recordInputs`: Whether to record prompt messages (default: respects `sendDefaultPii` client option)\n * - `recordOutputs`: Whether to record response text (default: respects `sendDefaultPii` client option)\n *\n * ### Default Behavior\n *\n * By default, the integration will:\n * - Record inputs and outputs ONLY if `sendDefaultPii` is set to `true` in your Sentry client options\n * - Otherwise, inputs and outputs are NOT recorded unless explicitly enabled\n *\n * @example\n * ```javascript\n * // Record inputs and outputs when sendDefaultPii is false\n * Sentry.init({\n *   integrations: [\n *     Sentry.openAIIntegration({\n *       recordInputs: true,\n *       recordOutputs: true\n *     })\n *   ],\n * });\n *\n * // Never record inputs/outputs regardless of sendDefaultPii\n * Sentry.init({\n *   sendDefaultPii: true,\n *   integrations: [\n *     Sentry.openAIIntegration({\n *       recordInputs: false,\n *       recordOutputs: false\n *     })\n *   ],\n * });\n * ```\n *\n */\nexport const openAIIntegration = defineIntegration(_openAiIntegration);\n"],"names":[],"mappings":";;;;;;;;;;;;;AAKO,MAAM,gBAAA,OAAmB,4QAAsB,EACpD,iRAAuB,EACvB,IAAM,IAAI,2SAA2B,CAAC,CAAA,CAAE,CAAC;AAG3C,MAAM,kBAAA,GAAsB,CAAC,OAAO,GAAkB,CAAA,CAAE,KAAK;IAC3D,OAAO;QACL,IAAI,EAAE,iRAAuB;QAC7B,OAAO;QACP,SAAS,GAAG;YACV,gBAAgB,EAAE;QACpB,CAAC;IACL,CAAG;AACH,CAAC,CAAA;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAoDA,SACa,iBAAA,OAAoB,wPAAiB,EAAC,kBAAkB"}},
    {"offset": {"line": 4353, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/tracing/anthropic-ai/instrumentation.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/tracing/anthropic-ai/instrumentation.ts"],"sourcesContent":["import {\n  type InstrumentationConfig,\n  type InstrumentationModuleDefinition,\n  InstrumentationBase,\n  InstrumentationNodeModuleDefinition,\n} from '@opentelemetry/instrumentation';\nimport type { AnthropicAiClient, AnthropicAiOptions } from '@sentry/core';\nimport {\n  _INTERNAL_shouldSkipAiProviderWrapping,\n  ANTHROPIC_AI_INTEGRATION_NAME,\n  getClient,\n  instrumentAnthropicAiClient,\n  SDK_VERSION,\n} from '@sentry/core';\n\nconst supportedVersions = ['>=0.19.2 <1.0.0'];\n\ntype AnthropicAiInstrumentationOptions = InstrumentationConfig & AnthropicAiOptions;\n\n/**\n * Represents the patched shape of the Anthropic AI module export.\n */\ninterface PatchedModuleExports {\n  [key: string]: unknown;\n  Anthropic: abstract new (...args: unknown[]) => AnthropicAiClient;\n}\n\n/**\n * Sentry Anthropic AI instrumentation using OpenTelemetry.\n */\nexport class SentryAnthropicAiInstrumentation extends InstrumentationBase<AnthropicAiInstrumentationOptions> {\n  public constructor(config: AnthropicAiInstrumentationOptions = {}) {\n    super('@sentry/instrumentation-anthropic-ai', SDK_VERSION, config);\n  }\n\n  /**\n   * Initializes the instrumentation by defining the modules to be patched.\n   */\n  public init(): InstrumentationModuleDefinition {\n    const module = new InstrumentationNodeModuleDefinition(\n      '@anthropic-ai/sdk',\n      supportedVersions,\n      this._patch.bind(this),\n    );\n    return module;\n  }\n\n  /**\n   * Core patch logic applying instrumentation to the Anthropic AI client constructor.\n   */\n  private _patch(exports: PatchedModuleExports): PatchedModuleExports | void {\n    const Original = exports.Anthropic;\n\n    const config = this.getConfig();\n\n    const WrappedAnthropic = function (this: unknown, ...args: unknown[]) {\n      // Check if wrapping should be skipped (e.g., when LangChain is handling instrumentation)\n      if (_INTERNAL_shouldSkipAiProviderWrapping(ANTHROPIC_AI_INTEGRATION_NAME)) {\n        return Reflect.construct(Original, args) as AnthropicAiClient;\n      }\n\n      const instance = Reflect.construct(Original, args);\n      const client = getClient();\n      const defaultPii = Boolean(client?.getOptions().sendDefaultPii);\n\n      const recordInputs = config.recordInputs ?? defaultPii;\n      const recordOutputs = config.recordOutputs ?? defaultPii;\n\n      return instrumentAnthropicAiClient(instance as AnthropicAiClient, {\n        recordInputs,\n        recordOutputs,\n      });\n    } as unknown as abstract new (...args: unknown[]) => AnthropicAiClient;\n\n    // Preserve static and prototype chains\n    Object.setPrototypeOf(WrappedAnthropic, Original);\n    Object.setPrototypeOf(WrappedAnthropic.prototype, Original.prototype);\n\n    for (const key of Object.getOwnPropertyNames(Original)) {\n      if (!['length', 'name', 'prototype'].includes(key)) {\n        const descriptor = Object.getOwnPropertyDescriptor(Original, key);\n        if (descriptor) {\n          Object.defineProperty(WrappedAnthropic, key, descriptor);\n        }\n      }\n    }\n\n    // Constructor replacement - handle read-only properties\n    // The Anthropic property might have only a getter, so use defineProperty\n    try {\n      exports.Anthropic = WrappedAnthropic;\n    } catch (error) {\n      // If direct assignment fails, override the property descriptor\n      Object.defineProperty(exports, 'Anthropic', {\n        value: WrappedAnthropic,\n        writable: true,\n        configurable: true,\n        enumerable: true,\n      });\n    }\n\n    // Wrap the default export if it points to the original constructor\n    // Constructor replacement - handle read-only properties\n    // The Anthropic property might have only a getter, so use defineProperty\n    if (exports.default === Original) {\n      try {\n        exports.default = WrappedAnthropic;\n      } catch (error) {\n        // If direct assignment fails, override the property descriptor\n        Object.defineProperty(exports, 'default', {\n          value: WrappedAnthropic,\n          writable: true,\n          configurable: true,\n          enumerable: true,\n        });\n      }\n    }\n    return exports;\n  }\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;AAeA,MAAM,iBAAA,GAAoB;IAAC,iBAAiB;CAAC;AAY7C;;CAEA,GACO,MAAM,gCAAA,SAAyC,oSAAmB,CAAoC;IACpG,WAAW,CAAC,MAAM,GAAsC,CAAA,CAAE,CAAE;QACjE,KAAK,CAAC,sCAAsC,EAAE,uPAAW,EAAE,MAAM,CAAC;IACpE;IAEF;;GAEA,GACS,IAAI,GAAoC;QAC7C,MAAM,MAAA,GAAS,IAAI,oTAAmC,CACpD,mBAAmB,EACnB,iBAAiB,EACjB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;QAExB,OAAO,MAAM;IACf;IAEF;;GAEA,GACU,MAAM,CAAC,OAAO,EAAqD;QACzE,MAAM,QAAA,GAAW,OAAO,CAAC,SAAS;QAElC,MAAM,MAAA,GAAS,IAAI,CAAC,SAAS,EAAE;QAE/B,MAAM,mBAAmB,SAAyB,GAAG,IAAI,EAAa;YAC1E,yFAAA;YACM,QAAI,6RAAsC,EAAC,gSAA6B,CAAC,EAAE;gBACzE,OAAO,OAAO,CAAC,SAAS,CAAC,QAAQ,EAAE,IAAI,CAAA;YACzC;YAEA,MAAM,QAAA,GAAW,OAAO,CAAC,SAAS,CAAC,QAAQ,EAAE,IAAI,CAAC;YAClD,MAAM,MAAA,OAAS,kPAAS,EAAE;YAC1B,MAAM,UAAA,GAAa,OAAO,CAAC,MAAM,EAAE,UAAU,EAAE,CAAC,cAAc,CAAC;YAE/D,MAAM,YAAA,GAAe,MAAM,CAAC,YAAA,IAAgB,UAAU;YACtD,MAAM,aAAA,GAAgB,MAAM,CAAC,aAAA,IAAiB,UAAU;YAExD,WAAO,0RAA2B,EAAC,QAAA,EAA+B;gBAChE,YAAY;gBACZ,aAAa;YACrB,CAAO,CAAC;QACJ,CAAA;QAEJ,uCAAA;QACI,MAAM,CAAC,cAAc,CAAC,gBAAgB,EAAE,QAAQ,CAAC;QACjD,MAAM,CAAC,cAAc,CAAC,gBAAgB,CAAC,SAAS,EAAE,QAAQ,CAAC,SAAS,CAAC;QAErE,KAAK,MAAM,GAAA,IAAO,MAAM,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAE;YACtD,IAAI,CAAC;gBAAC,QAAQ;gBAAE,MAAM;gBAAE,WAAW;aAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;gBAClD,MAAM,UAAA,GAAa,MAAM,CAAC,wBAAwB,CAAC,QAAQ,EAAE,GAAG,CAAC;gBACjE,IAAI,UAAU,EAAE;oBACd,MAAM,CAAC,cAAc,CAAC,gBAAgB,EAAE,GAAG,EAAE,UAAU,CAAC;gBAC1D;YACF;QACF;QAEJ,wDAAA;QACA,yEAAA;QACI,IAAI;YACF,OAAO,CAAC,SAAA,GAAY,gBAAgB;QACtC,CAAA,CAAE,OAAO,KAAK,EAAE;YACpB,+DAAA;YACM,MAAM,CAAC,cAAc,CAAC,OAAO,EAAE,WAAW,EAAE;gBAC1C,KAAK,EAAE,gBAAgB;gBACvB,QAAQ,EAAE,IAAI;gBACd,YAAY,EAAE,IAAI;gBAClB,UAAU,EAAE,IAAI;YACxB,CAAO,CAAC;QACJ;QAEJ,mEAAA;QACA,wDAAA;QACA,yEAAA;QACI,IAAI,OAAO,CAAC,OAAA,KAAY,QAAQ,EAAE;YAChC,IAAI;gBACF,OAAO,CAAC,OAAA,GAAU,gBAAgB;YACpC,CAAA,CAAE,OAAO,KAAK,EAAE;gBACtB,+DAAA;gBACQ,MAAM,CAAC,cAAc,CAAC,OAAO,EAAE,SAAS,EAAE;oBACxC,KAAK,EAAE,gBAAgB;oBACvB,QAAQ,EAAE,IAAI;oBACd,YAAY,EAAE,IAAI;oBAClB,UAAU,EAAE,IAAI;gBAC1B,CAAS,CAAC;YACJ;QACF;QACA,OAAO,OAAO;IAChB;AACF"}},
    {"offset": {"line": 4454, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/tracing/anthropic-ai/index.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/tracing/anthropic-ai/index.ts"],"sourcesContent":["import type { AnthropicAiOptions, IntegrationFn } from '@sentry/core';\nimport { ANTHROPIC_AI_INTEGRATION_NAME, defineIntegration } from '@sentry/core';\nimport { generateInstrumentOnce } from '@sentry/node-core';\nimport { SentryAnthropicAiInstrumentation } from './instrumentation';\n\nexport const instrumentAnthropicAi = generateInstrumentOnce<AnthropicAiOptions>(\n  ANTHROPIC_AI_INTEGRATION_NAME,\n  options => new SentryAnthropicAiInstrumentation(options),\n);\n\nconst _anthropicAIIntegration = ((options: AnthropicAiOptions = {}) => {\n  return {\n    name: ANTHROPIC_AI_INTEGRATION_NAME,\n    options,\n    setupOnce() {\n      instrumentAnthropicAi(options);\n    },\n  };\n}) satisfies IntegrationFn;\n\n/**\n * Adds Sentry tracing instrumentation for the Anthropic AI SDK.\n *\n * This integration is enabled by default.\n *\n * When configured, this integration automatically instruments Anthropic AI SDK client instances\n * to capture telemetry data following OpenTelemetry Semantic Conventions for Generative AI.\n *\n * @example\n * ```javascript\n * import * as Sentry from '@sentry/node';\n *\n * Sentry.init({\n *   integrations: [Sentry.anthropicAIIntegration()],\n * });\n * ```\n *\n * ## Options\n *\n * - `recordInputs`: Whether to record prompt messages (default: respects `sendDefaultPii` client option)\n * - `recordOutputs`: Whether to record response text (default: respects `sendDefaultPii` client option)\n *\n * ### Default Behavior\n *\n * By default, the integration will:\n * - Record inputs and outputs ONLY if `sendDefaultPii` is set to `true` in your Sentry client options\n * - Otherwise, inputs and outputs are NOT recorded unless explicitly enabled\n *\n * @example\n * ```javascript\n * // Record inputs and outputs when sendDefaultPii is false\n * Sentry.init({\n *   integrations: [\n *     Sentry.anthropicAIIntegration({\n *       recordInputs: true,\n *       recordOutputs: true\n *     })\n *   ],\n * });\n *\n * // Never record inputs/outputs regardless of sendDefaultPii\n * Sentry.init({\n *   sendDefaultPii: true,\n *   integrations: [\n *     Sentry.anthropicAIIntegration({\n *       recordInputs: false,\n *       recordOutputs: false\n *     })\n *   ],\n * });\n * ```\n *\n */\nexport const anthropicAIIntegration = defineIntegration(_anthropicAIIntegration);\n"],"names":[],"mappings":";;;;;;;;;;;;;AAKO,MAAM,qBAAA,OAAwB,4QAAsB,EACzD,gSAA6B,GAC7B,UAAW,IAAI,yTAAgC,CAAC,OAAO,CAAC;AAG1D,MAAM,uBAAA,GAA2B,CAAC,OAAO,GAAuB,CAAA,CAAE,KAAK;IACrE,OAAO;QACL,IAAI,EAAE,gSAA6B;QACnC,OAAO;QACP,SAAS,GAAG;YACV,qBAAqB,CAAC,OAAO,CAAC;QAChC,CAAC;IACL,CAAG;AACH,CAAC,CAAA;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAoDA,SACa,sBAAA,OAAyB,wPAAiB,EAAC,uBAAuB"}},
    {"offset": {"line": 4536, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/tracing/google-genai/instrumentation.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/tracing/google-genai/instrumentation.ts"],"sourcesContent":["import type { InstrumentationConfig } from '@opentelemetry/instrumentation';\nimport {\n  type InstrumentationModuleDefinition,\n  InstrumentationBase,\n  InstrumentationNodeModuleDefinition,\n  InstrumentationNodeModuleFile,\n} from '@opentelemetry/instrumentation';\nimport type { GoogleGenAIClient, GoogleGenAIOptions } from '@sentry/core';\nimport {\n  _INTERNAL_shouldSkipAiProviderWrapping,\n  getClient,\n  GOOGLE_GENAI_INTEGRATION_NAME,\n  instrumentGoogleGenAIClient,\n  replaceExports,\n  SDK_VERSION,\n} from '@sentry/core';\n\nconst supportedVersions = ['>=0.10.0 <2'];\n\n/**\n * Represents the patched shape of the Google GenAI module export.\n */\ninterface PatchedModuleExports {\n  [key: string]: unknown;\n  GoogleGenAI?: unknown;\n}\n\ntype GoogleGenAIInstrumentationOptions = GoogleGenAIOptions & InstrumentationConfig;\n\n/**\n * Sentry Google GenAI instrumentation using OpenTelemetry.\n */\nexport class SentryGoogleGenAiInstrumentation extends InstrumentationBase<GoogleGenAIInstrumentationOptions> {\n  public constructor(config: GoogleGenAIInstrumentationOptions = {}) {\n    super('@sentry/instrumentation-google-genai', SDK_VERSION, config);\n  }\n\n  /**\n   * Initializes the instrumentation by defining the modules to be patched.\n   */\n  public init(): InstrumentationModuleDefinition {\n    const module = new InstrumentationNodeModuleDefinition(\n      '@google/genai',\n      supportedVersions,\n      exports => this._patch(exports),\n      exports => exports,\n      // In CJS, @google/genai re-exports from (dist/node/index.cjs) file.\n      // Patching only the root module sometimes misses the real implementation or\n      // gets overwritten when that file is loaded. We add a file-level patch so that\n      // _patch runs again on the concrete implementation\n      [\n        new InstrumentationNodeModuleFile(\n          '@google/genai/dist/node/index.cjs',\n          supportedVersions,\n          exports => this._patch(exports),\n          exports => exports,\n        ),\n      ],\n    );\n    return module;\n  }\n\n  /**\n   * Core patch logic applying instrumentation to the Google GenAI client constructor.\n   */\n  private _patch(exports: PatchedModuleExports): PatchedModuleExports | void {\n    const Original = exports.GoogleGenAI;\n    const config = this.getConfig();\n\n    if (typeof Original !== 'function') {\n      return exports;\n    }\n\n    const WrappedGoogleGenAI = function (this: unknown, ...args: unknown[]): GoogleGenAIClient {\n      // Check if wrapping should be skipped (e.g., when LangChain is handling instrumentation)\n      if (_INTERNAL_shouldSkipAiProviderWrapping(GOOGLE_GENAI_INTEGRATION_NAME)) {\n        return Reflect.construct(Original, args) as GoogleGenAIClient;\n      }\n\n      const instance = Reflect.construct(Original, args);\n      const client = getClient();\n      const defaultPii = Boolean(client?.getOptions().sendDefaultPii);\n\n      const typedConfig = config;\n      const recordInputs = typedConfig?.recordInputs ?? defaultPii;\n      const recordOutputs = typedConfig?.recordOutputs ?? defaultPii;\n\n      return instrumentGoogleGenAIClient(instance, {\n        recordInputs,\n        recordOutputs,\n      });\n    };\n\n    // Preserve static and prototype chains\n    Object.setPrototypeOf(WrappedGoogleGenAI, Original);\n    Object.setPrototypeOf(WrappedGoogleGenAI.prototype, Original.prototype);\n\n    for (const key of Object.getOwnPropertyNames(Original)) {\n      if (!['length', 'name', 'prototype'].includes(key)) {\n        const descriptor = Object.getOwnPropertyDescriptor(Original, key);\n        if (descriptor) {\n          Object.defineProperty(WrappedGoogleGenAI, key, descriptor);\n        }\n      }\n    }\n\n    // Replace google genai exports with the wrapped constructor\n    replaceExports(exports, 'GoogleGenAI', WrappedGoogleGenAI);\n\n    return exports;\n  }\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAiBA,MAAM,iBAAA,GAAoB;IAAC,aAAa;CAAC;AAEzC;;CAEA,GAQA;;CAEA,GACO,MAAM,gCAAA,SAAyC,oSAAmB,CAAoC;IACpG,WAAW,CAAC,MAAM,GAAsC,CAAA,CAAE,CAAE;QACjE,KAAK,CAAC,sCAAsC,EAAE,uPAAW,EAAE,MAAM,CAAC;IACpE;IAEF;;GAEA,GACS,IAAI,GAAoC;QAC7C,MAAM,MAAA,GAAS,IAAI,oTAAmC,CACpD,eAAe,EACf,iBAAiB,GACjB,UAAW,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,GAC/B,OAAA,GAAW,OAAO,EACxB,oEAAA;QACA,4EAAA;QACA,+EAAA;QACA,mDAAA;QACM;YACE,IAAI,wSAA6B,CAC/B,mCAAmC,EACnC,iBAAiB,GACjB,UAAW,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,GAC/B,OAAA,GAAW,OAAO;SAErB;QAEH,OAAO,MAAM;IACf;IAEF;;GAEA,GACU,MAAM,CAAC,OAAO,EAAqD;QACzE,MAAM,QAAA,GAAW,OAAO,CAAC,WAAW;QACpC,MAAM,MAAA,GAAS,IAAI,CAAC,SAAS,EAAE;QAE/B,IAAI,OAAO,QAAA,KAAa,UAAU,EAAE;YAClC,OAAO,OAAO;QAChB;QAEA,MAAM,qBAAqB,SAAyB,GAAG,IAAI,EAAgC;YAC/F,yFAAA;YACM,QAAI,6RAAsC,EAAC,gSAA6B,CAAC,EAAE;gBACzE,OAAO,OAAO,CAAC,SAAS,CAAC,QAAQ,EAAE,IAAI,CAAA;YACzC;YAEA,MAAM,QAAA,GAAW,OAAO,CAAC,SAAS,CAAC,QAAQ,EAAE,IAAI,CAAC;YAClD,MAAM,MAAA,OAAS,kPAAS,EAAE;YAC1B,MAAM,UAAA,GAAa,OAAO,CAAC,MAAM,EAAE,UAAU,EAAE,CAAC,cAAc,CAAC;YAE/D,MAAM,WAAA,GAAc,MAAM;YAC1B,MAAM,YAAA,GAAe,WAAW,EAAE,YAAA,IAAgB,UAAU;YAC5D,MAAM,aAAA,GAAgB,WAAW,EAAE,aAAA,IAAiB,UAAU;YAE9D,WAAO,0RAA2B,EAAC,QAAQ,EAAE;gBAC3C,YAAY;gBACZ,aAAa;YACrB,CAAO,CAAC;QACJ,CAAC;QAEL,uCAAA;QACI,MAAM,CAAC,cAAc,CAAC,kBAAkB,EAAE,QAAQ,CAAC;QACnD,MAAM,CAAC,cAAc,CAAC,kBAAkB,CAAC,SAAS,EAAE,QAAQ,CAAC,SAAS,CAAC;QAEvE,KAAK,MAAM,GAAA,IAAO,MAAM,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAE;YACtD,IAAI,CAAC;gBAAC,QAAQ;gBAAE,MAAM;gBAAE,WAAW;aAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;gBAClD,MAAM,UAAA,GAAa,MAAM,CAAC,wBAAwB,CAAC,QAAQ,EAAE,GAAG,CAAC;gBACjE,IAAI,UAAU,EAAE;oBACd,MAAM,CAAC,cAAc,CAAC,kBAAkB,EAAE,GAAG,EAAE,UAAU,CAAC;gBAC5D;YACF;QACF;QAEJ,4DAAA;YACI,0PAAc,EAAC,OAAO,EAAE,aAAa,EAAE,kBAAkB,CAAC;QAE1D,OAAO,OAAO;IAChB;AACF"}},
    {"offset": {"line": 4624, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/tracing/google-genai/index.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/tracing/google-genai/index.ts"],"sourcesContent":["import type { GoogleGenAIOptions, IntegrationFn } from '@sentry/core';\nimport { defineIntegration, GOOGLE_GENAI_INTEGRATION_NAME } from '@sentry/core';\nimport { generateInstrumentOnce } from '@sentry/node-core';\nimport { SentryGoogleGenAiInstrumentation } from './instrumentation';\n\nexport const instrumentGoogleGenAI = generateInstrumentOnce<GoogleGenAIOptions>(\n  GOOGLE_GENAI_INTEGRATION_NAME,\n  options => new SentryGoogleGenAiInstrumentation(options),\n);\n\nconst _googleGenAIIntegration = ((options: GoogleGenAIOptions = {}) => {\n  return {\n    name: GOOGLE_GENAI_INTEGRATION_NAME,\n    setupOnce() {\n      instrumentGoogleGenAI(options);\n    },\n  };\n}) satisfies IntegrationFn;\n\n/**\n * Adds Sentry tracing instrumentation for the Google Generative AI SDK.\n *\n * This integration is enabled by default.\n *\n * When configured, this integration automatically instruments Google GenAI SDK client instances\n * to capture telemetry data following OpenTelemetry Semantic Conventions for Generative AI.\n *\n * @example\n * ```javascript\n * import * as Sentry from '@sentry/node';\n *\n * Sentry.init({\n *   integrations: [Sentry.googleGenAiIntegration()],\n * });\n * ```\n *\n * ## Options\n *\n * - `recordInputs`: Whether to record prompt messages (default: respects `sendDefaultPii` client option)\n * - `recordOutputs`: Whether to record response text (default: respects `sendDefaultPii` client option)\n *\n * ### Default Behavior\n *\n * By default, the integration will:\n * - Record inputs and outputs ONLY if `sendDefaultPii` is set to `true` in your Sentry client options\n * - Otherwise, inputs and outputs are NOT recorded unless explicitly enabled\n *\n * @example\n * ```javascript\n * // Record inputs and outputs when sendDefaultPii is false\n * Sentry.init({\n *   integrations: [\n *     Sentry.googleGenAiIntegration({\n *       recordInputs: true,\n *       recordOutputs: true\n *     })\n *   ],\n * });\n *\n * // Never record inputs/outputs regardless of sendDefaultPii\n * Sentry.init({\n *   sendDefaultPii: true,\n *   integrations: [\n *     Sentry.googleGenAiIntegration({\n *       recordInputs: false,\n *       recordOutputs: false\n *     })\n *   ],\n * });\n * ```\n *\n */\nexport const googleGenAIIntegration = defineIntegration(_googleGenAIIntegration);\n"],"names":[],"mappings":";;;;;;;;;;;;;AAKO,MAAM,qBAAA,OAAwB,4QAAsB,EACzD,gSAA6B,GAC7B,UAAW,IAAI,yTAAgC,CAAC,OAAO,CAAC;AAG1D,MAAM,uBAAA,GAA2B,CAAC,OAAO,GAAuB,CAAA,CAAE,KAAK;IACrE,OAAO;QACL,IAAI,EAAE,gSAA6B;QACnC,SAAS,GAAG;YACV,qBAAqB,CAAC,OAAO,CAAC;QAChC,CAAC;IACL,CAAG;AACH,CAAC,CAAA;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAoDA,SACa,sBAAA,OAAyB,wPAAiB,EAAC,uBAAuB"}},
    {"offset": {"line": 4705, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/tracing/langchain/instrumentation.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/tracing/langchain/instrumentation.ts"],"sourcesContent":["import {\n  type InstrumentationConfig,\n  type InstrumentationModuleDefinition,\n  InstrumentationBase,\n  InstrumentationNodeModuleDefinition,\n  InstrumentationNodeModuleFile,\n} from '@opentelemetry/instrumentation';\nimport type { LangChainOptions } from '@sentry/core';\nimport {\n  _INTERNAL_skipAiProviderWrapping,\n  ANTHROPIC_AI_INTEGRATION_NAME,\n  createLangChainCallbackHandler,\n  getClient,\n  GOOGLE_GENAI_INTEGRATION_NAME,\n  OPENAI_INTEGRATION_NAME,\n  SDK_VERSION,\n} from '@sentry/core';\n\nconst supportedVersions = ['>=0.1.0 <1.0.0'];\n\ntype LangChainInstrumentationOptions = InstrumentationConfig & LangChainOptions;\n\n/**\n * Represents the patched shape of LangChain provider package exports\n */\ninterface PatchedLangChainExports {\n  [key: string]: unknown;\n}\n\n/**\n * Augments a callback handler list with Sentry's handler if not already present\n */\nfunction augmentCallbackHandlers(handlers: unknown, sentryHandler: unknown): unknown {\n  // Handle null/undefined - return array with just our handler\n  if (!handlers) {\n    return [sentryHandler];\n  }\n\n  // If handlers is already an array\n  if (Array.isArray(handlers)) {\n    // Check if our handler is already in the list\n    if (handlers.includes(sentryHandler)) {\n      return handlers;\n    }\n    // Add our handler to the list\n    return [...handlers, sentryHandler];\n  }\n\n  // If it's a single handler object, convert to array\n  if (typeof handlers === 'object') {\n    return [handlers, sentryHandler];\n  }\n\n  // Unknown type - return original\n  return handlers;\n}\n\n/**\n * Wraps Runnable methods (invoke, stream, batch) to inject Sentry callbacks at request time\n * Uses a Proxy to intercept method calls and augment the options.callbacks\n */\nfunction wrapRunnableMethod(\n  originalMethod: (...args: unknown[]) => unknown,\n  sentryHandler: unknown,\n  _methodName: string,\n): (...args: unknown[]) => unknown {\n  return new Proxy(originalMethod, {\n    apply(target, thisArg, args: unknown[]): unknown {\n      // LangChain Runnable method signatures:\n      // invoke(input, options?) - options contains callbacks\n      // stream(input, options?) - options contains callbacks\n      // batch(inputs, options?) - options contains callbacks\n\n      // Options is typically the second argument\n      const optionsIndex = 1;\n      let options = args[optionsIndex] as Record<string, unknown> | undefined;\n\n      // If options don't exist or aren't an object, create them\n      if (!options || typeof options !== 'object' || Array.isArray(options)) {\n        options = {};\n        args[optionsIndex] = options;\n      }\n\n      // Inject our callback handler into options.callbacks (request time callbacks)\n      const existingCallbacks = options.callbacks;\n      const augmentedCallbacks = augmentCallbackHandlers(existingCallbacks, sentryHandler);\n      options.callbacks = augmentedCallbacks;\n\n      // Call original method with augmented options\n      return Reflect.apply(target, thisArg, args);\n    },\n  }) as (...args: unknown[]) => unknown;\n}\n\n/**\n * Sentry LangChain instrumentation using OpenTelemetry.\n */\nexport class SentryLangChainInstrumentation extends InstrumentationBase<LangChainInstrumentationOptions> {\n  public constructor(config: LangChainInstrumentationOptions = {}) {\n    super('@sentry/instrumentation-langchain', SDK_VERSION, config);\n  }\n\n  /**\n   * Initializes the instrumentation by defining the modules to be patched.\n   * We patch the BaseChatModel class methods to inject callbacks\n   *\n   * We hook into provider packages (@langchain/anthropic, @langchain/openai, etc.)\n   * because @langchain/core is often bundled and not loaded as a separate module\n   */\n  public init(): InstrumentationModuleDefinition | InstrumentationModuleDefinition[] {\n    const modules: InstrumentationModuleDefinition[] = [];\n\n    // Hook into common LangChain provider packages\n    const providerPackages = [\n      '@langchain/anthropic',\n      '@langchain/openai',\n      '@langchain/google-genai',\n      '@langchain/mistralai',\n      '@langchain/google-vertexai',\n      '@langchain/groq',\n    ];\n\n    for (const packageName of providerPackages) {\n      // In CJS, LangChain packages re-export from dist/index.cjs files.\n      // Patching only the root module sometimes misses the real implementation or\n      // gets overwritten when that file is loaded. We add a file-level patch so that\n      // _patch runs again on the concrete implementation\n      modules.push(\n        new InstrumentationNodeModuleDefinition(\n          packageName,\n          supportedVersions,\n          this._patch.bind(this),\n          exports => exports,\n          [\n            new InstrumentationNodeModuleFile(\n              `${packageName}/dist/index.cjs`,\n              supportedVersions,\n              this._patch.bind(this),\n              exports => exports,\n            ),\n          ],\n        ),\n      );\n    }\n\n    return modules;\n  }\n\n  /**\n   * Core patch logic - patches chat model methods to inject Sentry callbacks\n   * This is called when a LangChain provider package is loaded\n   */\n  private _patch(exports: PatchedLangChainExports): PatchedLangChainExports | void {\n    // Skip AI provider wrapping now that LangChain is actually being used\n    // This prevents duplicate spans from Anthropic/OpenAI/GoogleGenAI standalone integrations\n    _INTERNAL_skipAiProviderWrapping([\n      OPENAI_INTEGRATION_NAME,\n      ANTHROPIC_AI_INTEGRATION_NAME,\n      GOOGLE_GENAI_INTEGRATION_NAME,\n    ]);\n\n    const client = getClient();\n    const defaultPii = Boolean(client?.getOptions().sendDefaultPii);\n\n    const config = this.getConfig();\n\n    const recordInputs = config?.recordInputs ?? defaultPii;\n    const recordOutputs = config?.recordOutputs ?? defaultPii;\n\n    // Create a shared handler instance\n    const sentryHandler = createLangChainCallbackHandler({\n      recordInputs,\n      recordOutputs,\n    });\n\n    // Patch Runnable methods to inject callbacks at request time\n    // This directly manipulates options.callbacks that LangChain uses\n    this._patchRunnableMethods(exports, sentryHandler);\n\n    return exports;\n  }\n\n  /**\n   * Patches chat model methods (invoke, stream, batch) to inject Sentry callbacks\n   * Finds a chat model class from the provider package exports and patches its prototype methods\n   */\n  private _patchRunnableMethods(exports: PatchedLangChainExports, sentryHandler: unknown): void {\n    // Known chat model class names for each provider\n    const knownChatModelNames = [\n      'ChatAnthropic',\n      'ChatOpenAI',\n      'ChatGoogleGenerativeAI',\n      'ChatMistralAI',\n      'ChatVertexAI',\n      'ChatGroq',\n    ];\n\n    // Find a chat model class in the exports by checking known class names\n    const chatModelClass = Object.values(exports).find(exp => {\n      if (typeof exp !== 'function') {\n        return false;\n      }\n      return knownChatModelNames.includes(exp.name);\n    }) as { prototype: unknown; name: string } | undefined;\n\n    if (!chatModelClass) {\n      return;\n    }\n\n    // Patch directly on chatModelClass.prototype\n    const targetProto = chatModelClass.prototype as Record<string, unknown>;\n\n    // Patch the methods (invoke, stream, batch)\n    // All chat model instances will inherit these patched methods\n    const methodsToPatch = ['invoke', 'stream', 'batch'] as const;\n\n    for (const methodName of methodsToPatch) {\n      const method = targetProto[methodName];\n      if (typeof method === 'function') {\n        targetProto[methodName] = wrapRunnableMethod(\n          method as (...args: unknown[]) => unknown,\n          sentryHandler,\n          methodName,\n        );\n      }\n    }\n  }\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAkBA,MAAM,iBAAA,GAAoB;IAAC,gBAAgB;CAAC;AAW5C;;CAEA,GACA,SAAS,uBAAuB,CAAC,QAAQ,EAAW,aAAa,EAAoB;IACrF,6DAAA;IACE,IAAI,CAAC,QAAQ,EAAE;QACb,OAAO;YAAC,aAAa;SAAC;IACxB;IAEF,kCAAA;IACE,IAAI,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE;QAC/B,8CAAA;QACI,IAAI,QAAQ,CAAC,QAAQ,CAAC,aAAa,CAAC,EAAE;YACpC,OAAO,QAAQ;QACjB;QACJ,8BAAA;QACI,OAAO,CAAC;eAAG,QAAQ;YAAE,aAAa;SAAC;IACrC;IAEF,oDAAA;IACE,IAAI,OAAO,QAAA,KAAa,QAAQ,EAAE;QAChC,OAAO;YAAC,QAAQ;YAAE,aAAa;SAAC;IAClC;IAEF,iCAAA;IACE,OAAO,QAAQ;AACjB;AAEA;;;CAGA,GACA,SAAS,kBAAkB,CACzB,cAAc,EACd,aAAa,EACb,WAAW;IAEX,OAAO,IAAI,KAAK,CAAC,cAAc,EAAE;QAC/B,KAAK,EAAC,MAAM,EAAE,OAAO,EAAE,IAAI,EAAsB;YACrD,wCAAA;YACA,uDAAA;YACA,uDAAA;YACA,uDAAA;YAEA,2CAAA;YACM,MAAM,YAAA,GAAe,CAAC;YACtB,IAAI,OAAA,GAAU,IAAI,CAAC,YAAY,CAAA;YAErC,0DAAA;YACM,IAAI,CAAC,OAAA,IAAW,OAAO,OAAA,KAAY,QAAA,IAAY,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE;gBACrE,OAAA,GAAU,CAAA,CAAE;gBACZ,IAAI,CAAC,YAAY,CAAA,GAAI,OAAO;YAC9B;YAEN,8EAAA;YACM,MAAM,iBAAA,GAAoB,OAAO,CAAC,SAAS;YAC3C,MAAM,qBAAqB,uBAAuB,CAAC,iBAAiB,EAAE,aAAa,CAAC;YACpF,OAAO,CAAC,SAAA,GAAY,kBAAkB;YAE5C,8CAAA;YACM,OAAO,OAAO,CAAC,KAAK,CAAC,MAAM,EAAE,OAAO,EAAE,IAAI,CAAC;QAC7C,CAAC;IACL,CAAG,CAAA;AACH;AAEA;;CAEA,GACO,MAAM,8BAAA,SAAuC,oSAAmB,CAAkC;IAChG,WAAW,CAAC,MAAM,GAAoC,CAAA,CAAE,CAAE;QAC/D,KAAK,CAAC,mCAAmC,EAAE,uPAAW,EAAE,MAAM,CAAC;IACjE;IAEF;;;;;;GAMA,GACS,IAAI,GAAwE;QACjF,MAAM,OAAO,GAAsC,EAAE;QAEzD,+CAAA;QACI,MAAM,mBAAmB;YACvB,sBAAsB;YACtB,mBAAmB;YACnB,yBAAyB;YACzB,sBAAsB;YACtB,4BAA4B;YAC5B,iBAAiB;SAClB;QAED,KAAK,MAAM,WAAA,IAAe,gBAAgB,CAAE;YAChD,kEAAA;YACA,4EAAA;YACA,+EAAA;YACA,mDAAA;YACM,OAAO,CAAC,IAAI,CACV,IAAI,oTAAmC,CACrC,WAAW,EACX,iBAAiB,EACjB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GACtB,OAAA,GAAW,OAAO,EAClB;gBACE,IAAI,wSAA6B,CAC/B,CAAC,EAAA,WAAA,CAAA,eAAA,CAAA,EACA,iBAAA,EACA,IAAA,CAAA,MAAA,CAAA,IAAA,CAAA,IAAA,CAAA,GACA,OAAA,GAAA,OAAA;aAEA;QAGA;QAEA,OAAA,OAAA;IACA;IAEA;;;GAGA,GACA,MAAA,CAAA,OAAA,EAAA;QACA,sEAAA;QACA,0FAAA;YACA,uRAAA,EAAA;YACA,iRAAA;YACA,gSAAA;YACA,gSAAA;SACA,CAAA;QAEA,MAAA,MAAA,OAAA,kPAAA,EAAA;QACA,MAAA,UAAA,GAAA,OAAA,CAAA,MAAA,EAAA,UAAA,EAAA,CAAA,cAAA,CAAA;QAEA,MAAA,MAAA,GAAA,IAAA,CAAA,SAAA,EAAA;QAEA,MAAA,YAAA,GAAA,MAAA,EAAA,YAAA,IAAA,UAAA;QACA,MAAA,aAAA,GAAA,MAAA,EAAA,aAAA,IAAA,UAAA;QAEA,mCAAA;QACA,MAAA,aAAA,OAAA,uRAAA,EAAA;YACA,YAAA;YACA,aAAA;QACA,CAAA,CAAA;QAEA,6DAAA;QACA,kEAAA;QACA,IAAA,CAAA,qBAAA,CAAA,OAAA,EAAA,aAAA,CAAA;QAEA,OAAA,OAAA;IACA;IAEA;;;GAGA,GACA,qBAAA,CAAA,OAAA,EAAA,aAAA,EAAA;QACA,iDAAA;QACA,MAAA,mBAAA,GAAA;YACA,eAAA;YACA,YAAA;YACA,wBAAA;YACA,eAAA;YACA,cAAA;YACA,UAAA;SACA;QAEA,uEAAA;QACA,MAAA,cAAA,GAAA,MAAA,CAAA,MAAA,CAAA,OAAA,CAAA,CAAA,IAAA,EAAA,GAAA,IAAA;YACA,IAAA,OAAA,GAAA,KAAA,UAAA,EAAA;gBACA,OAAA,KAAA;YACA;YACA,OAAA,mBAAA,CAAA,QAAA,CAAA,GAAA,CAAA,IAAA,CAAA;QACA,CAAA,CAAA;QAEA,IAAA,CAAA,cAAA,EAAA;YACA;QACA;QAEA,6CAAA;QACA,MAAA,WAAA,GAAA,cAAA,CAAA,SAAA;QAEA,4CAAA;QACA,8DAAA;QACA,MAAA,cAAA,GAAA;YAAA,QAAA;YAAA,QAAA;YAAA,OAAA;SAAA;QAEA,KAAA,MAAA,UAAA,IAAA,cAAA,CAAA;YACA,MAAA,MAAA,GAAA,WAAA,CAAA,UAAA,CAAA;YACA,IAAA,OAAA,MAAA,KAAA,UAAA,EAAA;gBACA,WAAA,CAAA,UAAA,CAAA,GAAA,kBAAA,CACA,MAAA,EACA,aAEA,CAAA;YACA;QACA;IACA;AACA"}},
    {"offset": {"line": 4888, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/tracing/langchain/index.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/tracing/langchain/index.ts"],"sourcesContent":["import type { IntegrationFn, LangChainOptions } from '@sentry/core';\nimport { defineIntegration, LANGCHAIN_INTEGRATION_NAME } from '@sentry/core';\nimport { generateInstrumentOnce } from '@sentry/node-core';\nimport { SentryLangChainInstrumentation } from './instrumentation';\n\nexport const instrumentLangChain = generateInstrumentOnce<LangChainOptions>(\n  LANGCHAIN_INTEGRATION_NAME,\n  options => new SentryLangChainInstrumentation(options),\n);\n\nconst _langChainIntegration = ((options: LangChainOptions = {}) => {\n  return {\n    name: LANGCHAIN_INTEGRATION_NAME,\n    setupOnce() {\n      instrumentLangChain(options);\n    },\n  };\n}) satisfies IntegrationFn;\n\n/**\n * Adds Sentry tracing instrumentation for LangChain.\n *\n * This integration is enabled by default.\n *\n * When configured, this integration automatically instruments LangChain runnable instances\n * to capture telemetry data by injecting Sentry callback handlers into all LangChain calls.\n *\n * **Important:** This integration automatically skips wrapping the OpenAI, Anthropic, and Google GenAI\n * providers to prevent duplicate spans when using LangChain with these AI providers.\n * LangChain handles the instrumentation for all underlying AI providers.\n *\n * @example\n * ```javascript\n * import * as Sentry from '@sentry/node';\n * import { ChatOpenAI } from '@langchain/openai';\n *\n * Sentry.init({\n *   integrations: [Sentry.langChainIntegration()],\n *   sendDefaultPii: true, // Enable to record inputs/outputs\n * });\n *\n * // LangChain calls are automatically instrumented\n * const model = new ChatOpenAI();\n * await model.invoke(\"What is the capital of France?\");\n * ```\n *\n * ## Manual Callback Handler\n *\n * You can also manually add the Sentry callback handler alongside other callbacks:\n *\n * @example\n * ```javascript\n * import * as Sentry from '@sentry/node';\n * import { ChatOpenAI } from '@langchain/openai';\n *\n * const sentryHandler = Sentry.createLangChainCallbackHandler({\n *   recordInputs: true,\n *   recordOutputs: true\n * });\n *\n * const model = new ChatOpenAI();\n * await model.invoke(\n *   \"What is the capital of France?\",\n *   { callbacks: [sentryHandler, myOtherCallback] }\n * );\n * ```\n *\n * ## Options\n *\n * - `recordInputs`: Whether to record input messages/prompts (default: respects `sendDefaultPii` client option)\n * - `recordOutputs`: Whether to record response text (default: respects `sendDefaultPii` client option)\n *\n * ### Default Behavior\n *\n * By default, the integration will:\n * - Record inputs and outputs ONLY if `sendDefaultPii` is set to `true` in your Sentry client options\n * - Otherwise, inputs and outputs are NOT recorded unless explicitly enabled\n *\n * @example\n * ```javascript\n * // Record inputs and outputs when sendDefaultPii is false\n * Sentry.init({\n *   integrations: [\n *     Sentry.langChainIntegration({\n *       recordInputs: true,\n *       recordOutputs: true\n *     })\n *   ],\n * });\n *\n * // Never record inputs/outputs regardless of sendDefaultPii\n * Sentry.init({\n *   sendDefaultPii: true,\n *   integrations: [\n *     Sentry.langChainIntegration({\n *       recordInputs: false,\n *       recordOutputs: false\n *     })\n *   ],\n * });\n * ```\n *\n * ## Supported Events\n *\n * The integration captures the following LangChain lifecycle events:\n * - LLM/Chat Model: start, end, error\n * - Chain: start, end, error\n * - Tool: start, end, error\n *\n */\nexport const langChainIntegration = defineIntegration(_langChainIntegration);\n"],"names":[],"mappings":";;;;;;;;;;;;;AAKO,MAAM,mBAAA,OAAsB,4QAAsB,EACvD,uRAA0B,GAC1B,UAAW,IAAI,iTAA8B,CAAC,OAAO,CAAC;AAGxD,MAAM,qBAAA,GAAyB,CAAC,OAAO,GAAqB,CAAA,CAAE,KAAK;IACjE,OAAO;QACL,IAAI,EAAE,uRAA0B;QAChC,SAAS,GAAG;YACV,mBAAmB,CAAC,OAAO,CAAC;QAC9B,CAAC;IACL,CAAG;AACH,CAAC,CAAA;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CA0FA,SACa,oBAAA,OAAuB,wPAAiB,EAAC,qBAAqB"}},
    {"offset": {"line": 5007, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/tracing/langgraph/instrumentation.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/tracing/langgraph/instrumentation.ts"],"sourcesContent":["import {\n  type InstrumentationConfig,\n  type InstrumentationModuleDefinition,\n  InstrumentationBase,\n  InstrumentationNodeModuleDefinition,\n  InstrumentationNodeModuleFile,\n} from '@opentelemetry/instrumentation';\nimport type { CompiledGraph, LangGraphOptions } from '@sentry/core';\nimport { getClient, instrumentStateGraphCompile, SDK_VERSION } from '@sentry/core';\n\nconst supportedVersions = ['>=0.0.0 <2.0.0'];\n\ntype LangGraphInstrumentationOptions = InstrumentationConfig & LangGraphOptions;\n\n/**\n * Represents the patched shape of the LangGraph module export.\n */\ninterface PatchedModuleExports {\n  [key: string]: unknown;\n  StateGraph?: abstract new (...args: unknown[]) => unknown;\n}\n\n/**\n * Sentry LangGraph instrumentation using OpenTelemetry.\n */\nexport class SentryLangGraphInstrumentation extends InstrumentationBase<LangGraphInstrumentationOptions> {\n  public constructor(config: LangGraphInstrumentationOptions = {}) {\n    super('@sentry/instrumentation-langgraph', SDK_VERSION, config);\n  }\n\n  /**\n   * Initializes the instrumentation by defining the modules to be patched.\n   */\n  public init(): InstrumentationModuleDefinition {\n    const module = new InstrumentationNodeModuleDefinition(\n      '@langchain/langgraph',\n      supportedVersions,\n      this._patch.bind(this),\n      exports => exports,\n      [\n        new InstrumentationNodeModuleFile(\n          /**\n           * In CJS, LangGraph packages re-export from dist/index.cjs files.\n           * Patching only the root module sometimes misses the real implementation or\n           * gets overwritten when that file is loaded. We add a file-level patch so that\n           * _patch runs again on the concrete implementation\n           */\n          '@langchain/langgraph/dist/index.cjs',\n          supportedVersions,\n          this._patch.bind(this),\n          exports => exports,\n        ),\n      ],\n    );\n    return module;\n  }\n\n  /**\n   * Core patch logic applying instrumentation to the LangGraph module.\n   */\n  private _patch(exports: PatchedModuleExports): PatchedModuleExports | void {\n    const client = getClient();\n    const defaultPii = Boolean(client?.getOptions().sendDefaultPii);\n\n    const config = this.getConfig();\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n    const recordInputs = config.recordInputs ?? defaultPii;\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n    const recordOutputs = config.recordOutputs ?? defaultPii;\n\n    const options: LangGraphOptions = {\n      recordInputs,\n      recordOutputs,\n    };\n\n    // Patch StateGraph.compile to instrument both compile() and invoke()\n    if (exports.StateGraph && typeof exports.StateGraph === 'function') {\n      const StateGraph = exports.StateGraph as {\n        prototype: Record<string, unknown>;\n      };\n\n      StateGraph.prototype.compile = instrumentStateGraphCompile(\n        StateGraph.prototype.compile as (...args: unknown[]) => CompiledGraph,\n        options,\n      );\n    }\n\n    return exports;\n  }\n}\n"],"names":[],"mappings":";;;;;;;;;;;;AAUA,MAAM,iBAAA,GAAoB;IAAC,gBAAgB;CAAC;AAY5C;;CAEA,GACO,MAAM,8BAAA,SAAuC,oSAAmB,CAAkC;IAChG,WAAW,CAAC,MAAM,GAAoC,CAAA,CAAE,CAAE;QAC/D,KAAK,CAAC,mCAAmC,EAAE,uPAAW,EAAE,MAAM,CAAC;IACjE;IAEF;;GAEA,GACS,IAAI,GAAoC;QAC7C,MAAM,MAAA,GAAS,IAAI,oTAAmC,CACpD,sBAAsB,EACtB,iBAAiB,EACjB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GACtB,OAAA,GAAW,OAAO,EAClB;YACE,IAAI,wSAA6B,CACzC;;;;;WAKA,GACU,qCAAqC,EACrC,iBAAiB,EACjB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GACtB,OAAA,GAAW,OAAO;SAErB;QAEH,OAAO,MAAM;IACf;IAEF;;GAEA,GACU,MAAM,CAAC,OAAO,EAAqD;QACzE,MAAM,MAAA,OAAS,kPAAS,EAAE;QAC1B,MAAM,UAAA,GAAa,OAAO,CAAC,MAAM,EAAE,UAAU,EAAE,CAAC,cAAc,CAAC;QAE/D,MAAM,MAAA,GAAS,IAAI,CAAC,SAAS,EAAE;QACnC,sEAAA;QACI,MAAM,YAAA,GAAe,MAAM,CAAC,YAAA,IAAgB,UAAU;QAC1D,sEAAA;QACI,MAAM,aAAA,GAAgB,MAAM,CAAC,aAAA,IAAiB,UAAU;QAExD,MAAM,OAAO,GAAqB;YAChC,YAAY;YACZ,aAAa;QACnB,CAAK;QAEL,qEAAA;QACI,IAAI,OAAO,CAAC,UAAA,IAAc,OAAO,OAAO,CAAC,UAAA,KAAe,UAAU,EAAE;YAClE,MAAM,UAAA,GAAa,OAAO,CAAC,UAAA;YAI3B,UAAU,CAAC,SAAS,CAAC,OAAA,OAAU,oRAA2B,EACxD,UAAU,CAAC,SAAS,CAAC,OAAA,EACrB,OAAO;QAEX;QAEA,OAAO,OAAO;IAChB;AACF"}},
    {"offset": {"line": 5069, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/tracing/langgraph/index.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/tracing/langgraph/index.ts"],"sourcesContent":["import type { IntegrationFn, LangGraphOptions } from '@sentry/core';\nimport { defineIntegration, LANGGRAPH_INTEGRATION_NAME } from '@sentry/core';\nimport { generateInstrumentOnce } from '@sentry/node-core';\nimport { SentryLangGraphInstrumentation } from './instrumentation';\n\nexport const instrumentLangGraph = generateInstrumentOnce<LangGraphOptions>(\n  LANGGRAPH_INTEGRATION_NAME,\n  options => new SentryLangGraphInstrumentation(options),\n);\n\nconst _langGraphIntegration = ((options: LangGraphOptions = {}) => {\n  return {\n    name: LANGGRAPH_INTEGRATION_NAME,\n    setupOnce() {\n      instrumentLangGraph(options);\n    },\n  };\n}) satisfies IntegrationFn;\n\n/**\n * Adds Sentry tracing instrumentation for LangGraph.\n *\n * This integration is enabled by default.\n *\n * When configured, this integration automatically instruments LangGraph StateGraph and compiled graph instances\n * to capture telemetry data following OpenTelemetry Semantic Conventions for Generative AI.\n *\n * @example\n * ```javascript\n * import * as Sentry from '@sentry/node';\n *\n * Sentry.init({\n *   integrations: [Sentry.langGraphIntegration()],\n * });\n * ```\n *\n * ## Options\n *\n * - `recordInputs`: Whether to record input messages (default: respects `sendDefaultPii` client option)\n * - `recordOutputs`: Whether to record response text (default: respects `sendDefaultPii` client option)\n *\n * ### Default Behavior\n *\n * By default, the integration will:\n * - Record inputs and outputs ONLY if `sendDefaultPii` is set to `true` in your Sentry client options\n * - Otherwise, inputs and outputs are NOT recorded unless explicitly enabled\n *\n * @example\n * ```javascript\n * // Record inputs and outputs when sendDefaultPii is false\n * Sentry.init({\n *   integrations: [\n *     Sentry.langGraphIntegration({\n *       recordInputs: true,\n *       recordOutputs: true\n *     })\n *   ],\n * });\n *\n * // Never record inputs/outputs regardless of sendDefaultPii\n * Sentry.init({\n *   sendDefaultPii: true,\n *   integrations: [\n *     Sentry.langGraphIntegration({\n *       recordInputs: false,\n *       recordOutputs: false\n *     })\n *   ],\n * });\n * ```\n *\n * ## Captured Operations\n *\n * The integration captures the following LangGraph operations:\n * - **Agent Creation** (`StateGraph.compile()`) - Creates a `gen_ai.create_agent` span\n * - **Agent Invocation** (`CompiledGraph.invoke()`) - Creates a `gen_ai.invoke_agent` span\n *\n * ## Captured Data\n *\n * When `recordInputs` and `recordOutputs` are enabled, the integration captures:\n * - Input messages from the graph state\n * - Output messages and LLM responses\n * - Tool calls made during agent execution\n * - Agent and graph names\n * - Available tools configured in the graph\n *\n */\nexport const langGraphIntegration = defineIntegration(_langGraphIntegration);\n"],"names":[],"mappings":";;;;;;;;;;;;;AAKO,MAAM,mBAAA,OAAsB,4QAAsB,EACvD,uRAA0B,GAC1B,UAAW,IAAI,iTAA8B,CAAC,OAAO,CAAC;AAGxD,MAAM,qBAAA,GAAyB,CAAC,OAAO,GAAqB,CAAA,CAAE,KAAK;IACjE,OAAO;QACL,IAAI,EAAE,uRAA0B;QAChC,SAAS,GAAG;YACV,mBAAmB,CAAC,OAAO,CAAC;QAC9B,CAAC;IACL,CAAG;AACH,CAAC,CAAA;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAmEA,SACa,oBAAA,OAAuB,wPAAiB,EAAC,qBAAqB"}},
    {"offset": {"line": 5165, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/featureFlagShims/launchDarkly.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/featureFlagShims/launchDarkly.ts"],"sourcesContent":["import { consoleSandbox, defineIntegration, isBrowser } from '@sentry/core';\n\n/**\n * This is a shim for the LaunchDarkly integration.\n * We need this in order to not throw runtime errors when accidentally importing this on the server through a meta framework like Next.js.\n */\nexport const launchDarklyIntegrationShim = defineIntegration((_options?: unknown) => {\n  if (!isBrowser()) {\n    consoleSandbox(() => {\n      // eslint-disable-next-line no-console\n      console.warn('The launchDarklyIntegration() can only be used in the browser.');\n    });\n  }\n\n  return {\n    name: 'LaunchDarkly',\n  };\n});\n\n/**\n * This is a shim for the LaunchDarkly flag used handler.\n */\nexport function buildLaunchDarklyFlagUsedHandlerShim(): unknown {\n  if (!isBrowser()) {\n    consoleSandbox(() => {\n      // eslint-disable-next-line no-console\n      console.warn('The buildLaunchDarklyFlagUsedHandler() can only be used in the browser.');\n    });\n  }\n\n  return {\n    name: 'sentry-flag-auditor',\n    type: 'flag-used',\n    synchronous: true,\n    method: () => null,\n  };\n}\n"],"names":[],"mappings":";;;;;;;;;;AAEA;;;CAGA,GACO,MAAM,kCAA8B,wPAAiB,EAAC,CAAC,QAAQ,KAAe;IACnF,IAAI,KAAC,uPAAS,EAAE,GAAE;YAChB,kQAAc,EAAC,MAAM;YACzB,sCAAA;YACM,OAAO,CAAC,IAAI,CAAC,gEAAgE,CAAC;QAChF,CAAC,CAAC;IACJ;IAEA,OAAO;QACL,IAAI,EAAE,cAAc;IACxB,CAAG;AACH,CAAC;AAED;;CAEA,GACO,SAAS,oCAAoC,GAAY;IAC9D,IAAI,KAAC,uPAAS,EAAE,GAAE;YAChB,kQAAc,EAAC,MAAM;YACzB,sCAAA;YACM,OAAO,CAAC,IAAI,CAAC,yEAAyE,CAAC;QACzF,CAAC,CAAC;IACJ;IAEA,OAAO;QACL,IAAI,EAAE,qBAAqB;QAC3B,IAAI,EAAE,WAAW;QACjB,WAAW,EAAE,IAAI;QACjB,MAAM,EAAE,IAAM,IAAI;IACtB,CAAG;AACH"}},
    {"offset": {"line": 5211, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/featureFlagShims/openFeature.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/featureFlagShims/openFeature.ts"],"sourcesContent":["import { consoleSandbox, defineIntegration, isBrowser } from '@sentry/core';\n\n/**\n * This is a shim for the OpenFeature integration.\n * We need this in order to not throw runtime errors when accidentally importing this on the server through a meta framework like Next.js.\n */\nexport const openFeatureIntegrationShim = defineIntegration((_options?: unknown) => {\n  if (!isBrowser()) {\n    consoleSandbox(() => {\n      // eslint-disable-next-line no-console\n      console.warn('The openFeatureIntegration() can only be used in the browser.');\n    });\n  }\n\n  return {\n    name: 'OpenFeature',\n  };\n});\n\n/**\n * This is a shim for the OpenFeature integration hook.\n */\nexport class OpenFeatureIntegrationHookShim {\n  /**\n   *\n   */\n  public constructor() {\n    if (!isBrowser()) {\n      consoleSandbox(() => {\n        // eslint-disable-next-line no-console\n        console.warn('The OpenFeatureIntegrationHook can only be used in the browser.');\n      });\n    }\n  }\n\n  /**\n   *\n   */\n  public after(): void {\n    // No-op\n  }\n\n  /**\n   *\n   */\n  public error(): void {\n    // No-op\n  }\n}\n"],"names":[],"mappings":";;;;;;;;;;AAEA;;;CAGA,GACO,MAAM,iCAA6B,wPAAiB,EAAC,CAAC,QAAQ,KAAe;IAClF,IAAI,KAAC,uPAAS,EAAE,GAAE;YAChB,kQAAc,EAAC,MAAM;YACzB,sCAAA;YACM,OAAO,CAAC,IAAI,CAAC,+DAA+D,CAAC;QAC/E,CAAC,CAAC;IACJ;IAEA,OAAO;QACL,IAAI,EAAE,aAAa;IACvB,CAAG;AACH,CAAC;AAED;;CAEA,GACO,MAAM,8BAAA,CAA+B;IAC5C;;GAEA,GACS,WAAW,EAAG;QACnB,IAAI,KAAC,uPAAS,EAAE,GAAE;gBAChB,kQAAc,EAAC,MAAM;gBAC3B,sCAAA;gBACQ,OAAO,CAAC,IAAI,CAAC,iEAAiE,CAAC;YACjF,CAAC,CAAC;QACJ;IACF;IAEF;;GAEA,GACS,KAAK,GAAS;IACvB,QAAA;IACE;IAEF;;GAEA,GACS,KAAK,GAAS;IACvB,QAAA;IACE;AACF"}},
    {"offset": {"line": 5265, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/featureFlagShims/statsig.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/featureFlagShims/statsig.ts"],"sourcesContent":["import { consoleSandbox, defineIntegration, isBrowser } from '@sentry/core';\n\n/**\n * This is a shim for the Statsig integration.\n * We need this in order to not throw runtime errors when accidentally importing this on the server through a meta framework like Next.js.\n */\nexport const statsigIntegrationShim = defineIntegration((_options?: unknown) => {\n  if (!isBrowser()) {\n    consoleSandbox(() => {\n      // eslint-disable-next-line no-console\n      console.warn('The statsigIntegration() can only be used in the browser.');\n    });\n  }\n\n  return {\n    name: 'Statsig',\n  };\n});\n"],"names":[],"mappings":";;;;;;;;AAEA;;;CAGA,GACO,MAAM,6BAAyB,wPAAiB,EAAC,CAAC,QAAQ,KAAe;IAC9E,IAAI,KAAC,uPAAS,EAAE,GAAE;YAChB,kQAAc,EAAC,MAAM;YACzB,sCAAA;YACM,OAAO,CAAC,IAAI,CAAC,2DAA2D,CAAC;QAC3E,CAAC,CAAC;IACJ;IAEA,OAAO;QACL,IAAI,EAAE,SAAS;IACnB,CAAG;AACH,CAAC"}},
    {"offset": {"line": 5293, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/featureFlagShims/unleash.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/featureFlagShims/unleash.ts"],"sourcesContent":["import { consoleSandbox, defineIntegration, isBrowser } from '@sentry/core';\n\n/**\n * This is a shim for the Unleash integration.\n * We need this in order to not throw runtime errors when accidentally importing this on the server through a meta framework like Next.js.\n */\nexport const unleashIntegrationShim = defineIntegration((_options?: unknown) => {\n  if (!isBrowser()) {\n    consoleSandbox(() => {\n      // eslint-disable-next-line no-console\n      console.warn('The unleashIntegration() can only be used in the browser.');\n    });\n  }\n\n  return {\n    name: 'Unleash',\n  };\n});\n"],"names":[],"mappings":";;;;;;;;AAEA;;;CAGA,GACO,MAAM,6BAAyB,wPAAiB,EAAC,CAAC,QAAQ,KAAe;IAC9E,IAAI,KAAC,uPAAS,EAAE,GAAE;YAChB,kQAAc,EAAC,MAAM;YACzB,sCAAA;YACM,OAAO,CAAC,IAAI,CAAC,2DAA2D,CAAC;QAC3E,CAAC,CAAC;IACJ;IAEA,OAAO;QACL,IAAI,EAAE,SAAS;IACnB,CAAG;AACH,CAAC"}},
    {"offset": {"line": 5321, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/featureFlagShims/growthbook.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/featureFlagShims/growthbook.ts"],"sourcesContent":["import { growthbookIntegration as coreGrowthbookIntegration } from '@sentry/core';\n\n/**\n * Re-export the core GrowthBook integration for Node.js usage.\n * The core integration is runtime-agnostic and works in both browser and Node environments.\n */\nexport const growthbookIntegrationShim = coreGrowthbookIntegration;\n"],"names":["coreGrowthbookIntegration"],"mappings":";;;;;;AAEA;;;CAGA,GACO,MAAM,yBAAA,GAA4BA,2RAAAA"}},
    {"offset": {"line": 5337, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/tracing/firebase/otel/patches/firestore.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/tracing/firebase/otel/patches/firestore.ts"],"sourcesContent":["import * as net from 'node:net';\nimport type { Span, Tracer } from '@opentelemetry/api';\nimport { context, diag, SpanKind, trace } from '@opentelemetry/api';\nimport {\n  InstrumentationNodeModuleDefinition,\n  InstrumentationNodeModuleFile,\n  isWrapped,\n  safeExecuteInTheMiddle,\n} from '@opentelemetry/instrumentation';\nimport {\n  ATTR_DB_COLLECTION_NAME,\n  ATTR_DB_NAMESPACE,\n  ATTR_DB_OPERATION_NAME,\n  ATTR_DB_SYSTEM_NAME,\n  ATTR_SERVER_ADDRESS,\n  ATTR_SERVER_PORT,\n} from '@opentelemetry/semantic-conventions';\nimport type { SpanAttributes } from '@sentry/core';\nimport type { FirebaseInstrumentation } from '../firebaseInstrumentation';\nimport type {\n  AddDocType,\n  CollectionReference,\n  DeleteDocType,\n  DocumentData,\n  DocumentReference,\n  FirebaseApp,\n  FirebaseInstrumentationConfig,\n  FirebaseOptions,\n  FirestoreSettings,\n  FirestoreSpanCreationHook,\n  GetDocsType,\n  PartialWithFieldValue,\n  QuerySnapshot,\n  SetDocType,\n  SetOptions,\n  WithFieldValue,\n} from '../types';\n\n// Inline minimal types used from `shimmer` to avoid importing shimmer's types directly.\n// We only need the shape for `wrap` and `unwrap` used in this file.\ntype ShimmerWrap = (target: any, name: string, wrapper: (...args: any[]) => any) => void;\ntype ShimmerUnwrap = (target: any, name: string) => void;\n\n/**\n *\n * @param tracer - Opentelemetry Tracer\n * @param firestoreSupportedVersions - supported version of firebase/firestore\n * @param wrap - reference to native instrumentation wrap function\n * @param unwrap - reference to native instrumentation wrap function\n */\nexport function patchFirestore(\n  tracer: Tracer,\n  firestoreSupportedVersions: string[],\n  wrap: ShimmerWrap,\n  unwrap: ShimmerUnwrap,\n  config: FirebaseInstrumentationConfig,\n): InstrumentationNodeModuleDefinition {\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  const defaultFirestoreSpanCreationHook: FirestoreSpanCreationHook = () => {};\n\n  let firestoreSpanCreationHook: FirestoreSpanCreationHook = defaultFirestoreSpanCreationHook;\n  const configFirestoreSpanCreationHook = config.firestoreSpanCreationHook;\n\n  if (typeof configFirestoreSpanCreationHook === 'function') {\n    firestoreSpanCreationHook = (span: Span) => {\n      safeExecuteInTheMiddle(\n        () => configFirestoreSpanCreationHook(span),\n        error => {\n          if (!error) {\n            return;\n          }\n          diag.error(error?.message);\n        },\n        true,\n      );\n    };\n  }\n\n  const moduleFirestoreCJS = new InstrumentationNodeModuleDefinition(\n    '@firebase/firestore',\n    firestoreSupportedVersions,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (moduleExports: any) => wrapMethods(moduleExports, wrap, unwrap, tracer, firestoreSpanCreationHook),\n  );\n  const files: string[] = [\n    '@firebase/firestore/dist/lite/index.node.cjs.js',\n    '@firebase/firestore/dist/lite/index.node.mjs.js',\n    '@firebase/firestore/dist/lite/index.rn.esm2017.js',\n    '@firebase/firestore/dist/lite/index.cjs.js',\n  ];\n\n  for (const file of files) {\n    moduleFirestoreCJS.files.push(\n      new InstrumentationNodeModuleFile(\n        file,\n        firestoreSupportedVersions,\n        moduleExports => wrapMethods(moduleExports, wrap, unwrap, tracer, firestoreSpanCreationHook),\n        moduleExports => unwrapMethods(moduleExports, unwrap),\n      ),\n    );\n  }\n\n  return moduleFirestoreCJS;\n}\n\nfunction wrapMethods(\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  moduleExports: any,\n  wrap: ShimmerWrap,\n  unwrap: ShimmerUnwrap,\n  tracer: Tracer,\n  firestoreSpanCreationHook: FirestoreSpanCreationHook,\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n): any {\n  unwrapMethods(moduleExports, unwrap);\n\n  wrap(moduleExports, 'addDoc', patchAddDoc(tracer, firestoreSpanCreationHook));\n  wrap(moduleExports, 'getDocs', patchGetDocs(tracer, firestoreSpanCreationHook));\n  wrap(moduleExports, 'setDoc', patchSetDoc(tracer, firestoreSpanCreationHook));\n  wrap(moduleExports, 'deleteDoc', patchDeleteDoc(tracer, firestoreSpanCreationHook));\n\n  return moduleExports;\n}\n\nfunction unwrapMethods(\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  moduleExports: any,\n  unwrap: ShimmerUnwrap,\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n): any {\n  for (const method of ['addDoc', 'getDocs', 'setDoc', 'deleteDoc']) {\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n    if (isWrapped(moduleExports[method])) {\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n      unwrap(moduleExports, method);\n    }\n  }\n  return moduleExports;\n}\n\nfunction patchAddDoc<AppModelType, DbModelType extends DocumentData>(\n  tracer: Tracer,\n  firestoreSpanCreationHook: FirestoreSpanCreationHook,\n): (\n  original: AddDocType<AppModelType, DbModelType>,\n) => (\n  this: FirebaseInstrumentation,\n  reference: CollectionReference<AppModelType, DbModelType>,\n  data: WithFieldValue<AppModelType>,\n) => Promise<DocumentReference<AppModelType, DbModelType>> {\n  return function addDoc(original: AddDocType<AppModelType, DbModelType>) {\n    return function (\n      reference: CollectionReference<AppModelType, DbModelType>,\n      data: WithFieldValue<AppModelType>,\n    ): Promise<DocumentReference<AppModelType, DbModelType>> {\n      const span = startDBSpan(tracer, 'addDoc', reference);\n      firestoreSpanCreationHook(span);\n      return executeContextWithSpan<Promise<DocumentReference<AppModelType, DbModelType>>>(span, () => {\n        return original(reference, data);\n      });\n    };\n  };\n}\n\nfunction patchDeleteDoc<AppModelType, DbModelType extends DocumentData>(\n  tracer: Tracer,\n  firestoreSpanCreationHook: FirestoreSpanCreationHook,\n): (\n  original: DeleteDocType<AppModelType, DbModelType>,\n) => (this: FirebaseInstrumentation, reference: DocumentReference<AppModelType, DbModelType>) => Promise<void> {\n  return function deleteDoc(original: DeleteDocType<AppModelType, DbModelType>) {\n    return function (reference: DocumentReference<AppModelType, DbModelType>): Promise<void> {\n      const span = startDBSpan(tracer, 'deleteDoc', reference.parent || reference);\n      firestoreSpanCreationHook(span);\n      return executeContextWithSpan<Promise<void>>(span, () => {\n        return original(reference);\n      });\n    };\n  };\n}\n\nfunction patchGetDocs<AppModelType, DbModelType extends DocumentData>(\n  tracer: Tracer,\n  firestoreSpanCreationHook: FirestoreSpanCreationHook,\n): (\n  original: GetDocsType<AppModelType, DbModelType>,\n) => (\n  this: FirebaseInstrumentation,\n  reference: CollectionReference<AppModelType, DbModelType>,\n) => Promise<QuerySnapshot<AppModelType, DbModelType>> {\n  return function getDocs(original: GetDocsType<AppModelType, DbModelType>) {\n    return function (\n      reference: CollectionReference<AppModelType, DbModelType>,\n    ): Promise<QuerySnapshot<AppModelType, DbModelType>> {\n      const span = startDBSpan(tracer, 'getDocs', reference);\n      firestoreSpanCreationHook(span);\n      return executeContextWithSpan<Promise<QuerySnapshot<AppModelType, DbModelType>>>(span, () => {\n        return original(reference);\n      });\n    };\n  };\n}\n\nfunction patchSetDoc<AppModelType, DbModelType extends DocumentData>(\n  tracer: Tracer,\n  firestoreSpanCreationHook: FirestoreSpanCreationHook,\n): (\n  original: SetDocType<AppModelType, DbModelType>,\n) => (\n  this: FirebaseInstrumentation,\n  reference: DocumentReference<AppModelType, DbModelType>,\n  data: WithFieldValue<AppModelType> & PartialWithFieldValue<AppModelType>,\n  options?: SetOptions,\n) => Promise<void> {\n  return function setDoc(original: SetDocType<AppModelType, DbModelType>) {\n    return function (\n      reference: DocumentReference<AppModelType, DbModelType>,\n      data: WithFieldValue<AppModelType> & PartialWithFieldValue<AppModelType>,\n      options?: SetOptions,\n    ): Promise<void> {\n      const span = startDBSpan(tracer, 'setDoc', reference.parent || reference);\n      firestoreSpanCreationHook(span);\n\n      return executeContextWithSpan<Promise<void>>(span, () => {\n        return typeof options !== 'undefined' ? original(reference, data, options) : original(reference, data);\n      });\n    };\n  };\n}\n\nfunction executeContextWithSpan<T>(span: Span, callback: () => T): T {\n  return context.with(trace.setSpan(context.active(), span), () => {\n    return safeExecuteInTheMiddle(\n      (): T => {\n        return callback();\n      },\n      err => {\n        if (err) {\n          span.recordException(err);\n        }\n        span.end();\n      },\n      true,\n    );\n  });\n}\n\nfunction startDBSpan<AppModelType, DbModelType extends DocumentData>(\n  tracer: Tracer,\n  spanName: string,\n  reference: CollectionReference<AppModelType, DbModelType> | DocumentReference<AppModelType, DbModelType>,\n): Span {\n  const span = tracer.startSpan(`${spanName} ${reference.path}`, { kind: SpanKind.CLIENT });\n  addAttributes(span, reference);\n  span.setAttribute(ATTR_DB_OPERATION_NAME, spanName);\n  return span;\n}\n\n/**\n * Gets the server address and port attributes from the Firestore settings.\n * It's best effort to extract the address and port from the settings, especially for IPv6.\n * @param span - The span to set attributes on.\n * @param settings - The Firestore settings containing host information.\n */\nexport function getPortAndAddress(settings: FirestoreSettings): {\n  address?: string;\n  port?: number;\n} {\n  let address: string | undefined;\n  let port: string | undefined;\n\n  if (typeof settings.host === 'string') {\n    if (settings.host.startsWith('[')) {\n      // IPv6 addresses can be enclosed in square brackets, e.g., [2001:db8::1]:8080\n      if (settings.host.endsWith(']')) {\n        // IPv6 with square brackets without port\n        address = settings.host.replace(/^\\[|\\]$/g, '');\n      } else if (settings.host.includes(']:')) {\n        // IPv6 with square brackets with port\n        const lastColonIndex = settings.host.lastIndexOf(':');\n        if (lastColonIndex !== -1) {\n          address = settings.host.slice(1, lastColonIndex).replace(/^\\[|\\]$/g, '');\n          port = settings.host.slice(lastColonIndex + 1);\n        }\n      }\n    } else {\n      // IPv4 or IPv6 without square brackets\n      // If it's an IPv6 address without square brackets, we assume it does not have a port.\n      if (net.isIPv6(settings.host)) {\n        address = settings.host;\n      }\n      // If it's an IPv4 address, we can extract the port if it exists.\n      else {\n        const lastColonIndex = settings.host.lastIndexOf(':');\n        if (lastColonIndex !== -1) {\n          address = settings.host.slice(0, lastColonIndex);\n          port = settings.host.slice(lastColonIndex + 1);\n        } else {\n          address = settings.host;\n        }\n      }\n    }\n  }\n  return {\n    address: address,\n    port: port ? parseInt(port, 10) : undefined,\n  };\n}\n\nfunction addAttributes<AppModelType, DbModelType extends DocumentData>(\n  span: Span,\n  reference: CollectionReference<AppModelType, DbModelType> | DocumentReference<AppModelType, DbModelType>,\n): void {\n  const firestoreApp: FirebaseApp = reference.firestore.app;\n  const firestoreOptions: FirebaseOptions = firestoreApp.options;\n  const json: { settings?: FirestoreSettings } = reference.firestore.toJSON() || {};\n  const settings: FirestoreSettings = json.settings || {};\n\n  const attributes: SpanAttributes = {\n    [ATTR_DB_COLLECTION_NAME]: reference.path,\n    [ATTR_DB_NAMESPACE]: firestoreApp.name,\n    [ATTR_DB_SYSTEM_NAME]: 'firebase.firestore',\n    'firebase.firestore.type': reference.type,\n    'firebase.firestore.options.projectId': firestoreOptions.projectId,\n    'firebase.firestore.options.appId': firestoreOptions.appId,\n    'firebase.firestore.options.messagingSenderId': firestoreOptions.messagingSenderId,\n    'firebase.firestore.options.storageBucket': firestoreOptions.storageBucket,\n  };\n\n  const { address, port } = getPortAndAddress(settings);\n\n  if (address) {\n    attributes[ATTR_SERVER_ADDRESS] = address;\n  }\n  if (port) {\n    attributes[ATTR_SERVER_PORT] = port;\n  }\n\n  span.setAttributes(attributes);\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5554, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/tracing/firebase/otel/patches/functions.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/tracing/firebase/otel/patches/functions.ts"],"sourcesContent":["import type { Span, Tracer } from '@opentelemetry/api';\nimport { context, diag, SpanKind, trace } from '@opentelemetry/api';\nimport type { InstrumentationBase } from '@opentelemetry/instrumentation';\nimport {\n  InstrumentationNodeModuleDefinition,\n  InstrumentationNodeModuleFile,\n  isWrapped,\n  safeExecuteInTheMiddle,\n} from '@opentelemetry/instrumentation';\nimport type { SpanAttributes } from '@sentry/core';\nimport type { FirebaseInstrumentation } from '../firebaseInstrumentation';\nimport type {\n  AvailableFirebaseFunctions,\n  FirebaseFunctions,\n  FirebaseInstrumentationConfig,\n  OverloadedParameters,\n  RequestHook,\n  ResponseHook,\n} from '../types';\n\n/**\n * Patches Firebase Functions v2 to add OpenTelemetry instrumentation\n * @param tracer - Opentelemetry Tracer\n * @param functionsSupportedVersions - supported versions of firebase-functions\n * @param wrap - reference to native instrumentation wrap function\n * @param unwrap - reference to native instrumentation unwrap function\n * @param config - Firebase instrumentation config\n */\nexport function patchFunctions(\n  tracer: Tracer,\n  functionsSupportedVersions: string[],\n  wrap: InstrumentationBase['_wrap'],\n  unwrap: InstrumentationBase['_unwrap'],\n  config: FirebaseInstrumentationConfig,\n): InstrumentationNodeModuleDefinition {\n  let requestHook: RequestHook = () => {};\n  let responseHook: ResponseHook = () => {};\n  const errorHook = config.functions?.errorHook;\n  const configRequestHook = config.functions?.requestHook;\n  const configResponseHook = config.functions?.responseHook;\n\n  if (typeof configResponseHook === 'function') {\n    responseHook = (span: Span, err: unknown) => {\n      safeExecuteInTheMiddle(\n        () => configResponseHook(span, err),\n        error => {\n          if (!error) {\n            return;\n          }\n          diag.error(error?.message);\n        },\n        true,\n      );\n    };\n  }\n  if (typeof configRequestHook === 'function') {\n    requestHook = (span: Span) => {\n      safeExecuteInTheMiddle(\n        () => configRequestHook(span),\n        error => {\n          if (!error) {\n            return;\n          }\n          diag.error(error?.message);\n        },\n        true,\n      );\n    };\n  }\n\n  const moduleFunctionsCJS = new InstrumentationNodeModuleDefinition('firebase-functions', functionsSupportedVersions);\n  const modulesToInstrument = [\n    { name: 'firebase-functions/lib/v2/providers/https.js', triggerType: 'function' },\n    { name: 'firebase-functions/lib/v2/providers/firestore.js', triggerType: 'firestore' },\n    { name: 'firebase-functions/lib/v2/providers/scheduler.js', triggerType: 'scheduler' },\n    { name: 'firebase-functions/lib/v2/storage.js', triggerType: 'storage' },\n  ] as const;\n\n  modulesToInstrument.forEach(({ name, triggerType }) => {\n    moduleFunctionsCJS.files.push(\n      new InstrumentationNodeModuleFile(\n        name,\n        functionsSupportedVersions,\n        moduleExports =>\n          wrapCommonFunctions(\n            moduleExports,\n            wrap,\n            unwrap,\n            tracer,\n            { requestHook, responseHook, errorHook },\n            triggerType,\n          ),\n        moduleExports => unwrapCommonFunctions(moduleExports, unwrap),\n      ),\n    );\n  });\n\n  return moduleFunctionsCJS;\n}\n\n/**\n * Patches Cloud Functions for Firebase (v2) to add OpenTelemetry instrumentation\n *\n * @param tracer - Opentelemetry Tracer\n * @param functionsConfig - Firebase instrumentation config\n * @param triggerType - Type of trigger\n * @returns A function that patches the function\n */\nexport function patchV2Functions<T extends FirebaseFunctions = FirebaseFunctions>(\n  tracer: Tracer,\n  functionsConfig: FirebaseInstrumentationConfig['functions'],\n  triggerType: string,\n): (original: T) => (...args: OverloadedParameters<T>) => ReturnType<T> {\n  return function v2FunctionsWrapper(original: T): (...args: OverloadedParameters<T>) => ReturnType<T> {\n    return function (this: FirebaseInstrumentation, ...args: OverloadedParameters<T>): ReturnType<T> {\n      const handler = typeof args[0] === 'function' ? args[0] : args[1];\n      const documentOrOptions = typeof args[0] === 'function' ? undefined : args[0];\n\n      if (!handler) {\n        return original.call(this, ...args);\n      }\n\n      const wrappedHandler = async function (this: unknown, ...handlerArgs: unknown[]): Promise<unknown> {\n        const functionName = process.env.FUNCTION_TARGET || process.env.K_SERVICE || 'unknown';\n        const span = tracer.startSpan(`firebase.function.${triggerType}`, {\n          kind: SpanKind.SERVER,\n        });\n\n        const attributes: SpanAttributes = {\n          'faas.name': functionName,\n          'faas.trigger': triggerType,\n          'faas.provider': 'firebase',\n        };\n\n        if (process.env.GCLOUD_PROJECT) {\n          attributes['cloud.project_id'] = process.env.GCLOUD_PROJECT;\n        }\n\n        if (process.env.EVENTARC_CLOUD_EVENT_SOURCE) {\n          attributes['cloud.event_source'] = process.env.EVENTARC_CLOUD_EVENT_SOURCE;\n        }\n\n        span.setAttributes(attributes);\n        functionsConfig?.requestHook?.(span);\n\n        // Can be changed to safeExecuteInTheMiddleAsync once following is merged and released\n        // https://github.com/open-telemetry/opentelemetry-js/pull/6032\n        return context.with(trace.setSpan(context.active(), span), async () => {\n          let error: Error | undefined;\n          let result: T | undefined;\n\n          try {\n            result = await handler.apply(this, handlerArgs);\n          } catch (e) {\n            error = e as Error;\n          }\n\n          functionsConfig?.responseHook?.(span, error);\n\n          if (error) {\n            span.recordException(error);\n          }\n\n          span.end();\n\n          if (error) {\n            await functionsConfig?.errorHook?.(span, error);\n            throw error;\n          }\n\n          return result;\n        });\n      };\n\n      if (documentOrOptions) {\n        return original.call(this, documentOrOptions, wrappedHandler);\n      } else {\n        return original.call(this, wrappedHandler);\n      }\n    };\n  };\n}\n\nfunction wrapCommonFunctions(\n  moduleExports: AvailableFirebaseFunctions,\n  wrap: InstrumentationBase<FirebaseInstrumentationConfig>['_wrap'],\n  unwrap: InstrumentationBase<FirebaseInstrumentationConfig>['_unwrap'],\n  tracer: Tracer,\n  functionsConfig: FirebaseInstrumentationConfig['functions'],\n  triggerType: 'function' | 'firestore' | 'scheduler' | 'storage',\n): AvailableFirebaseFunctions {\n  unwrapCommonFunctions(moduleExports, unwrap);\n\n  switch (triggerType) {\n    case 'function':\n      wrap(moduleExports, 'onRequest', patchV2Functions(tracer, functionsConfig, 'http.request'));\n      wrap(moduleExports, 'onCall', patchV2Functions(tracer, functionsConfig, 'http.call'));\n      break;\n\n    case 'firestore':\n      wrap(moduleExports, 'onDocumentCreated', patchV2Functions(tracer, functionsConfig, 'firestore.document.created'));\n      wrap(moduleExports, 'onDocumentUpdated', patchV2Functions(tracer, functionsConfig, 'firestore.document.updated'));\n      wrap(moduleExports, 'onDocumentDeleted', patchV2Functions(tracer, functionsConfig, 'firestore.document.deleted'));\n      wrap(moduleExports, 'onDocumentWritten', patchV2Functions(tracer, functionsConfig, 'firestore.document.written'));\n      wrap(\n        moduleExports,\n        'onDocumentCreatedWithAuthContext',\n        patchV2Functions(tracer, functionsConfig, 'firestore.document.created'),\n      );\n      wrap(\n        moduleExports,\n        'onDocumentUpdatedWithAuthContext',\n        patchV2Functions(tracer, functionsConfig, 'firestore.document.updated'),\n      );\n\n      wrap(\n        moduleExports,\n        'onDocumentDeletedWithAuthContext',\n        patchV2Functions(tracer, functionsConfig, 'firestore.document.deleted'),\n      );\n\n      wrap(\n        moduleExports,\n        'onDocumentWrittenWithAuthContext',\n        patchV2Functions(tracer, functionsConfig, 'firestore.document.written'),\n      );\n      break;\n\n    case 'scheduler':\n      wrap(moduleExports, 'onSchedule', patchV2Functions(tracer, functionsConfig, 'scheduler.scheduled'));\n      break;\n\n    case 'storage':\n      wrap(moduleExports, 'onObjectFinalized', patchV2Functions(tracer, functionsConfig, 'storage.object.finalized'));\n      wrap(moduleExports, 'onObjectArchived', patchV2Functions(tracer, functionsConfig, 'storage.object.archived'));\n      wrap(moduleExports, 'onObjectDeleted', patchV2Functions(tracer, functionsConfig, 'storage.object.deleted'));\n      wrap(\n        moduleExports,\n        'onObjectMetadataUpdated',\n        patchV2Functions(tracer, functionsConfig, 'storage.object.metadataUpdated'),\n      );\n      break;\n  }\n\n  return moduleExports;\n}\n\nfunction unwrapCommonFunctions(\n  moduleExports: AvailableFirebaseFunctions,\n  unwrap: InstrumentationBase<FirebaseInstrumentationConfig>['_unwrap'],\n): AvailableFirebaseFunctions {\n  const methods: (keyof AvailableFirebaseFunctions)[] = [\n    'onSchedule',\n    'onRequest',\n    'onCall',\n    'onObjectFinalized',\n    'onObjectArchived',\n    'onObjectDeleted',\n    'onObjectMetadataUpdated',\n    'onDocumentCreated',\n    'onDocumentUpdated',\n    'onDocumentDeleted',\n    'onDocumentWritten',\n    'onDocumentCreatedWithAuthContext',\n    'onDocumentUpdatedWithAuthContext',\n    'onDocumentDeletedWithAuthContext',\n    'onDocumentWrittenWithAuthContext',\n  ];\n\n  for (const method of methods) {\n    if (isWrapped(moduleExports[method])) {\n      unwrap(moduleExports, method);\n    }\n  }\n  return moduleExports;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5753, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/tracing/firebase/otel/firebaseInstrumentation.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/tracing/firebase/otel/firebaseInstrumentation.ts"],"sourcesContent":["import { type InstrumentationNodeModuleDefinition, InstrumentationBase } from '@opentelemetry/instrumentation';\nimport { SDK_VERSION } from '@sentry/core';\nimport { patchFirestore } from './patches/firestore';\nimport { patchFunctions } from './patches/functions';\nimport type { FirebaseInstrumentationConfig } from './types';\n\nconst DefaultFirebaseInstrumentationConfig: FirebaseInstrumentationConfig = {};\nconst firestoreSupportedVersions = ['>=3.0.0 <5']; // firebase 9+\nconst functionsSupportedVersions = ['>=6.0.0 <7']; // firebase-functions v2\n\n/**\n * Instrumentation for Firebase services, specifically Firestore.\n */\nexport class FirebaseInstrumentation extends InstrumentationBase<FirebaseInstrumentationConfig> {\n  public constructor(config: FirebaseInstrumentationConfig = DefaultFirebaseInstrumentationConfig) {\n    super('@sentry/instrumentation-firebase', SDK_VERSION, config);\n  }\n\n  /**\n   * sets config\n   * @param config\n   */\n  public override setConfig(config: FirebaseInstrumentationConfig = {}): void {\n    super.setConfig({ ...DefaultFirebaseInstrumentationConfig, ...config });\n  }\n\n  /**\n   *\n   * @protected\n   */\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  protected init(): InstrumentationNodeModuleDefinition | InstrumentationNodeModuleDefinition[] | void {\n    const modules: InstrumentationNodeModuleDefinition[] = [];\n\n    modules.push(patchFirestore(this.tracer, firestoreSupportedVersions, this._wrap, this._unwrap, this.getConfig()));\n    modules.push(patchFunctions(this.tracer, functionsSupportedVersions, this._wrap, this._unwrap, this.getConfig()));\n\n    return modules;\n  }\n}\n"],"names":[],"mappings":";;;;;;;;;;;;AAMA,MAAM,oCAAoC,GAAkC,CAAA,CAAE;AAC9E,MAAM,0BAAA,GAA6B;IAAC,YAAY;CAAC,CAAA,CAAA,cAAA;AACjD,MAAM,0BAAA,GAA6B;IAAC,YAAY;CAAC,CAAA,CAAA,wBAAA;AAEjD;;CAEA,GACO,MAAM,uBAAA,SAAgC,oSAAmB,CAAgC;IACvF,WAAW,CAAC,MAAM,GAAkC,oCAAoC,CAAE;QAC/F,KAAK,CAAC,kCAAkC,EAAE,uPAAW,EAAE,MAAM,CAAC;IAChE;IAEF;;;GAGA,GACkB,SAAS,CAAC,MAAM,GAAkC,CAAA,CAAE,EAAQ;QAC1E,KAAK,CAAC,SAAS,CAAC;YAAE,GAAG,oCAAoC;YAAE,GAAG,MAAA;QAAA,CAAQ,CAAC;IACzE;IAEF;;;GAGA,GACA,gEAAA;IACY,IAAI,GAAuF;QACnG,MAAM,OAAO,GAA0C,EAAE;QAEzD,OAAO,CAAC,IAAI,KAAC,6SAAc,EAAC,IAAI,CAAC,MAAM,EAAE,0BAA0B,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;QACjH,OAAO,CAAC,IAAI,KAAC,6SAAc,EAAC,IAAI,CAAC,MAAM,EAAE,0BAA0B,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;QAEjH,OAAO,OAAO;IAChB;AACF"}},
    {"offset": {"line": 5804, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/tracing/firebase/firebase.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/tracing/firebase/firebase.ts"],"sourcesContent":["import type { IntegrationFn } from '@sentry/core';\nimport { captureException, defineIntegration, flush, SEMANTIC_ATTRIBUTE_SENTRY_OP } from '@sentry/core';\nimport { addOriginToSpan, generateInstrumentOnce } from '@sentry/node-core';\nimport { type FirebaseInstrumentationConfig, FirebaseInstrumentation } from './otel';\n\nconst INTEGRATION_NAME = 'Firebase';\n\nconst config: FirebaseInstrumentationConfig = {\n  firestoreSpanCreationHook: span => {\n    addOriginToSpan(span, 'auto.firebase.otel.firestore');\n\n    span.setAttribute(SEMANTIC_ATTRIBUTE_SENTRY_OP, 'db.query');\n  },\n  functions: {\n    requestHook: span => {\n      addOriginToSpan(span, 'auto.firebase.otel.functions');\n\n      span.setAttribute(SEMANTIC_ATTRIBUTE_SENTRY_OP, 'http.request');\n    },\n    errorHook: async (_, error) => {\n      if (error) {\n        captureException(error, {\n          mechanism: {\n            type: 'auto.firebase.otel.functions',\n            handled: false,\n          },\n        });\n        await flush(2000);\n      }\n    },\n  },\n};\n\nexport const instrumentFirebase = generateInstrumentOnce(INTEGRATION_NAME, () => new FirebaseInstrumentation(config));\n\nconst _firebaseIntegration = (() => {\n  return {\n    name: INTEGRATION_NAME,\n    setupOnce() {\n      instrumentFirebase();\n    },\n  };\n}) satisfies IntegrationFn;\n\nexport const firebaseIntegration = defineIntegration(_firebaseIntegration);\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAKA,MAAM,gBAAA,GAAmB,UAAU;AAEnC,MAAM,MAAM,GAAkC;IAC5C,yBAAyB,GAAE,IAAA,IAAQ;YACjC,2QAAe,EAAC,IAAI,EAAE,8BAA8B,CAAC;QAErD,IAAI,CAAC,YAAY,CAAC,0QAA4B,EAAE,UAAU,CAAC;IAC7D,CAAC;IACD,SAAS,EAAE;QACT,WAAW,GAAE,IAAA,IAAQ;gBACnB,2QAAe,EAAC,IAAI,EAAE,8BAA8B,CAAC;YAErD,IAAI,CAAC,YAAY,CAAC,0QAA4B,EAAE,cAAc,CAAC;QACjE,CAAC;QACD,SAAS,EAAE,OAAO,CAAC,EAAE,KAAK,KAAK;YAC7B,IAAI,KAAK,EAAE;oBACT,mPAAgB,EAAC,KAAK,EAAE;oBACtB,SAAS,EAAE;wBACT,IAAI,EAAE,8BAA8B;wBACpC,OAAO,EAAE,KAAK;oBAC1B,CAAW;gBACX,CAAS,CAAC;gBACF,UAAM,wOAAK,EAAC,IAAI,CAAC;YACnB;QACF,CAAC;IACL,CAAG;AACH,CAAC;AAEM,MAAM,kBAAA,OAAqB,4QAAsB,EAAC,gBAAgB,EAAE,IAAM,IAAI,yTAAuB,CAAC,MAAM,CAAC;AAEpH,MAAM,oBAAA,GAAwB,MAAM;IAClC,OAAO;QACL,IAAI,EAAE,gBAAgB;QACtB,SAAS,GAAG;YACV,kBAAkB,EAAE;QACtB,CAAC;IACL,CAAG;AACH,CAAC,CAAA;MAEY,mBAAA,OAAsB,wPAAiB,EAAC,oBAAoB"}},
    {"offset": {"line": 5859, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/integrations/tracing/index.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/integrations/tracing/index.ts"],"sourcesContent":["import type { Integration } from '@sentry/core';\nimport { instrumentOtelHttp, instrumentSentryHttp } from '../http';\nimport { amqplibIntegration, instrumentAmqplib } from './amqplib';\nimport { anthropicAIIntegration, instrumentAnthropicAi } from './anthropic-ai';\nimport { connectIntegration, instrumentConnect } from './connect';\nimport { expressIntegration, instrumentExpress } from './express';\nimport { fastifyIntegration, instrumentFastify, instrumentFastifyV3 } from './fastify';\nimport { firebaseIntegration, instrumentFirebase } from './firebase';\nimport { genericPoolIntegration, instrumentGenericPool } from './genericPool';\nimport { googleGenAIIntegration, instrumentGoogleGenAI } from './google-genai';\nimport { graphqlIntegration, instrumentGraphql } from './graphql';\nimport { hapiIntegration, instrumentHapi } from './hapi';\nimport { honoIntegration, instrumentHono } from './hono';\nimport { instrumentKafka, kafkaIntegration } from './kafka';\nimport { instrumentKoa, koaIntegration } from './koa';\nimport { instrumentLangChain, langChainIntegration } from './langchain';\nimport { instrumentLangGraph, langGraphIntegration } from './langgraph';\nimport { instrumentLruMemoizer, lruMemoizerIntegration } from './lrumemoizer';\nimport { instrumentMongo, mongoIntegration } from './mongo';\nimport { instrumentMongoose, mongooseIntegration } from './mongoose';\nimport { instrumentMysql, mysqlIntegration } from './mysql';\nimport { instrumentMysql2, mysql2Integration } from './mysql2';\nimport { instrumentOpenAi, openAIIntegration } from './openai';\nimport { instrumentPostgres, postgresIntegration } from './postgres';\nimport { instrumentPostgresJs, postgresJsIntegration } from './postgresjs';\nimport { prismaIntegration } from './prisma';\nimport { instrumentRedis, redisIntegration } from './redis';\nimport { instrumentTedious, tediousIntegration } from './tedious';\nimport { instrumentVercelAi, vercelAIIntegration } from './vercelai';\n\n/**\n * With OTEL, all performance integrations will be added, as OTEL only initializes them when the patched package is actually required.\n */\nexport function getAutoPerformanceIntegrations(): Integration[] {\n  return [\n    expressIntegration(),\n    fastifyIntegration(),\n    graphqlIntegration(),\n    honoIntegration(),\n    mongoIntegration(),\n    mongooseIntegration(),\n    mysqlIntegration(),\n    mysql2Integration(),\n    redisIntegration(),\n    postgresIntegration(),\n    prismaIntegration(),\n    hapiIntegration(),\n    koaIntegration(),\n    connectIntegration(),\n    tediousIntegration(),\n    genericPoolIntegration(),\n    kafkaIntegration(),\n    amqplibIntegration(),\n    lruMemoizerIntegration(),\n    // AI providers\n    // LangChain must come first to disable AI provider integrations before they instrument\n    langChainIntegration(),\n    langGraphIntegration(),\n    vercelAIIntegration(),\n    openAIIntegration(),\n    anthropicAIIntegration(),\n    googleGenAIIntegration(),\n    postgresJsIntegration(),\n    firebaseIntegration(),\n  ];\n}\n\n/**\n * Get a list of methods to instrument OTEL, when preload instrumentation.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function getOpenTelemetryInstrumentationToPreload(): (((options?: any) => void) & { id: string })[] {\n  return [\n    instrumentSentryHttp,\n    instrumentOtelHttp,\n    instrumentExpress,\n    instrumentConnect,\n    instrumentFastify,\n    instrumentFastifyV3,\n    instrumentHapi,\n    instrumentHono,\n    instrumentKafka,\n    instrumentKoa,\n    instrumentLruMemoizer,\n    instrumentMongo,\n    instrumentMongoose,\n    instrumentMysql,\n    instrumentMysql2,\n    instrumentPostgres,\n    instrumentHapi,\n    instrumentGraphql,\n    instrumentRedis,\n    instrumentTedious,\n    instrumentGenericPool,\n    instrumentAmqplib,\n    instrumentLangChain,\n    instrumentVercelAi,\n    instrumentOpenAi,\n    instrumentPostgresJs,\n    instrumentFirebase,\n    instrumentAnthropicAi,\n    instrumentGoogleGenAI,\n    instrumentLangGraph,\n  ];\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;;CAEA,GACO,SAAS,8BAA8B,GAAkB;IAC9D,OAAO;YACL,gRAAkB,EAAE;YACpB,yRAAkB,EAAE;YACpB,gRAAkB,EAAE;YACpB,mRAAe,EAAE;YACjB,4QAAgB,EAAE;YAClB,kRAAmB,EAAE;YACrB,4QAAgB,EAAE;YAClB,8QAAiB,EAAE;YACnB,4QAAgB,EAAE;YAClB,kRAAmB,EAAE;YACrB,8QAAiB,EAAE;YACnB,mRAAe,EAAE;YACjB,wQAAc,EAAE;YAChB,gRAAkB,EAAE;YACpB,gRAAkB,EAAE;YACpB,wRAAsB,EAAE;YACxB,4QAAgB,EAAE;YAClB,gRAAkB,EAAE;YACpB,wRAAsB,EAAE;QAC5B,eAAA;QACA,uFAAA;YACI,6RAAoB,EAAE;YACtB,6RAAoB,EAAE;YACtB,2RAAmB,EAAE;YACrB,uRAAiB,EAAE;YACnB,qSAAsB,EAAE;YACxB,qSAAsB,EAAE;YACxB,sRAAqB,EAAE;YACvB,8RAAmB,EAAE;KACtB;AACH;AAEA;;CAEA,GACA,8DAAA;AACO,SAAS,wCAAwC,GAAmD;IACzG,OAAO;QACL,oQAAoB;QACpB,kQAAkB;QAClB,+QAAiB;QACjB,+QAAiB;QACjB,wRAAiB;QACjB,0RAAmB;QACnB,kRAAc;QACd,kRAAc;QACd,2QAAe;QACf,uQAAa;QACb,uRAAqB;QACrB,2QAAe;QACf,iRAAkB;QAClB,2QAAe;QACf,6QAAgB;QAChB,iRAAkB;QAClB,kRAAc;QACd,+QAAiB;QACjB,2QAAe;QACf,+QAAiB;QACjB,uRAAqB;QACrB,+QAAiB;QACjB,4RAAmB;QACnB,0RAAkB;QAClB,sRAAgB;QAChB,qRAAoB;QACpB,6RAAkB;QAClB,oSAAqB;QACrB,oSAAqB;QACrB,4RAAmB;KACpB;AACH"}},
    {"offset": {"line": 5999, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/sdk/initOtel.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/sdk/initOtel.ts"],"sourcesContent":["import { context, propagation, trace } from '@opentelemetry/api';\nimport { defaultResource, resourceFromAttributes } from '@opentelemetry/resources';\nimport type { SpanProcessor } from '@opentelemetry/sdk-trace-base';\nimport { BasicTracerProvider } from '@opentelemetry/sdk-trace-base';\nimport {\n  ATTR_SERVICE_NAME,\n  ATTR_SERVICE_VERSION,\n  SEMRESATTRS_SERVICE_NAMESPACE,\n} from '@opentelemetry/semantic-conventions';\nimport { debug as coreDebug, SDK_VERSION } from '@sentry/core';\nimport {\n  type NodeClient,\n  initializeEsmLoader,\n  SentryContextManager,\n  setupOpenTelemetryLogger,\n} from '@sentry/node-core';\nimport { SentryPropagator, SentrySampler, SentrySpanProcessor } from '@sentry/opentelemetry';\nimport { DEBUG_BUILD } from '../debug-build';\nimport { getOpenTelemetryInstrumentationToPreload } from '../integrations/tracing';\n\n// About 277h - this must fit into new Array(len)!\nconst MAX_MAX_SPAN_WAIT_DURATION = 1_000_000;\n\ninterface AdditionalOpenTelemetryOptions {\n  /** Additional SpanProcessor instances that should be used. */\n  spanProcessors?: SpanProcessor[];\n}\n\n/**\n * Initialize OpenTelemetry for Node.\n */\nexport function initOpenTelemetry(client: NodeClient, options: AdditionalOpenTelemetryOptions = {}): void {\n  if (client.getOptions().debug) {\n    setupOpenTelemetryLogger();\n  }\n\n  const provider = setupOtel(client, options);\n  client.traceProvider = provider;\n}\n\ninterface NodePreloadOptions {\n  debug?: boolean;\n  integrations?: string[];\n}\n\n/**\n * Preload OpenTelemetry for Node.\n * This can be used to preload instrumentation early, but set up Sentry later.\n * By preloading the OTEL instrumentation wrapping still happens early enough that everything works.\n */\nexport function preloadOpenTelemetry(options: NodePreloadOptions = {}): void {\n  const { debug } = options;\n\n  if (debug) {\n    coreDebug.enable();\n  }\n\n  initializeEsmLoader();\n\n  // These are all integrations that we need to pre-load to ensure they are set up before any other code runs\n  getPreloadMethods(options.integrations).forEach(fn => {\n    fn();\n\n    if (debug) {\n      coreDebug.log(`[Sentry] Preloaded ${fn.id} instrumentation`);\n    }\n  });\n}\n\nfunction getPreloadMethods(integrationNames?: string[]): ((() => void) & { id: string })[] {\n  const instruments = getOpenTelemetryInstrumentationToPreload();\n\n  if (!integrationNames) {\n    return instruments;\n  }\n\n  // We match exact matches of instrumentation, but also match prefixes, e.g. \"Fastify.v5\" will match \"Fastify\"\n  return instruments.filter(instrumentation => {\n    const id = instrumentation.id;\n    return integrationNames.some(integrationName => id === integrationName || id.startsWith(`${integrationName}.`));\n  });\n}\n\n/** Just exported for tests. */\nexport function setupOtel(client: NodeClient, options: AdditionalOpenTelemetryOptions = {}): BasicTracerProvider {\n  // Create and configure NodeTracerProvider\n  const provider = new BasicTracerProvider({\n    sampler: new SentrySampler(client),\n    resource: defaultResource().merge(\n      resourceFromAttributes({\n        [ATTR_SERVICE_NAME]: 'node',\n        // eslint-disable-next-line deprecation/deprecation\n        [SEMRESATTRS_SERVICE_NAMESPACE]: 'sentry',\n        [ATTR_SERVICE_VERSION]: SDK_VERSION,\n      }),\n    ),\n    forceFlushTimeoutMillis: 500,\n    spanProcessors: [\n      new SentrySpanProcessor({\n        timeout: _clampSpanProcessorTimeout(client.getOptions().maxSpanWaitDuration),\n      }),\n      ...(options.spanProcessors || []),\n    ],\n  });\n\n  // Register as globals\n  trace.setGlobalTracerProvider(provider);\n  propagation.setGlobalPropagator(new SentryPropagator());\n  context.setGlobalContextManager(new SentryContextManager());\n\n  return provider;\n}\n\n/** Just exported for tests. */\nexport function _clampSpanProcessorTimeout(maxSpanWaitDuration: number | undefined): number | undefined {\n  if (maxSpanWaitDuration == null) {\n    return undefined;\n  }\n\n  // We guard for a max. value here, because we create an array with this length\n  // So if this value is too large, this would fail\n  if (maxSpanWaitDuration > MAX_MAX_SPAN_WAIT_DURATION) {\n    DEBUG_BUILD &&\n      coreDebug.warn(`\\`maxSpanWaitDuration\\` is too high, using the maximum value of ${MAX_MAX_SPAN_WAIT_DURATION}`);\n    return MAX_MAX_SPAN_WAIT_DURATION;\n  } else if (maxSpanWaitDuration <= 0 || Number.isNaN(maxSpanWaitDuration)) {\n    DEBUG_BUILD && coreDebug.warn('`maxSpanWaitDuration` must be a positive number, using default value instead.');\n    return undefined;\n  }\n\n  return maxSpanWaitDuration;\n}\n"],"names":["debug","coreDebug"],"mappings":"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"}},
    {"offset": {"line": 6118, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/@sentry/node/build/esm/sdk/index.js","sources":["file:///Users/crischimiadao/ETHGlobalBuenosAires/blockchain-status-plotter-new/node_modules/%40sentry/node/src/sdk/index.ts"],"sourcesContent":["import type { Integration, Options } from '@sentry/core';\nimport { applySdkMetadata, hasSpansEnabled } from '@sentry/core';\nimport type { NodeClient } from '@sentry/node-core';\nimport {\n  getDefaultIntegrations as getNodeCoreDefaultIntegrations,\n  init as initNodeCore,\n  validateOpenTelemetrySetup,\n} from '@sentry/node-core';\nimport { httpIntegration } from '../integrations/http';\nimport { nativeNodeFetchIntegration } from '../integrations/node-fetch';\nimport { getAutoPerformanceIntegrations } from '../integrations/tracing';\nimport type { NodeOptions } from '../types';\nimport { initOpenTelemetry } from './initOtel';\n\n/**\n * Get default integrations, excluding performance.\n */\nexport function getDefaultIntegrationsWithoutPerformance(): Integration[] {\n  const nodeCoreIntegrations = getNodeCoreDefaultIntegrations();\n\n  // Filter out the node-core HTTP and NodeFetch integrations and replace them with Node SDK's composite versions\n  return nodeCoreIntegrations\n    .filter(integration => integration.name !== 'Http' && integration.name !== 'NodeFetch')\n    .concat(httpIntegration(), nativeNodeFetchIntegration());\n}\n\n/** Get the default integrations for the Node SDK. */\nexport function getDefaultIntegrations(options: Options): Integration[] {\n  return [\n    ...getDefaultIntegrationsWithoutPerformance(),\n    // We only add performance integrations if tracing is enabled\n    // Note that this means that without tracing enabled, e.g. `expressIntegration()` will not be added\n    // This means that generally request isolation will work (because that is done by httpIntegration)\n    // But `transactionName` will not be set automatically\n    ...(hasSpansEnabled(options) ? getAutoPerformanceIntegrations() : []),\n  ];\n}\n\n/**\n * Initialize Sentry for Node.\n */\nexport function init(options: NodeOptions | undefined = {}): NodeClient | undefined {\n  return _init(options, getDefaultIntegrations);\n}\n\n/**\n * Internal initialization function.\n */\nfunction _init(\n  options: NodeOptions | undefined = {},\n  getDefaultIntegrationsImpl: (options: Options) => Integration[],\n): NodeClient | undefined {\n  applySdkMetadata(options, 'node');\n\n  const client = initNodeCore({\n    ...options,\n    // Only use Node SDK defaults if none provided\n    defaultIntegrations: options.defaultIntegrations ?? getDefaultIntegrationsImpl(options),\n  });\n\n  // Add Node SDK specific OpenTelemetry setup\n  if (client && !options.skipOpenTelemetrySetup) {\n    initOpenTelemetry(client, {\n      spanProcessors: options.openTelemetrySpanProcessors,\n    });\n    validateOpenTelemetrySetup();\n  }\n\n  return client;\n}\n\n/**\n * Initialize Sentry for Node, without any integrations added by default.\n */\nexport function initWithoutDefaultIntegrations(options: NodeOptions | undefined = {}): NodeClient | undefined {\n  return _init(options, () => []);\n}\n"],"names":["getNodeCoreDefaultIntegrations","initNodeCore"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAcA;;CAEA,GACO,SAAS,wCAAwC,GAAkB;IACxE,MAAM,oBAAA,OAAuBA,sQAA8B,EAAE;IAE/D,+GAAA;IACE,OAAO,qBACJ,MAAM,EAAC,WAAA,GAAe,WAAW,CAAC,IAAA,KAAS,UAAU,WAAW,CAAC,IAAA,KAAS,WAAW,EACrF,MAAM,KAAC,+PAAe,EAAE,OAAE,mRAA0B,EAAE,CAAC;AAC5D;AAEA,mDAAA,GACO,SAAS,sBAAsB,CAAC,OAAO,EAA0B;IACtE,OAAO;WACF,wCAAwC,EAAE;QACjD,6DAAA;QACA,mGAAA;QACA,kGAAA;QACA,sDAAA;eACQ,mQAAe,EAAC,OAAO,CAAA,OAAI,0RAA8B,EAAC,IAAI,EAAE,CAAC;KACtE;AACH;AAEA;;CAEA,GACO,SAAS,IAAI,CAAC,OAAO,GAA4B,CAAA,CAAE,EAA0B;IAClF,OAAO,KAAK,CAAC,OAAO,EAAE,sBAAsB,CAAC;AAC/C;AAEA;;CAEA,GACA,SAAS,KAAK,CACZ,OAAO,GAA4B,CAAA,CAAE,EACrC,0BAA0B;QAE1B,gQAAgB,EAAC,OAAO,EAAE,MAAM,CAAC;IAEjC,MAAM,MAAA,OAASC,oPAAY,EAAC;QAC1B,GAAG,OAAO;QACd,8CAAA;QACI,mBAAmB,EAAE,OAAO,CAAC,mBAAA,IAAuB,0BAA0B,CAAC,OAAO,CAAC;IAC3F,CAAG,CAAC;IAEJ,4CAAA;IACE,IAAI,MAAA,IAAU,CAAC,OAAO,CAAC,sBAAsB,EAAE;YAC7C,4PAAiB,EAAC,MAAM,EAAE;YACxB,cAAc,EAAE,OAAO,CAAC,2BAA2B;QACzD,CAAK,CAAC;YACF,0QAA0B,EAAE;IAC9B;IAEA,OAAO,MAAM;AACf;AAEA;;CAEA,GACO,SAAS,8BAA8B,CAAC,OAAO,GAA4B,CAAA,CAAE,EAA0B;IAC5G,OAAO,KAAK,CAAC,OAAO,EAAE,IAAM,EAAE,CAAC;AACjC"}}]
}