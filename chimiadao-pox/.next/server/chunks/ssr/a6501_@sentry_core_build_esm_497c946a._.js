module.exports=[42093,a=>{"use strict";a.s(["SDK_VERSION",()=>"10.26.0"])},73209,a=>{"use strict";let b=globalThis;a.s(["GLOBAL_OBJ",()=>b])},42055,15740,41225,3237,66922,57456,78799,93481,41188,82354,64344,6110,44751,64296,8146,19716,40548,16267,a=>{"use strict";let b,c,d;var e=a.i(42093),f=a.i(73209);function g(){return h(f.GLOBAL_OBJ),f.GLOBAL_OBJ}function h(a){let b=a.__SENTRY__=a.__SENTRY__||{};return b.version=b.version||e.SDK_VERSION,b[e.SDK_VERSION]=b[e.SDK_VERSION]||{}}function i(a,b,c=f.GLOBAL_OBJ){let d=c.__SENTRY__=c.__SENTRY__||{},g=d[e.SDK_VERSION]=d[e.SDK_VERSION]||{};return g[a]||(g[a]=b())}a.s(["getGlobalSingleton",()=>i,"getMainCarrier",()=>g,"getSentryCarrier",()=>h],15740);let j="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;a.s(["DEBUG_BUILD",()=>j],41225);let k=Object.prototype.toString;function l(a){switch(k.call(a)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return z(a,Error)}}function m(a,b){return k.call(a)===`[object ${b}]`}function n(a){return m(a,"ErrorEvent")}function o(a){return m(a,"DOMError")}function p(a){return m(a,"DOMException")}function q(a){return m(a,"String")}function r(a){return"object"==typeof a&&null!==a&&"__sentry_template_string__"in a&&"__sentry_template_values__"in a}function s(a){return null===a||r(a)||"object"!=typeof a&&"function"!=typeof a}function t(a){return m(a,"Object")}function u(a){return"undefined"!=typeof Event&&z(a,Event)}function v(a){return"undefined"!=typeof Element&&z(a,Element)}function w(a){return m(a,"RegExp")}function x(a){return!!(a?.then&&"function"==typeof a.then)}function y(a){return t(a)&&"nativeEvent"in a&&"preventDefault"in a&&"stopPropagation"in a}function z(a,b){try{return a instanceof b}catch{return!1}}function A(a){return!!("object"==typeof a&&null!==a&&(a.__isVue||a._isVue||a.__v_isVNode))}function B(a){return"undefined"!=typeof Request&&z(a,Request)}a.s(["isDOMError",()=>o,"isDOMException",()=>p,"isElement",()=>v,"isError",()=>l,"isErrorEvent",()=>n,"isEvent",()=>u,"isInstanceOf",()=>z,"isParameterizedString",()=>r,"isPlainObject",()=>t,"isPrimitive",()=>s,"isRegExp",()=>w,"isRequest",()=>B,"isString",()=>q,"isSyntheticEvent",()=>y,"isThenable",()=>x,"isVueViewModel",()=>A],3237);let C=f.GLOBAL_OBJ;function D(a,b={}){if(!a)return"<unknown>";try{let c,d=a,e=[],f=0,g=0,h=Array.isArray(b)?b:b.keyAttrs,i=!Array.isArray(b)&&b.maxStringLength||80;for(;d&&f++<5&&(c=function(a,b){let c=[];if(!a?.tagName)return"";if(C.HTMLElement&&a instanceof HTMLElement&&a.dataset){if(a.dataset.sentryComponent)return a.dataset.sentryComponent;if(a.dataset.sentryElement)return a.dataset.sentryElement}c.push(a.tagName.toLowerCase());let d=b?.length?b.filter(b=>a.getAttribute(b)).map(b=>[b,a.getAttribute(b)]):null;if(d?.length)d.forEach(a=>{c.push(`[${a[0]}="${a[1]}"]`)});else{a.id&&c.push(`#${a.id}`);let b=a.className;if(b&&q(b))for(let a of b.split(/\s+/))c.push(`.${a}`)}for(let b of["aria-label","type","name","title","alt"]){let d=a.getAttribute(b);d&&c.push(`[${b}="${d}"]`)}return c.join("")}(d,h),"html"!==c&&(!(f>1)||!(g+3*e.length+c.length>=i)));)e.push(c),g+=c.length,d=d.parentNode;return e.reverse().join(" > ")}catch{return"<unknown>"}}function E(){try{return C.document.location.href}catch{return""}}function F(a){if(!C.HTMLElement)return null;let b=a;for(let a=0;a<5&&b;a++){if(b instanceof HTMLElement){if(b.dataset.sentryComponent)return b.dataset.sentryComponent;if(b.dataset.sentryElement)return b.dataset.sentryElement}b=b.parentNode}return null}a.s(["getComponentName",()=>F,"getLocationHref",()=>E,"htmlTreeAsString",()=>D],66922);let G=["debug","info","warn","error","log","assert","trace"],H={};function I(a){if(!("console"in f.GLOBAL_OBJ))return a();let b=f.GLOBAL_OBJ.console,c={},d=Object.keys(H);d.forEach(a=>{let d=H[a];c[a]=b[a],b[a]=d});try{return a()}finally{d.forEach(a=>{b[a]=c[a]})}}function J(){return L().enabled}function K(a,...b){j&&J()&&I(()=>{f.GLOBAL_OBJ.console[a](`Sentry Logger [${a}]:`,...b)})}function L(){return j?i("loggerSettings",()=>({enabled:!1})):{enabled:!1}}let M={enable:function(){L().enabled=!0},disable:function(){L().enabled=!1},isEnabled:J,log:function(...a){K("log",...a)},warn:function(...a){K("warn",...a)},error:function(...a){K("error",...a)}};function N(a,b,c){if(!(b in a))return;let d=a[b];if("function"!=typeof d)return;let e=c(d);"function"==typeof e&&P(e,d);try{a[b]=e}catch{j&&M.log(`Failed to replace method "${b}" in object`,a)}}function O(a,b,c){try{Object.defineProperty(a,b,{value:c,writable:!0,configurable:!0})}catch{j&&M.log(`Failed to add non-enumerable property "${b}" to object`,a)}}function P(a,b){try{let c=b.prototype||{};a.prototype=b.prototype=c,O(a,"__sentry_original__",b)}catch{}}function Q(a){return a.__sentry_original__}function R(a){if(l(a))return{message:a.message,name:a.name,stack:a.stack,...T(a)};if(!u(a))return a;{let b={type:a.type,target:S(a.target),currentTarget:S(a.currentTarget),...T(a)};return"undefined"!=typeof CustomEvent&&z(a,CustomEvent)&&(b.detail=a.detail),b}}function S(a){try{return v(a)?D(a):Object.prototype.toString.call(a)}catch{return"<unknown>"}}function T(a){if("object"!=typeof a||null===a)return{};{let b={};for(let c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b}}function U(a){let b=Object.keys(R(a));return b.sort(),b[0]?b.join(", "):"[object has no keys]"}a.s(["CONSOLE_LEVELS",()=>G,"consoleSandbox",()=>I,"debug",()=>M,"originalConsoleMethods",()=>H],57456),a.s(["addNonEnumerableProperty",()=>O,"convertToPlainObject",()=>R,"extractExceptionKeysForMessage",()=>U,"fill",()=>N,"getOriginalFunction",()=>Q,"markFunctionWrapped",()=>P],78799);let V=/\(error: (.*)\)/,W=/captureMessage|captureException/;function X(...a){let b=a.sort((a,b)=>a[0]-b[0]).map(a=>a[1]);return(a,c=0,d=0)=>{let e=[],f=a.split("\n");for(let a=c;a<f.length;a++){let c=f[a];c.length>1024&&(c=c.slice(0,1024));let g=V.test(c)?c.replace(V,"$1"):c;if(!g.match(/\S*Error: /)){for(let a of b){let b=a(g);if(b){e.push(b);break}}if(e.length>=50+d)break}}var g=e.slice(d);if(!g.length)return[];let h=Array.from(g);return/sentryWrapped/.test(Z(h).function||"")&&h.pop(),h.reverse(),W.test(Z(h).function||"")&&(h.pop(),W.test(Z(h).function||"")&&h.pop()),h.slice(0,50).map(a=>({...a,filename:a.filename||Z(h).filename,function:a.function||"?"}))}}function Y(a){return Array.isArray(a)?X(...a):a}function Z(a){return a[a.length-1]||{}}let $="<anonymous>";function _(a){try{if(!a||"function"!=typeof a)return $;return a.name||$}catch{return $}}function aa(a){let b=a.exception;if(b){let a=[];try{return b.values.forEach(b=>{b.stacktrace.frames&&a.push(...b.stacktrace.frames)}),a}catch{}}}function ab(a){return"__v_isVNode"in a&&a.__v_isVNode?"[VueVNode]":"[VueViewModel]"}function ac(a,b=0){return"string"!=typeof a||0===b||a.length<=b?a:`${a.slice(0,b)}...`}function ad(a,b){let c=a,d=c.length;if(d<=150)return c;b>d&&(b=d);let e=Math.max(b-60,0);e<5&&(e=0);let f=Math.min(e+140,d);return f>d-5&&(f=d),f===d&&(e=Math.max(f-140,0)),c=c.slice(e,f),e>0&&(c=`'{snip} ${c}`),f<d&&(c+=" {snip}"),c}function ae(a,b){if(!Array.isArray(a))return"";let c=[];for(let b=0;b<a.length;b++){let d=a[b];try{A(d)?c.push(ab(d)):c.push(String(d))}catch{c.push("[value cannot be serialized]")}}return c.join(b)}function af(a,b,c=!1){return!!q(a)&&(w(b)?b.test(a):!!q(b)&&(c?a===b:a.includes(b)))}function ag(a,b=[],c=!1){return b.some(b=>af(a,b,c))}function ah(a=function(){let a=f.GLOBAL_OBJ;return a.crypto||a.msCrypto}()){try{if(a?.randomUUID)return a.randomUUID().replace(/-/g,"")}catch{}return b||(b="10000000100040008000100000000000"),b.replace(/[018]/g,a=>(a^(15&16*Math.random())>>a/4).toString(16))}function ai(a){return a.exception?.values?.[0]}function aj(a){let{message:b,event_id:c}=a;if(b)return b;let d=ai(a);return d?d.type&&d.value?`${d.type}: ${d.value}`:d.type||d.value||c||"<unknown>":c||"<unknown>"}function ak(a,b,c){let d=a.exception=a.exception||{},e=d.values=d.values||[],f=e[0]=e[0]||{};f.value||(f.value=b||""),f.type||(f.type=c||"Error")}function al(a,b){let c=ai(a);if(!c)return;let d=c.mechanism;if(c.mechanism={type:"generic",handled:!0,...d,...b},b&&"data"in b){let a={...d?.data,...b.data};c.mechanism.data=a}}a.s(["UNKNOWN_FUNCTION",()=>"?","createStackParser",()=>X,"getFramesFromEvent",()=>aa,"getFunctionName",()=>_,"getVueInternalName",()=>ab,"stackParserFromStackParserOptions",()=>Y],93481),a.s(["isMatchingPattern",()=>af,"safeJoin",()=>ae,"snipLine",()=>ad,"stringMatchesSomePattern",()=>ag,"truncate",()=>ac],41188);let am=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;function an(a){return parseInt(a||"",10)}function ao(a){let b=a.match(am)||[],c=an(b[1]),d=an(b[2]),e=an(b[3]);return{buildmetadata:b[5],major:isNaN(c)?void 0:c,minor:isNaN(d)?void 0:d,patch:isNaN(e)?void 0:e,prerelease:b[4]}}function ap(a,b,c=5){if(void 0===b.lineno)return;let d=a.length,e=Math.max(Math.min(d-1,b.lineno-1),0);b.pre_context=a.slice(Math.max(0,e-c),e).map(a=>ad(a,0)),b.context_line=ad(a[Math.min(d-1,e)],b.colno||0),b.post_context=a.slice(Math.min(e+1,d),e+1+c).map(a=>ad(a,0))}function aq(a){if(function(a){try{return a.__sentry_captured__}catch{}}(a))return!0;try{O(a,"__sentry_captured__",!0)}catch{}return!1}function ar(){return Date.now()/1e3}function as(){return(c??(c=function(){let{performance:a}=f.GLOBAL_OBJ;if(!a?.now||!a.timeOrigin)return ar;let b=a.timeOrigin;return()=>(b+a.now())/1e3}()))()}function at(){return d||(d=function(){let{performance:a}=f.GLOBAL_OBJ;if(!a?.now)return[void 0,"none"];let b=a.now(),c=Date.now(),d=a.timeOrigin?Math.abs(a.timeOrigin+b-c):36e5,e=a.timing?.navigationStart,g="number"==typeof e?Math.abs(e+b-c):36e5;if(d<36e5||g<36e5)if(d<=g)return[a.timeOrigin,"timeOrigin"];else return[e,"navigationStart"];return[c,"dateNow"]}()),d[0]}function au(a){let b=as(),c={sid:ah(),init:!0,timestamp:b,started:b,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>{var a;return a=c,{sid:`${a.sid}`,init:a.init,started:new Date(1e3*a.started).toISOString(),timestamp:new Date(1e3*a.timestamp).toISOString(),status:a.status,errors:a.errors,did:"number"==typeof a.did||"string"==typeof a.did?`${a.did}`:void 0,duration:a.duration,abnormal_mechanism:a.abnormal_mechanism,attrs:{release:a.release,environment:a.environment,ip_address:a.ipAddress,user_agent:a.userAgent}}}};return a&&av(c,a),c}function av(a,b={}){if(b.user&&(!a.ipAddress&&b.user.ip_address&&(a.ipAddress=b.user.ip_address),a.did||b.did||(a.did=b.user.id||b.user.email||b.user.username)),a.timestamp=b.timestamp||as(),b.abnormal_mechanism&&(a.abnormal_mechanism=b.abnormal_mechanism),b.ignoreDuration&&(a.ignoreDuration=b.ignoreDuration),b.sid&&(a.sid=32===b.sid.length?b.sid:ah()),void 0!==b.init&&(a.init=b.init),!a.did&&b.did&&(a.did=`${b.did}`),"number"==typeof b.started&&(a.started=b.started),a.ignoreDuration)a.duration=void 0;else if("number"==typeof b.duration)a.duration=b.duration;else{let b=a.timestamp-a.started;a.duration=b>=0?b:0}b.release&&(a.release=b.release),b.environment&&(a.environment=b.environment),!a.ipAddress&&b.ipAddress&&(a.ipAddress=b.ipAddress),!a.userAgent&&b.userAgent&&(a.userAgent=b.userAgent),"number"==typeof b.errors&&(a.errors=b.errors),b.status&&(a.status=b.status)}function aw(a,b){let c={};b?c={status:b}:"ok"===a.status&&(c={status:"exited"}),av(a,c)}function ax(a,b,c=2){if(!b||"object"!=typeof b||c<=0)return b;if(a&&0===Object.keys(b).length)return a;let d={...a};for(let a in b)Object.prototype.hasOwnProperty.call(b,a)&&(d[a]=ax(d[a],b[a],c-1));return d}function ay(){return ah()}function az(){return ah().substring(16)}a.s(["addContextToFrame",()=>ap,"addExceptionMechanism",()=>al,"addExceptionTypeValue",()=>ak,"checkOrSetAlreadyCaught",()=>aq,"getEventDescription",()=>aj,"parseSemver",()=>ao,"uuid4",()=>ah],82354),a.s(["browserPerformanceTimeOrigin",()=>at,"dateTimestampInSeconds",()=>ar,"timestampInSeconds",()=>as],64344),a.s(["closeSession",()=>aw,"makeSession",()=>au,"updateSession",()=>av],6110),a.s(["merge",()=>ax],44751),a.s(["generateSpanId",()=>az,"generateTraceId",()=>ay],64296);let aA="_sentrySpan";function aB(a,b){b?O(a,aA,b):delete a[aA]}function aC(a){return a[aA]}a.s(["_getSpanForScope",()=>aC,"_setSpanForScope",()=>aB],8146);class aD{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:ay(),sampleRand:Math.random()}}clone(){let a=new aD;return a._breadcrumbs=[...this._breadcrumbs],a._tags={...this._tags},a._extra={...this._extra},a._contexts={...this._contexts},this._contexts.flags&&(a._contexts.flags={values:[...this._contexts.flags.values]}),a._user=this._user,a._level=this._level,a._session=this._session,a._transactionName=this._transactionName,a._fingerprint=this._fingerprint,a._eventProcessors=[...this._eventProcessors],a._attachments=[...this._attachments],a._sdkProcessingMetadata={...this._sdkProcessingMetadata},a._propagationContext={...this._propagationContext},a._client=this._client,a._lastEventId=this._lastEventId,aB(a,this[aA]),a}setClient(a){this._client=a}setLastEventId(a){this._lastEventId=a}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(a){this._scopeListeners.push(a)}addEventProcessor(a){return this._eventProcessors.push(a),this}setUser(a){return this._user=a||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&av(this._session,{user:a}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(a){return this._tags={...this._tags,...a},this._notifyScopeListeners(),this}setTag(a,b){return this.setTags({[a]:b})}setExtras(a){return this._extra={...this._extra,...a},this._notifyScopeListeners(),this}setExtra(a,b){return this._extra={...this._extra,[a]:b},this._notifyScopeListeners(),this}setFingerprint(a){return this._fingerprint=a,this._notifyScopeListeners(),this}setLevel(a){return this._level=a,this._notifyScopeListeners(),this}setTransactionName(a){return this._transactionName=a,this._notifyScopeListeners(),this}setContext(a,b){return null===b?delete this._contexts[a]:this._contexts[a]=b,this._notifyScopeListeners(),this}setSession(a){return a?this._session=a:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(a){if(!a)return this;let b="function"==typeof a?a(this):a,{tags:c,extra:d,user:e,contexts:f,level:g,fingerprint:h=[],propagationContext:i}=(b instanceof aD?b.getScopeData():t(b)?a:void 0)||{};return this._tags={...this._tags,...c},this._extra={...this._extra,...d},this._contexts={...this._contexts,...f},e&&Object.keys(e).length&&(this._user=e),g&&(this._level=g),h.length&&(this._fingerprint=h),i&&(this._propagationContext=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,aB(this,void 0),this._attachments=[],this.setPropagationContext({traceId:ay(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(a,b){let c="number"==typeof b?b:100;if(c<=0)return this;let d={timestamp:ar(),...a,message:a.message?ac(a.message,2048):a.message};return this._breadcrumbs.push(d),this._breadcrumbs.length>c&&(this._breadcrumbs=this._breadcrumbs.slice(-c),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(a){return this._attachments.push(a),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:this[aA]}}setSDKProcessingMetadata(a){return this._sdkProcessingMetadata=ax(this._sdkProcessingMetadata,a,2),this}setPropagationContext(a){return this._propagationContext=a,this}getPropagationContext(){return this._propagationContext}captureException(a,b){let c=b?.event_id||ah();if(!this._client)return j&&M.warn("No client configured on scope - will not capture exception!"),c;let d=Error("Sentry syntheticException");return this._client.captureException(a,{originalException:a,syntheticException:d,...b,event_id:c},this),c}captureMessage(a,b,c){let d=c?.event_id||ah();if(!this._client)return j&&M.warn("No client configured on scope - will not capture message!"),d;let e=c?.syntheticException??Error(a);return this._client.captureMessage(a,b,{originalException:a,syntheticException:e,...c,event_id:d},this),d}captureEvent(a,b){let c=b?.event_id||ah();return this._client?this._client.captureEvent(a,{...b,event_id:c},this):j&&M.warn("No client configured on scope - will not capture event!"),c}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(a=>{a(this)}),this._notifyingListeners=!1)}}function aE(){return i("defaultCurrentScope",()=>new aD)}function aF(){return i("defaultIsolationScope",()=>new aD)}a.s(["Scope",()=>aD],19716),a.s(["getDefaultCurrentScope",()=>aE,"getDefaultIsolationScope",()=>aF],40548);class aG{constructor(a,b){let c,d;c=a||new aD,d=b||new aD,this._stack=[{scope:c}],this._isolationScope=d}withScope(a){let b,c=this._pushScope();try{b=a(c)}catch(a){throw this._popScope(),a}return x(b)?b.then(a=>(this._popScope(),a),a=>{throw this._popScope(),a}):(this._popScope(),b)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let a=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:a}),a}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function aH(){let a=h(g());return a.stack=a.stack||new aG(aE(),aF())}function aI(a){return aH().withScope(a)}function aJ(a,b){let c=aH();return c.withScope(()=>(c.getStackTop().scope=a,b(a)))}function aK(a){return aH().withScope(()=>a(aH().getIsolationScope()))}function aL(a){h(g()).acs=a}function aM(a){let b=h(a);return b.acs?b.acs:{withIsolationScope:aK,withScope:aI,withSetScope:aJ,withSetIsolationScope:(a,b)=>aK(b),getCurrentScope:()=>aH().getScope(),getIsolationScope:()=>aH().getIsolationScope()}}function aN(){return aM(g()).getCurrentScope()}function aO(){return aM(g()).getIsolationScope()}function aP(){return i("globalScope",()=>new aD)}function aQ(...a){let b=aM(g());if(2===a.length){let[c,d]=a;return c?b.withSetScope(c,d):b.withScope(d)}return b.withScope(a[0])}function aR(...a){let b=aM(g());if(2===a.length){let[c,d]=a;return c?b.withSetIsolationScope(c,d):b.withIsolationScope(d)}return b.withIsolationScope(a[0])}function aS(){return aN().getClient()}function aT(a){let{traceId:b,parentSpanId:c,propagationSpanId:d}=a.getPropagationContext(),e={trace_id:b,span_id:d||az()};return c&&(e.parent_span_id=c),e}a.s(["getAsyncContextStrategy",()=>aM,"setAsyncContextStrategy",()=>aL],16267),a.s(["getClient",()=>aS,"getCurrentScope",()=>aN,"getGlobalScope",()=>aP,"getIsolationScope",()=>aO,"getTraceContextFromScope",()=>aT,"withIsolationScope",()=>aR,"withScope",()=>aQ],42055)},40022,a=>{"use strict";var b=a.i(42055),c=a.i(41225),d=a.i(57456);let e=[];function f(a){let b,c,d=a.defaultIntegrations||[],e=a.integrations;if(d.forEach(a=>{a.isDefaultInstance=!0}),Array.isArray(e))b=[...d,...e];else if("function"==typeof e){let a=e(d);b=Array.isArray(a)?a:[a]}else b=d;return c={},b.forEach(a=>{let{name:b}=a,d=c[b];d&&!d.isDefaultInstance&&a.isDefaultInstance||(c[b]=a)}),Object.values(c)}function g(a,b){let c={};return b.forEach(b=>{b&&i(a,b,c)}),c}function h(a,b){for(let c of b)c?.afterAllSetup&&c.afterAllSetup(a)}function i(a,b,f){if(f[b.name]){c.DEBUG_BUILD&&d.debug.log(`Integration skipped because it was already installed: ${b.name}`);return}if(f[b.name]=b,e.includes(b.name)||"function"!=typeof b.setupOnce||(b.setupOnce(),e.push(b.name)),b.setup&&"function"==typeof b.setup&&b.setup(a),"function"==typeof b.preprocessEvent){let c=b.preprocessEvent.bind(b);a.on("preprocessEvent",(b,d)=>c(b,d,a))}if("function"==typeof b.processEvent){let c=b.processEvent.bind(b),d=Object.assign((b,d)=>c(b,d,a),{id:b.name});a.addEventProcessor(d)}c.DEBUG_BUILD&&d.debug.log(`Integration installed: ${b.name}`)}function j(a){let e=(0,b.getClient)();if(!e){c.DEBUG_BUILD&&d.debug.warn(`Cannot add integration "${a.name}" because no SDK Client is available.`);return}e.addIntegration(a)}function k(a){return a}a.s(["addIntegration",()=>j,"afterSetupIntegrations",()=>h,"defineIntegration",()=>k,"getIntegrationsToSetup",()=>f,"setupIntegration",()=>i,"setupIntegrations",()=>g])},30682,a=>{"use strict";var b=a.i(42055);function c(a){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;let c=a||(0,b.getClient)()?.getOptions();return!!c&&(null!=c.tracesSampleRate||!!c.tracesSampler)}a.s(["hasSpansEnabled",()=>c])},41818,a=>{"use strict";function b(a){if(void 0!==a)return a>=400&&a<500?"warning":a>=500?"error":void 0}a.s(["getBreadcrumbLogLevelFromHttpStatusCode",()=>b])},71637,a=>{"use strict";var b=a.i(42055),c=a.i(57456),d=a.i(64344);function e(a,e){let f=(0,b.getClient)(),g=(0,b.getIsolationScope)();if(!f)return;let{beforeBreadcrumb:h=null,maxBreadcrumbs:i=100}=f.getOptions();if(i<=0)return;let j={timestamp:(0,d.dateTimestampInSeconds)(),...a},k=h?(0,c.consoleSandbox)(()=>h(j,e)):j;null!==k&&(f.emit&&f.emit("beforeAddBreadcrumb",k,e),g.addBreadcrumb(k,i))}a.s(["addBreadcrumb",()=>e])},10819,41989,5215,51326,40925,91006,a=>{"use strict";a.s(["DEFAULT_ENVIRONMENT",()=>"production"],10819);var b=a.i(41225),c=a.i(57456),d=a.i(3237);function e(a){return new g(b=>{b(a)})}function f(a){return new g((b,c)=>{c(a)})}class g{constructor(a){this._state=0,this._handlers=[],this._runExecutor(a)}then(a,b){return new g((c,d)=>{this._handlers.push([!1,b=>{if(a)try{c(a(b))}catch(a){d(a)}else c(b)},a=>{if(b)try{c(b(a))}catch(a){d(a)}else d(a)}]),this._executeHandlers()})}catch(a){return this.then(a=>a,a)}finally(a){return new g((b,c)=>{let d,e;return this.then(b=>{e=!1,d=b,a&&a()},b=>{e=!0,d=b,a&&a()}).then(()=>{e?c(d):b(d)})})}_executeHandlers(){if(0===this._state)return;let a=this._handlers.slice();this._handlers=[],a.forEach(a=>{a[0]||(1===this._state&&a[1](this._value),2===this._state&&a[2](this._value),a[0]=!0)})}_runExecutor(a){let b=(a,b)=>{if(0===this._state){if((0,d.isThenable)(b))return void b.then(c,e);this._state=a,this._value=b,this._executeHandlers()}},c=a=>{b(1,a)},e=a=>{b(2,a)};try{a(c,e)}catch(a){e(a)}}}function h(a,g,i,j=0){try{let f=function a(e,f,g,h){let i=g[h];if(!e||!i)return e;let j=i({...e},f);return(b.DEBUG_BUILD&&null===j&&c.debug.log(`Event processor "${i.id||"?"}" dropped event`),(0,d.isThenable)(j))?j.then(b=>a(b,f,g,h+1)):a(j,f,g,h+1)}(g,i,a,j);return(0,d.isThenable)(f)?f:e(f)}catch(a){return f(a)}}a.s(["rejectedSyncPromise",()=>f,"resolvedSyncPromise",()=>e],41989),a.s(["notifyEventProcessors",()=>h],5215),a.s(["SEMANTIC_ATTRIBUTE_CACHE_HIT",()=>"cache.hit","SEMANTIC_ATTRIBUTE_CACHE_ITEM_SIZE",()=>"cache.item_size","SEMANTIC_ATTRIBUTE_CACHE_KEY",()=>"cache.key","SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME",()=>"sentry.exclusive_time","SEMANTIC_ATTRIBUTE_HTTP_REQUEST_METHOD",()=>"http.request.method","SEMANTIC_ATTRIBUTE_PROFILE_ID",()=>"sentry.profile_id","SEMANTIC_ATTRIBUTE_SENTRY_CUSTOM_SPAN_NAME",()=>"sentry.custom_span_name","SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON",()=>"sentry.idle_span_finish_reason","SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT",()=>"sentry.measurement_unit","SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE",()=>"sentry.measurement_value","SEMANTIC_ATTRIBUTE_SENTRY_OP",()=>"sentry.op","SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN",()=>"sentry.origin","SEMANTIC_ATTRIBUTE_SENTRY_PREVIOUS_TRACE_SAMPLE_RATE",()=>"sentry.previous_trace_sample_rate","SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE",()=>"sentry.sample_rate","SEMANTIC_ATTRIBUTE_SENTRY_SOURCE",()=>"sentry.source","SEMANTIC_ATTRIBUTE_URL_FULL",()=>"url.full","SEMANTIC_LINK_ATTRIBUTE_LINK_TYPE",()=>"sentry.link.type"],51326);let i="sentry-",j=/^sentry-/;function k(a){let b=m(a);if(!b)return;let c=Object.entries(b).reduce((a,[b,c])=>(b.match(j)&&(a[b.slice(i.length)]=c),a),{});return Object.keys(c).length>0?c:void 0}function l(a){if(a)return o(Object.entries(a).reduce((a,[b,c])=>(c&&(a[`${i}${b}`]=c),a),{}))}function m(a){if(a&&((0,d.isString)(a)||Array.isArray(a)))return Array.isArray(a)?a.reduce((a,b)=>(Object.entries(n(b)).forEach(([b,c])=>{a[b]=c}),a),{}):n(a)}function n(a){return a.split(",").map(a=>{let b=a.indexOf("=");return -1===b?[]:[a.slice(0,b),a.slice(b+1)].map(a=>{try{return decodeURIComponent(a.trim())}catch{return}})}).reduce((a,[b,c])=>(b&&c&&(a[b]=c),a),{})}function o(a){if(0!==Object.keys(a).length)return Object.entries(a).reduce((a,[d,e],f)=>{let g=`${encodeURIComponent(d)}=${encodeURIComponent(e)}`,h=0===f?g:`${a},${g}`;return h.length>8192?(b.DEBUG_BUILD&&c.debug.warn(`Not adding key: ${d} with val: ${e} to baggage header due to exceeding baggage size limits.`),a):h},"")}a.s(["SENTRY_BAGGAGE_KEY_PREFIX",()=>i,"baggageHeaderToDynamicSamplingContext",()=>k,"dynamicSamplingContextToSentryBaggageHeader",()=>l,"objectToBaggageHeader",()=>o,"parseBaggageHeader",()=>m],40925);let p=/^o(\d+)\./,q=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function r(a,b=!1){let{host:c,path:d,pass:e,port:f,projectId:g,protocol:h,publicKey:i}=a;return`${h}://${i}${b&&e?`:${e}`:""}@${c}${f?`:${f}`:""}/${d?`${d}/`:d}${g}`}function s(a){let b=q.exec(a);if(!b)return void(0,c.consoleSandbox)(()=>{console.error(`Invalid Sentry Dsn: ${a}`)});let[d,e,f="",g="",h="",i=""]=b.slice(1),j="",k=i,l=k.split("/");if(l.length>1&&(j=l.slice(0,-1).join("/"),k=l.pop()),k){let a=k.match(/^\d+/);a&&(k=a[0])}return t({host:g,pass:f,path:j,projectId:k,port:h,protocol:d,publicKey:e})}function t(a){return{protocol:a.protocol,publicKey:a.publicKey||"",pass:a.pass||"",host:a.host,port:a.port||"",path:a.path||"",projectId:a.projectId}}function u(a){let b,c=a.getOptions(),{host:d}=a.getDsn()||{};if(c.orgId)b=String(c.orgId);else{let a;d&&(a=d.match(p),b=a?.[1])}return b}function v(a){let d="string"==typeof a?s(a):t(a);if(d&&function(a){if(!b.DEBUG_BUILD)return!0;let{port:d,projectId:e,protocol:f}=a;return!["protocol","publicKey","host","projectId"].find(b=>!a[b]&&(c.debug.error(`Invalid Sentry Dsn: ${b} missing`),!0))&&(e.match(/^\d+$/)?"http"!==f&&"https"!==f?(c.debug.error(`Invalid Sentry Dsn: Invalid protocol ${f}`),!1):!(d&&isNaN(parseInt(d,10)))||(c.debug.error(`Invalid Sentry Dsn: Invalid port ${d}`),!1):(c.debug.error(`Invalid Sentry Dsn: Invalid projectId ${e}`),!1))}(d))return d}a.s(["dsnFromString",()=>s,"dsnToString",()=>r,"extractOrgIdFromClient",()=>u,"makeDsn",()=>v],91006)},9206,14096,68858,44424,71389,27405,50889,13752,9062,74009,84716,a=>{"use strict";let b,c,d,e;var f=a.i(42055),g=a.i(41225),h=a.i(6110),i=a.i(57456),j=a.i(3237),k=a.i(82354),l=a.i(10819),m=a.i(5215),n=a.i(19716),o=a.i(51326),p=a.i(40925),q=a.i(91006),r=a.i(30682),s=a.i(78799),t=a.i(16267),u=a.i(15740);function v(a){if(a<400&&a>=100)return{code:1};if(a>=400&&a<500)switch(a){case 401:return{code:2,message:"unauthenticated"};case 403:return{code:2,message:"permission_denied"};case 404:return{code:2,message:"not_found"};case 409:return{code:2,message:"already_exists"};case 413:return{code:2,message:"failed_precondition"};case 429:return{code:2,message:"resource_exhausted"};case 499:return{code:2,message:"cancelled"};default:return{code:2,message:"invalid_argument"}}if(a>=500&&a<600)switch(a){case 501:return{code:2,message:"unimplemented"};case 503:return{code:2,message:"unavailable"};case 504:return{code:2,message:"deadline_exceeded"}}return{code:2,message:"internal_error"}}function w(a,b){a.setAttribute("http.response.status_code",b);let c=v(b);"unknown_error"!==c.message&&a.setStatus(c)}a.s(["SPAN_STATUS_ERROR",()=>2,"SPAN_STATUS_OK",()=>1,"SPAN_STATUS_UNSET",()=>0,"getSpanStatusFromHttpCode",()=>v,"setHttpStatus",()=>w],14096);var x=a.i(73209);let y="_sentryScope",z="_sentryIsolationScope";function A(a,b,c){a&&((0,s.addNonEnumerableProperty)(a,z,function(a){try{let b=x.GLOBAL_OBJ.WeakRef;if("function"==typeof b)return new b(a)}catch{}return a}(c)),(0,s.addNonEnumerableProperty)(a,y,b))}function B(a){return{scope:a[y],isolationScope:function(a){if(a){if("object"==typeof a&&"deref"in a&&"function"==typeof a.deref)try{return a.deref()}catch{return}return a}}(a[z])}}a.s(["getCapturedScopesOnSpan",()=>B,"setCapturedScopesOnSpan",()=>A],68858);var C=a.i(64296),D=a.i(64344);function E(a){if("boolean"==typeof a)return Number(a);let b="string"==typeof a?parseFloat(a):a;if(!("number"!=typeof b||isNaN(b))&&!(b<0)&&!(b>1))return b}a.s(["parseSampleRate",()=>E],44424);let F=RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function G(a,b){let c=function(a){let b;if(!a)return;let c=a.match(F);if(c)return"1"===c[3]?b=!0:"0"===c[3]&&(b=!1),{traceId:c[1],parentSampled:b,parentSpanId:c[2]}}(a),d=(0,p.baggageHeaderToDynamicSamplingContext)(b);if(!c?.traceId)return{traceId:(0,C.generateTraceId)(),sampleRand:Math.random()};let e=function(a,b){let c=E(b?.sample_rand);if(void 0!==c)return c;let d=E(b?.sample_rate);return d&&a?.parentSampled!==void 0?a.parentSampled?Math.random()*d:d+Math.random()*(1-d):Math.random()}(c,d);d&&(d.sample_rand=e.toString());let{traceId:f,parentSpanId:g,parentSampled:h}=c;return{traceId:f,parentSpanId:g,sampled:h,dsc:d||{},sampleRand:e}}function H(a=(0,C.generateTraceId)(),b=(0,C.generateSpanId)(),c){let d="";return void 0!==c&&(d=c?"-1":"-0"),`${a}-${b}${d}`}function I(a=(0,C.generateTraceId)(),b=(0,C.generateSpanId)(),c){return`00-${a}-${b}-${c?"01":"00"}`}function J(a,b){let c=(0,q.extractOrgIdFromClient)(a);return b&&c&&b!==c?(i.debug.log(`Won't continue trace because org IDs don't match (incoming baggage: ${b}, SDK options: ${c})`),!1):!a.getOptions().strictTraceContinuation||(!b||!!c)&&(!!b||!c)||(i.debug.log(`Starting a new trace because strict trace continuation is enabled but one org ID is missing (incoming baggage: ${b}, Sentry client: ${c})`),!1)}a.s(["TRACEPARENT_REGEXP",()=>F,"generateSentryTraceHeader",()=>H,"generateTraceparentHeader",()=>I,"propagationContextFromHeaders",()=>G,"shouldContinueTrace",()=>J],71389);var K=a.i(8146);let L=!1;function M(a){let{spanId:b,traceId:c}=a.spanContext(),{data:d,op:e,parent_span_id:f,status:g,origin:h,links:i}=T(a);return{parent_span_id:f,span_id:b,trace_id:c,data:d,op:e,status:g,origin:h,links:i}}function N(a){let{spanId:b,traceId:c,isRemote:d}=a.spanContext(),e=d?b:T(a).parent_span_id,f=B(a).scope;return{parent_span_id:e,span_id:d?f?.getPropagationContext().propagationSpanId||(0,C.generateSpanId)():b,trace_id:c}}function O(a){let{traceId:b,spanId:c}=a.spanContext();return H(b,c,U(a))}function P(a){let{traceId:b,spanId:c}=a.spanContext();return I(b,c,U(a))}function Q(a){return a&&a.length>0?a.map(({context:{spanId:a,traceId:b,traceFlags:c,...d},attributes:e})=>({span_id:a,trace_id:b,sampled:1===c,attributes:e,...d})):void 0}function R(a){return"number"==typeof a?S(a):Array.isArray(a)?a[0]+a[1]/1e9:a instanceof Date?S(a.getTime()):(0,D.timestampInSeconds)()}function S(a){return a>0x2540be3ff?a/1e3:a}function T(a){var b;if("function"==typeof a.getSpanJSON)return a.getSpanJSON();let{spanId:c,traceId:d}=a.spanContext();if((b=a).attributes&&b.startTime&&b.name&&b.endTime&&b.status){let{attributes:b,startTime:e,name:f,endTime:g,status:h,links:i}=a;return{span_id:c,trace_id:d,data:b,description:f,parent_span_id:"parentSpanId"in a?a.parentSpanId:"parentSpanContext"in a?a.parentSpanContext?.spanId:void 0,start_timestamp:R(e),timestamp:R(g)||void 0,status:V(h),op:b[o.SEMANTIC_ATTRIBUTE_SENTRY_OP],origin:b[o.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN],links:Q(i)}}return{span_id:c,trace_id:d,start_timestamp:0,data:{}}}function U(a){let{traceFlags:b}=a.spanContext();return 1===b}function V(a){if(a&&0!==a.code)return 1===a.code?"ok":a.message||"internal_error"}let W="_sentryChildSpans",X="_sentryRootSpan";function Y(a,b){let c=a[X]||a;(0,s.addNonEnumerableProperty)(b,X,c),a[W]?a[W].add(b):(0,s.addNonEnumerableProperty)(a,W,new Set([b]))}function Z(a,b){a[W]&&a[W].delete(b)}function $(a){let b=new Set;return!function a(c){if(!b.has(c)&&U(c))for(let d of(b.add(c),c[W]?Array.from(c[W]):[]))a(d)}(a),Array.from(b)}function _(a){return a[X]||a}function aa(){let a=(0,u.getMainCarrier)(),b=(0,t.getAsyncContextStrategy)(a);return b.getActiveSpan?b.getActiveSpan():(0,K._getSpanForScope)((0,f.getCurrentScope)())}function ab(){L||((0,i.consoleSandbox)(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly or use `ignoreSpans`.")}),L=!0)}function ac(a,b){a.updateName(b),a.setAttributes({[o.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:"custom",[o.SEMANTIC_ATTRIBUTE_SENTRY_CUSTOM_SPAN_NAME]:b})}a.s(["TRACE_FLAG_NONE",()=>0,"TRACE_FLAG_SAMPLED",()=>1,"addChildSpanToSpan",()=>Y,"convertSpanLinksForEnvelope",()=>Q,"getActiveSpan",()=>aa,"getRootSpan",()=>_,"getSpanDescendants",()=>$,"getStatusMessage",()=>V,"removeChildSpanFromSpan",()=>Z,"showSpanDropWarning",()=>ab,"spanIsSampled",()=>U,"spanTimeInputToSeconds",()=>R,"spanToJSON",()=>T,"spanToTraceContext",()=>N,"spanToTraceHeader",()=>O,"spanToTraceparentHeader",()=>P,"spanToTransactionTraceContext",()=>M,"updateSpanName",()=>ac],27405);let ad="_frozenDsc";function ae(a,b){(0,s.addNonEnumerableProperty)(a,ad,b)}function af(a,b){let c=b.getOptions(),{publicKey:d}=b.getDsn()||{},e={environment:c.environment||l.DEFAULT_ENVIRONMENT,release:c.release,public_key:d,trace_id:a,org_id:(0,q.extractOrgIdFromClient)(b)};return b.emit("createDsc",e),e}function ag(a,b){let c=b.getPropagationContext();return c.dsc||af(c.traceId,a)}function ah(a){let b=(0,f.getClient)();if(!b)return{};let c=_(a),d=T(c),e=d.data,g=c.spanContext().traceState,h=g?.get("sentry.sample_rate")??e[o.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE]??e[o.SEMANTIC_ATTRIBUTE_SENTRY_PREVIOUS_TRACE_SAMPLE_RATE];function i(a){return("number"==typeof h||"string"==typeof h)&&(a.sample_rate=`${h}`),a}let j=c[ad];if(j)return i(j);let k=g?.get("sentry.dsc"),l=k&&(0,p.baggageHeaderToDynamicSamplingContext)(k);if(l)return i(l);let m=af(a.spanContext().traceId,b),n=e[o.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE],q=d.description;return"url"!==n&&q&&(m.transaction=q),(0,r.hasSpansEnabled)()&&(m.sampled=String(U(c)),m.sample_rand=g?.get("sentry.sample_rand")??B(c).scope?.getPropagationContext().sampleRand.toString()),i(m),b.emit("createDsc",m,c),m}function ai(a){let b=ah(a);return(0,p.dynamicSamplingContextToSentryBaggageHeader)(b)}a.s(["freezeDscOnSpan",()=>ae,"getDynamicSamplingContextFromScope",()=>ag,"getDynamicSamplingContextFromSpan",()=>ah,"spanToBaggageHeader",()=>ai],50889);var aj=a.i(44751);function ak(a,b){var c,d,e,f,g,h,i,j;let k,l,{fingerprint:m,span:n,breadcrumbs:o,sdkProcessingMetadata:p}=b;(function(a,b){let{extra:c,tags:d,user:e,contexts:f,level:g,transactionName:h}=b;Object.keys(c).length&&(a.extra={...c,...a.extra}),Object.keys(d).length&&(a.tags={...d,...a.tags}),Object.keys(e).length&&(a.user={...e,...a.user}),Object.keys(f).length&&(a.contexts={...f,...a.contexts}),g&&(a.level=g),h&&"transaction"!==a.type&&(a.transaction=h)})(a,b),n&&((c=a).contexts={trace:N(d=n),...c.contexts},c.sdkProcessingMetadata={dynamicSamplingContext:ah(d),...c.sdkProcessingMetadata},(k=T(_(d)).description)&&!c.transaction&&"transaction"===c.type&&(c.transaction=k)),e=a,f=m,e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],f&&(e.fingerprint=e.fingerprint.concat(f)),e.fingerprint.length||delete e.fingerprint,g=a,h=o,l=[...g.breadcrumbs||[],...h],g.breadcrumbs=l.length?l:void 0,i=a,j=p,i.sdkProcessingMetadata={...i.sdkProcessingMetadata,...j}}function al(a,b){let{extra:c,tags:d,user:e,contexts:f,level:g,sdkProcessingMetadata:h,breadcrumbs:i,fingerprint:j,eventProcessors:k,attachments:l,propagationContext:m,transactionName:n,span:o}=b;am(a,"extra",c),am(a,"tags",d),am(a,"user",e),am(a,"contexts",f),a.sdkProcessingMetadata=(0,aj.merge)(a.sdkProcessingMetadata,h,2),g&&(a.level=g),n&&(a.transactionName=n),o&&(a.span=o),i.length&&(a.breadcrumbs=[...a.breadcrumbs,...i]),j.length&&(a.fingerprint=[...a.fingerprint,...j]),k.length&&(a.eventProcessors=[...a.eventProcessors,...k]),l.length&&(a.attachments=[...a.attachments,...l]),a.propagationContext={...a.propagationContext,...m}}function am(a,b,c){a[b]=(0,aj.merge)(a[b],c,1)}function an(a){let f=x.GLOBAL_OBJ._sentryDebugIds,g=x.GLOBAL_OBJ._debugIds;if(!f&&!g)return{};let h=f?Object.keys(f):[],i=g?Object.keys(g):[];if(e&&h.length===c&&i.length===d)return e;c=h.length,d=i.length,e={},b||(b={});let j=(c,d)=>{for(let f of c){let c=d[f],g=b?.[f];if(g&&e&&c)e[g[0]]=c,b&&(b[f]=[g[0],c]);else if(c){let d=a(f);for(let a=d.length-1;a>=0;a--){let g=d[a],h=g?.filename;if(h&&e&&b){e[h]=c,b[f]=[h,c];break}}}}};return f&&j(h,f),g&&j(i,g),e}function ao(a,b){let c=an(a);if(!c)return[];let d=[];for(let a of b)a&&c[a]&&d.push({type:"sourcemap",code_file:a,debug_id:c[a]});return d}a.s(["applyScopeDataToEvent",()=>ak,"mergeScopeData",()=>al],13752),a.s(["getDebugImagesForResources",()=>ao,"getFilenameToDebugIdMap",()=>an],9062);var ap=a.i(93481);function aq(b,c=100,d=Infinity){try{return function b(c,d,e=Infinity,f=Infinity,g=function(){let a=new WeakSet;return[function(b){return!!a.has(b)||(a.add(b),!1)},function(b){a.delete(b)}]}()){let[h,i]=g;if(null==d||["boolean","string"].includes(typeof d)||"number"==typeof d&&Number.isFinite(d))return d;let k=function(b,c){try{var d;let e;if("domain"===b&&c&&"object"==typeof c&&c._events)return"[Domain]";if("domainEmitter"===b)return"[DomainEmitter]";if(c===a.g)return"[Global]";if("undefined"!=typeof document&&c===document)return"[Document]";if((0,j.isVueViewModel)(c))return(0,ap.getVueInternalName)(c);if((0,j.isSyntheticEvent)(c))return"[SyntheticEvent]";if("number"==typeof c&&!Number.isFinite(c))return`[${c}]`;if("function"==typeof c)return`[Function: ${(0,ap.getFunctionName)(c)}]`;if("symbol"==typeof c)return`[${String(c)}]`;if("bigint"==typeof c)return`[BigInt: ${String(c)}]`;let f=(d=c,e=Object.getPrototypeOf(d),e?.constructor?e.constructor.name:"null prototype");if(/^HTML(\w*)Element$/.test(f))return`[HTMLElement: ${f}]`;return`[object ${f}]`}catch(a){return`**non-serializable** (${a})`}}(c,d);if(!k.startsWith("[object "))return k;if(d.__sentry_skip_normalization__)return d;let l="number"==typeof d.__sentry_override_normalization_depth__?d.__sentry_override_normalization_depth__:e;if(0===l)return k.replace("object ","");if(h(d))return"[Circular ~]";if(d&&"function"==typeof d.toJSON)try{let a=d.toJSON();return b("",a,l-1,f,g)}catch{}let m=Array.isArray(d)?[]:{},n=0,o=(0,s.convertToPlainObject)(d);for(let a in o){if(!Object.prototype.hasOwnProperty.call(o,a))continue;if(n>=f){m[a]="[MaxProperties ~]";break}let c=o[a];m[a]=b(a,c,l-1,f,g),n++}return i(d),m}("",b,c,d)}catch(a){return{ERROR:`**non-serializable** (${a})`}}}a.s(["normalize",()=>aq,"normalizeToSize",()=>function a(b,c=3,d=102400){let e=aq(b,c);return~-encodeURI(JSON.stringify(e)).split(/%..|./).length>d?a(b,c-1,d):e}],74009);var ar=a.i(41188);function as(a,b,c,d,e,g){var h,i,j;let o,{normalizeDepth:p=3,normalizeMaxBreadth:q=1e3}=a,r={...b,event_id:b.event_id||c.event_id||(0,k.uuid4)(),timestamp:b.timestamp||(0,D.dateTimestampInSeconds)()},s=c.integrations||a.integrations.map(a=>a.name);(function(a,b){let{environment:c,release:d,dist:e,maxValueLength:f}=b;a.environment=a.environment||c||l.DEFAULT_ENVIRONMENT,!a.release&&d&&(a.release=d),!a.dist&&e&&(a.dist=e);let g=a.request;g?.url&&(g.url=f?(0,ar.truncate)(g.url,f):g.url)})(r,a),h=r,(i=s).length>0&&(h.sdk=h.sdk||{},h.sdk.integrations=[...h.sdk.integrations||[],...i]),e&&e.emit("applyFrameMetadata",b),void 0===b.type&&(j=r,o=an(a.stackParser),j.exception?.values?.forEach(a=>{a.stacktrace?.frames?.forEach(a=>{a.filename&&(a.debug_id=o[a.filename])})}));let t=function(a,b){if(!b)return a;let c=a?a.clone():new n.Scope;return c.update(b),c}(d,c.captureContext);c.mechanism&&(0,k.addExceptionMechanism)(r,c.mechanism);let u=e?e.getEventProcessors():[],v=(0,f.getGlobalScope)().getScopeData();g&&al(v,g.getScopeData()),t&&al(v,t.getScopeData());let w=[...c.attachments||[],...v.attachments];w.length&&(c.attachments=w),ak(r,v);let x=[...u,...v.eventProcessors];return(0,m.notifyEventProcessors)(x,r,c).then(a=>(a&&function(a){let b={};if(a.exception?.values?.forEach(a=>{a.stacktrace?.frames?.forEach(a=>{a.debug_id&&(a.abs_path?b[a.abs_path]=a.debug_id:a.filename&&(b[a.filename]=a.debug_id),delete a.debug_id)})}),0===Object.keys(b).length)return;a.debug_meta=a.debug_meta||{},a.debug_meta.images=a.debug_meta.images||[];let c=a.debug_meta.images;Object.entries(b).forEach(([a,b])=>{c.push({type:"sourcemap",code_file:a,debug_id:b})})}(a),"number"==typeof p&&p>0)?function(a,b,c){if(!a)return null;let d={...a,...a.breadcrumbs&&{breadcrumbs:a.breadcrumbs.map(a=>({...a,...a.data&&{data:aq(a.data,b,c)}}))},...a.user&&{user:aq(a.user,b,c)},...a.contexts&&{contexts:aq(a.contexts,b,c)},...a.extra&&{extra:aq(a.extra,b,c)}};return a.contexts?.trace&&d.contexts&&(d.contexts.trace=a.contexts.trace,a.contexts.trace.data&&(d.contexts.trace.data=aq(a.contexts.trace.data,b,c))),a.spans&&(d.spans=a.spans.map(a=>({...a,...a.data&&{data:aq(a.data,b,c)}}))),a.contexts?.flags&&d.contexts&&(d.contexts.flags=aq(a.contexts.flags,3,c)),d}(a,p,q):a)}function at(a){if(a){var b;return(b=a)instanceof n.Scope||"function"==typeof b||Object.keys(a).some(a=>au.includes(a))?{captureContext:a}:a}}let au=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function av(a,b){return(0,f.getCurrentScope)().captureException(a,at(b))}function aw(a,b){let c="string"==typeof b?b:void 0,d="string"!=typeof b?{captureContext:b}:void 0;return(0,f.getCurrentScope)().captureMessage(a,c,d)}function ax(a,b){return(0,f.getCurrentScope)().captureEvent(a,b)}function ay(a,b){(0,f.getIsolationScope)().setContext(a,b)}function az(a){(0,f.getIsolationScope)().setExtras(a)}function aA(a,b){(0,f.getIsolationScope)().setExtra(a,b)}function aB(a){(0,f.getIsolationScope)().setTags(a)}function aC(a,b){(0,f.getIsolationScope)().setTag(a,b)}function aD(a){(0,f.getIsolationScope)().setUser(a)}function aE(){return(0,f.getIsolationScope)().lastEventId()}function aF(a,b){let c=(0,f.getCurrentScope)(),d=(0,f.getClient)();if(d)if(d.captureCheckIn)return d.captureCheckIn(a,b,c);else g.DEBUG_BUILD&&i.debug.warn("Cannot capture check-in. Client does not support sending check-ins.");else g.DEBUG_BUILD&&i.debug.warn("Cannot capture check-in. No client defined.");return(0,k.uuid4)()}function aG(a,b,c){let d=aF({monitorSlug:a,status:"in_progress"},c),e=(0,D.timestampInSeconds)();function g(b){aF({monitorSlug:a,status:b,checkInId:d,duration:(0,D.timestampInSeconds)()-e})}return(0,f.withIsolationScope)(()=>{let a;try{a=b()}catch(a){throw g("error"),a}return(0,j.isThenable)(a)?a.then(a=>(g("ok"),a),a=>{throw g("error"),a}):(g("ok"),a)})}async function aH(a){let b=(0,f.getClient)();return b?b.flush(a):(g.DEBUG_BUILD&&i.debug.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}async function aI(a){let b=(0,f.getClient)();return b?b.close(a):(g.DEBUG_BUILD&&i.debug.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function aJ(){return!!(0,f.getClient)()}function aK(){let a=(0,f.getClient)();return a?.getOptions().enabled!==!1&&!!a?.getTransport()}function aL(a){(0,f.getIsolationScope)().addEventProcessor(a)}function aM(a){let b=(0,f.getIsolationScope)(),c=(0,f.getCurrentScope)(),{userAgent:d}=x.GLOBAL_OBJ.navigator||{},e=(0,h.makeSession)({user:c.getUser()||b.getUser(),...d&&{userAgent:d},...a}),g=b.getSession();return g?.status==="ok"&&(0,h.updateSession)(g,{status:"exited"}),aN(),b.setSession(e),e}function aN(){let a=(0,f.getIsolationScope)(),b=(0,f.getCurrentScope)().getSession()||a.getSession();b&&(0,h.closeSession)(b),aO(),a.setSession()}function aO(){let a=(0,f.getIsolationScope)(),b=(0,f.getClient)(),c=a.getSession();c&&b&&b.captureSession(c)}function aP(a=!1){a?aN():aO()}a.s(["parseEventHintOrCaptureContext",()=>at,"prepareEvent",()=>as],84716),a.s(["addEventProcessor",()=>aL,"captureCheckIn",()=>aF,"captureEvent",()=>ax,"captureException",()=>av,"captureMessage",()=>aw,"captureSession",()=>aP,"close",()=>aI,"endSession",()=>aN,"flush",()=>aH,"isEnabled",()=>aK,"isInitialized",()=>aJ,"lastEventId",()=>aE,"setContext",()=>ay,"setExtra",()=>aA,"setExtras",()=>az,"setTag",()=>aC,"setTags",()=>aB,"setUser",()=>aD,"startSession",()=>aM,"withMonitor",()=>aG],9206)},54716,a=>{"use strict";var b=a.i(16267),c=a.i(15740),d=a.i(42055),e=a.i(9206),f=a.i(57456),g=a.i(27405),h=a.i(50889),i=a.i(40925),j=a.i(71389);function k(a={}){let l=a.client||(0,d.getClient)();if(!(0,e.isEnabled)()||!l)return{};let m=(0,c.getMainCarrier)(),n=(0,b.getAsyncContextStrategy)(m);if(n.getTraceData)return n.getTraceData(a);let o=a.scope||(0,d.getCurrentScope)(),p=a.span||(0,g.getActiveSpan)(),q=p?(0,g.spanToTraceHeader)(p):function(a){let{traceId:b,sampled:c,propagationSpanId:d}=a.getPropagationContext();return(0,j.generateSentryTraceHeader)(b,d,c)}(o),r=p?(0,h.getDynamicSamplingContextFromSpan)(p):(0,h.getDynamicSamplingContextFromScope)(l,o),s=(0,i.dynamicSamplingContextToSentryBaggageHeader)(r);if(!j.TRACEPARENT_REGEXP.test(q))return f.debug.warn("Invalid sentry-trace data. Cannot generate trace data"),{};let t={"sentry-trace":q,baggage:s};if(a.propagateTraceparent){let a=p?(0,g.spanToTraceparentHeader)(p):function(a){let{traceId:b,sampled:c,propagationSpanId:d}=a.getPropagationContext();return(0,j.generateTraceparentHeader)(b,d,c)}(o);a&&(t.traceparent=a)}return t}a.s(["getTraceData",()=>k])},65216,a=>{"use strict";function b(a){return"isRelative"in a}function c(a,b){let c=0>=a.indexOf("://")&&0!==a.indexOf("//"),d=b??(c?"thismessage:/":void 0);try{if("canParse"in URL&&!URL.canParse(a,d))return;let b=new URL(a,d);if(c)return{isRelative:c,pathname:b.pathname,search:b.search,hash:b.hash};return b}catch{}}function d(a){if(b(a))return a.pathname;let c=new URL(a);return c.search="",c.hash="",["80","443"].includes(c.port)&&(c.port=""),c.password&&(c.password="%filtered%"),c.username&&(c.username="%filtered%"),c.toString()}function e(a){if(!a)return{};let b=a.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!b)return{};let c=b[6]||"",d=b[8]||"";return{host:b[4],path:b[5],protocol:b[2],search:c,hash:d,relative:b[5]+c+d}}function f(a){return a.split(/[?#]/,1)[0]}function g(a){let{protocol:b,host:c,path:d}=a,e=c?.replace(/^.*@/,"[filtered]:[filtered]@").replace(/(:80)$/,"").replace(/(:443)$/,"")||"";return`${b?`${b}://`:""}${e}${d}`}a.i(51326),a.s(["getSanitizedUrlString",()=>g,"getSanitizedUrlStringFromUrlObject",()=>d,"isURLObjectRelative",()=>b,"parseStringToURLObject",()=>c,"parseUrl",()=>e,"stripUrlQueryAndFragment",()=>f])},95470,a=>{"use strict";var b=a.i(65216);function c(a,c){var e,f,g,h;let i,j=c?.getDsn(),k=c?.getOptions().tunnel;return e=a,f=j,!(!(i=(0,b.parseStringToURLObject)(e))||(0,b.isURLObjectRelative)(i))&&!!f&&i.host.includes(f.host)&&/(^|&|\?)sentry_key=/.test(i.search)||(g=a,!!(h=k)&&d(g)===d(h))}function d(a){return"/"===a[a.length-1]?a.slice(0,-1):a}a.s(["isSentryRequestUrl",()=>c])},61923,a=>{"use strict";var b=a.i(3237);function c(a,d,e=()=>{},f=()=>{}){var g,h,i,j;let k;try{k=a()}catch(a){throw d(a),e(),a}return g=k,h=d,i=e,j=f,(0,b.isThenable)(g)?g.then(a=>(i(),j(a),a),a=>{throw h(a),i(),a}):(i(),j(g),g)}a.s(["handleCallbackErrors",()=>c])},73034,a=>{"use strict";function b(a,b,c){let d,e,f,g=c?.maxWait?Math.max(c.maxWait,b):0,h=c?.setTimeoutImpl||setTimeout;function i(){return j(),d=a()}function j(){void 0!==e&&clearTimeout(e),void 0!==f&&clearTimeout(f),e=f=void 0}function k(){return e&&clearTimeout(e),e=h(i,b),g&&void 0===f&&(f=h(i,g)),d}return k.cancel=j,k.flush=function(){return void 0!==e||void 0!==f?i():d},k}a.s(["debounce",()=>b])},81281,a=>{"use strict";var b=a.i(41225),c=a.i(51326),d=a.i(57456),e=a.i(27405);function f(a,g,h,i=(0,e.getActiveSpan)()){let j=i&&(0,e.getRootSpan)(i);j&&(b.DEBUG_BUILD&&d.debug.log(`[Measurement] Setting measurement on root span: ${a} = ${g} ${h}`),j.addEvent(a,{[c.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE]:g,[c.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT]:h}))}function g(a){if(!a||0===a.length)return;let b={};return a.forEach(a=>{let d=a.attributes||{},e=d[c.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT],f=d[c.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE];"string"==typeof e&&"number"==typeof f&&(b[a.name]={value:f,unit:e})}),b}a.s(["setMeasurement",()=>f,"timedEventsToMeasurements",()=>g])},42476,16569,16455,a=>{"use strict";var b=a.i(41225),c=a.i(57456),d=a.i(27405);function e(a){if(!b.DEBUG_BUILD)return;let{description:e="< unknown name >",op:f="< unknown op >",parent_span_id:g}=(0,d.spanToJSON)(a),{spanId:h}=a.spanContext(),i=(0,d.spanIsSampled)(a),j=(0,d.getRootSpan)(a),k=j===a,l=`[Tracing] Starting ${i?"sampled":"unsampled"} ${k?"root ":""}span`,m=[`op: ${f}`,`name: ${e}`,`ID: ${h}`];if(g&&m.push(`parent ID: ${g}`),!k){let{op:a,description:b}=(0,d.spanToJSON)(j);m.push(`root ID: ${j.spanContext().spanId}`),a&&m.push(`root op: ${a}`),b&&m.push(`root description: ${b}`)}c.debug.log(`${l}
  ${m.join("\n  ")}`)}function f(a){if(!b.DEBUG_BUILD)return;let{description:e="< unknown name >",op:f="< unknown op >"}=(0,d.spanToJSON)(a),{spanId:g}=a.spanContext(),h=(0,d.getRootSpan)(a)===a,i=`[Tracing] Finishing "${f}" ${h?"root ":""}span "${e}" with ID ${g}`;c.debug.log(i)}a.s(["logSpanEnd",()=>f,"logSpanStart",()=>e],42476);var g=a.i(30682),h=a.i(44424);function i(a,d,e){let f,i;if(!(0,g.hasSpansEnabled)(a))return[!1];"function"==typeof a.tracesSampler?(f=a.tracesSampler({...d,inheritOrSampleWith:a=>"number"==typeof d.parentSampleRate?d.parentSampleRate:"boolean"==typeof d.parentSampled?Number(d.parentSampled):a}),i=!0):void 0!==d.parentSampled?f=d.parentSampled:void 0!==a.tracesSampleRate&&(f=a.tracesSampleRate,i=!0);let j=(0,h.parseSampleRate)(f);if(void 0===j)return b.DEBUG_BUILD&&c.debug.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(f)} of type ${JSON.stringify(typeof f)}.`),[!1];if(!j)return b.DEBUG_BUILD&&c.debug.log(`[Tracing] Discarding transaction because ${"function"==typeof a.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,j,i];let k=e<j;return!k&&b.DEBUG_BUILD&&c.debug.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(f)})`),[k,j,i]}a.s(["sampleSpan",()=>i],16569);var j=a.i(64296);class k{constructor(a={}){this._traceId=a.traceId||(0,j.generateTraceId)(),this._spanId=a.spanId||(0,j.generateSpanId)()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:d.TRACE_FLAG_NONE}}end(a){}setAttribute(a,b){return this}setAttributes(a){return this}setStatus(a){return this}updateName(a){return this}isRecording(){return!1}addEvent(a,b,c){return this}addLink(a){return this}addLinks(a){return this}recordException(a,b){}}a.s(["SentryNonRecordingSpan",()=>k],16455)},78471,a=>{"use strict";var b=a.i(15740),c=a.i(91006),d=a.i(74009),e=a.i(73209);function f(a,b=[]){return[a,b]}function g(a,b){let[c,d]=a;return[c,[...d,b]]}function h(a,b){for(let c of a[1]){let a=c[0].type;if(b(c,a))return!0}return!1}function i(a,b){return h(a,(a,c)=>b.includes(c))}function j(a){let c=(0,b.getSentryCarrier)(e.GLOBAL_OBJ);return c.encodePolyfill?c.encodePolyfill(a):new TextEncoder().encode(a)}function k(a){let[b,c]=a,e=JSON.stringify(b);function f(a){"string"==typeof e?e="string"==typeof a?e+a:[j(e),a]:e.push("string"==typeof a?j(a):a)}for(let a of c){let[b,c]=a;if(f(`
${JSON.stringify(b)}
`),"string"==typeof c||c instanceof Uint8Array)f(c);else{let a;try{a=JSON.stringify(c)}catch{a=JSON.stringify((0,d.normalize)(c))}f(a)}}return"string"==typeof e?e:function(a){let b=new Uint8Array(a.reduce((a,b)=>a+b.length,0)),c=0;for(let d of a)b.set(d,c),c+=d.length;return b}(e)}function l(a){let c="string"==typeof a?j(a):a;function d(a){let b=c.subarray(0,a);return c=c.subarray(a+1),b}function f(){var a;let f,g=c.indexOf(10);return g<0&&(g=c.length),JSON.parse((a=d(g),(f=(0,b.getSentryCarrier)(e.GLOBAL_OBJ)).decodePolyfill?f.decodePolyfill(a):new TextDecoder().decode(a)))}let g=f(),h=[];for(;c.length;){let a=f(),b="number"==typeof a.length?a.length:void 0;h.push([a,b?d(b):f()])}return[g,h]}function m(a){return[{type:"span"},a]}function n(a){let b="string"==typeof a.data?j(a.data):a.data;return[{type:"attachment",length:b.length,filename:a.filename,content_type:a.contentType,attachment_type:a.attachmentType},b]}let o={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item",metric:"metric",trace_metric:"metric"};function p(a){return o[a]}function q(a){if(!a?.sdk)return;let{name:b,version:c}=a.sdk;return{name:b,version:c}}function r(a,b,d,e){let f=a.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:a.event_id,sent_at:new Date().toISOString(),...b&&{sdk:b},...!!d&&e&&{dsn:(0,c.dsnToString)(e)},...f&&{trace:f}}}a.s(["addItemToEnvelope",()=>g,"createAttachmentEnvelopeItem",()=>n,"createEnvelope",()=>f,"createEventEnvelopeHeaders",()=>r,"createSpanEnvelopeItem",()=>m,"envelopeContainsItemType",()=>i,"envelopeItemTypeToDataCategory",()=>p,"forEachEnvelopeItem",()=>h,"getSdkMetadataForEnvelopeHeader",()=>q,"parseEnvelope",()=>l,"serializeEnvelope",()=>k])},81857,26584,a=>{"use strict";var b=a.i(50889),c=a.i(91006),d=a.i(78471),e=a.i(41225),f=a.i(57456),g=a.i(41188);function h(a){f.debug.log(`Ignoring span ${a.op} - ${a.description} because it matches \`ignoreSpans\`.`)}function i(a,b){if(!b?.length||!a.description)return!1;for(let d of b){var c;if("string"==typeof(c=d)||c instanceof RegExp){if((0,g.isMatchingPattern)(a.description,d))return e.DEBUG_BUILD&&h(a),!0;continue}if(!d.name&&!d.op)continue;let b=!d.name||(0,g.isMatchingPattern)(a.description,d.name),f=!d.op||a.op&&(0,g.isMatchingPattern)(a.op,d.op);if(b&&f)return e.DEBUG_BUILD&&h(a),!0}return!1}function j(a,b){let c=b.parent_span_id,d=b.span_id;if(c)for(let b of a)b.parent_span_id===d&&(b.parent_span_id=c)}a.s(["reparentChildSpans",()=>j,"shouldIgnoreSpan",()=>i],26584);var k=a.i(27405);function l(a,b,e,f){let g=(0,d.getSdkMetadataForEnvelopeHeader)(e),h={sent_at:new Date().toISOString(),...g&&{sdk:g},...!!f&&b&&{dsn:(0,c.dsnToString)(b)}},i="aggregates"in a?[{type:"sessions"},a]:[{type:"session"},a.toJSON()];return(0,d.createEnvelope)(h,[i])}function m(a,b,c,e){let f=(0,d.getSdkMetadataForEnvelopeHeader)(c),g=a.type&&"replay_event"!==a.type?a.type:"event";!function(a,b){if(!b)return;let c=a.sdk||{};a.sdk={...c,name:c.name||b.name,version:c.version||b.version,integrations:[...a.sdk?.integrations||[],...b.integrations||[]],packages:[...a.sdk?.packages||[],...b.packages||[]],settings:a.sdk?.settings||b.settings?{...a.sdk?.settings,...b.settings}:void 0}}(a,c?.sdk);let h=(0,d.createEventEnvelopeHeaders)(a,f,e,b);delete a.sdkProcessingMetadata;let i=[{type:g},a];return(0,d.createEnvelope)(h,[i])}function n(a,e){let f=(0,b.getDynamicSamplingContextFromSpan)(a[0]),g=e?.getDsn(),h=e?.getOptions().tunnel,j={sent_at:new Date().toISOString(),...!!f.trace_id&&!!f.public_key&&{trace:f},...!!h&&g&&{dsn:(0,c.dsnToString)(g)}},{beforeSendSpan:l,ignoreSpans:m}=e?.getOptions()||{},n=m?.length?a.filter(a=>!i((0,k.spanToJSON)(a),m)):a,o=a.length-n.length;o&&e?.recordDroppedEvent("before_send","span",o);let p=l?a=>{let b=(0,k.spanToJSON)(a),c=l(b);return c||((0,k.showSpanDropWarning)(),b)}:k.spanToJSON,q=[];for(let a of n){let b=p(a);b&&q.push((0,d.createSpanEnvelopeItem)(b))}return(0,d.createEnvelope)(j,q)}a.s(["createEventEnvelope",()=>m,"createSessionEnvelope",()=>l,"createSpanEnvelope",()=>n],81857)},13116,3674,a=>{"use strict";var b=a.i(16267),c=a.i(15740),d=a.i(42055),e=a.i(41225),f=a.i(51326),g=a.i(40925),h=a.i(57456),i=a.i(61923),j=a.i(30682),k=a.i(44424),l=a.i(64296),m=a.i(8146),n=a.i(27405),o=a.i(71389),p=a.i(50889),q=a.i(42476),r=a.i(16569),s=a.i(16455),t=a.i(81857),u=a.i(64344),v=a.i(81281),w=a.i(68858);class x{constructor(a={}){this._traceId=a.traceId||(0,l.generateTraceId)(),this._spanId=a.spanId||(0,l.generateSpanId)(),this._startTime=a.startTimestamp||(0,u.timestampInSeconds)(),this._links=a.links,this._attributes={},this.setAttributes({[f.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"manual",[f.SEMANTIC_ATTRIBUTE_SENTRY_OP]:a.op,...a.attributes}),this._name=a.name,a.parentSpanId&&(this._parentSpanId=a.parentSpanId),"sampled"in a&&(this._sampled=a.sampled),a.endTimestamp&&(this._endTime=a.endTimestamp),this._events=[],this._isStandaloneSpan=a.isStandalone,this._endTime&&this._onSpanEnded()}addLink(a){return this._links?this._links.push(a):this._links=[a],this}addLinks(a){return this._links?this._links.push(...a):this._links=a,this}recordException(a,b){}spanContext(){let{_spanId:a,_traceId:b,_sampled:c}=this;return{spanId:a,traceId:b,traceFlags:c?n.TRACE_FLAG_SAMPLED:n.TRACE_FLAG_NONE}}setAttribute(a,b){return void 0===b?delete this._attributes[a]:this._attributes[a]=b,this}setAttributes(a){return Object.keys(a).forEach(b=>this.setAttribute(b,a[b])),this}updateStartTime(a){this._startTime=(0,n.spanTimeInputToSeconds)(a)}setStatus(a){return this._status=a,this}updateName(a){return this._name=a,this.setAttribute(f.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,"custom"),this}end(a){this._endTime||(this._endTime=(0,n.spanTimeInputToSeconds)(a),(0,q.logSpanEnd)(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[f.SEMANTIC_ATTRIBUTE_SENTRY_OP],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:(0,n.getStatusMessage)(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[f.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN],profile_id:this._attributes[f.SEMANTIC_ATTRIBUTE_PROFILE_ID],exclusive_time:this._attributes[f.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME],measurements:(0,v.timedEventsToMeasurements)(this._events),is_segment:this._isStandaloneSpan&&(0,n.getRootSpan)(this)===this||void 0,segment_id:this._isStandaloneSpan?(0,n.getRootSpan)(this).spanContext().spanId:void 0,links:(0,n.convertSpanLinksForEnvelope)(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(a,b,c){e.DEBUG_BUILD&&h.debug.log("[Tracing] Adding an event to span:",a);let d=y(b)?b:c||(0,u.timestampInSeconds)(),f=y(b)?{}:b||{},g={name:a,time:(0,n.spanTimeInputToSeconds)(d),attributes:f};return this._events.push(g),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){let a=(0,d.getClient)();if(a&&a.emit("spanEnd",this),!(this._isStandaloneSpan||this===(0,n.getRootSpan)(this)))return;if(this._isStandaloneSpan)return void(this._sampled?function(a){let b=(0,d.getClient)();if(!b)return;let c=a[1];c&&0!==c.length?b.sendEnvelope(a):b.recordDroppedEvent("before_send","span")}((0,t.createSpanEnvelope)([this],a)):(e.DEBUG_BUILD&&h.debug.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),a&&a.recordDroppedEvent("sample_rate","span")));let b=this._convertSpanToTransaction();b&&((0,w.getCapturedScopesOnSpan)(this).scope||(0,d.getCurrentScope)()).captureEvent(b)}_convertSpanToTransaction(){if(!z((0,n.spanToJSON)(this)))return;this._name||(e.DEBUG_BUILD&&h.debug.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");let{scope:a,isolationScope:b}=(0,w.getCapturedScopesOnSpan)(this),c=a?.getScopeData().sdkProcessingMetadata?.normalizedRequest;if(!0!==this._sampled)return;let d=(0,n.getSpanDescendants)(this).filter(a=>{var b;return a!==this&&!((b=a)instanceof x&&b.isStandaloneSpan())}).map(a=>(0,n.spanToJSON)(a)).filter(z),g=this._attributes[f.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE];delete this._attributes[f.SEMANTIC_ATTRIBUTE_SENTRY_CUSTOM_SPAN_NAME],d.forEach(a=>{delete a.data[f.SEMANTIC_ATTRIBUTE_SENTRY_CUSTOM_SPAN_NAME]});let i={contexts:{trace:(0,n.spanToTransactionTraceContext)(this)},spans:d.length>1e3?d.sort((a,b)=>a.start_timestamp-b.start_timestamp).slice(0,1e3):d,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:a,capturedSpanIsolationScope:b,dynamicSamplingContext:(0,p.getDynamicSamplingContextFromSpan)(this)},request:c,...g&&{transaction_info:{source:g}}},j=(0,v.timedEventsToMeasurements)(this._events);return j&&Object.keys(j).length&&(e.DEBUG_BUILD&&h.debug.log("[Measurements] Adding measurements to transaction event",JSON.stringify(j,void 0,2)),i.measurements=j),i}}function y(a){return a&&"number"==typeof a||a instanceof Date||Array.isArray(a)}function z(a){return!!a.start_timestamp&&!!a.timestamp&&!!a.span_id&&!!a.trace_id}a.s(["SentrySpan",()=>x],3674);var A=a.i(14096);let B="__SENTRY_SUPPRESS_TRACING__";function C(a,b){let c=L();if(c.startSpan)return c.startSpan(a,b);let e=K(a),{forceTransaction:f,parentSpan:g,scope:h}=a,j=h?.clone();return(0,d.withScope)(j,()=>O(g)(()=>{let c=(0,d.getCurrentScope)(),h=N(c,g),j=a.onlyIfParent&&!h?new s.SentryNonRecordingSpan:J({parentSpan:h,spanArguments:e,forceTransaction:f,scope:c});return(0,m._setSpanForScope)(c,j),(0,i.handleCallbackErrors)(()=>b(j),()=>{let{status:a}=(0,n.spanToJSON)(j);j.isRecording()&&(!a||"ok"===a)&&j.setStatus({code:A.SPAN_STATUS_ERROR,message:"internal_error"})},()=>{j.end()})}))}function D(a,b){let c=L();if(c.startSpanManual)return c.startSpanManual(a,b);let e=K(a),{forceTransaction:f,parentSpan:g,scope:h}=a,j=h?.clone();return(0,d.withScope)(j,()=>O(g)(()=>{let c=(0,d.getCurrentScope)(),h=N(c,g),j=a.onlyIfParent&&!h?new s.SentryNonRecordingSpan:J({parentSpan:h,spanArguments:e,forceTransaction:f,scope:c});return(0,m._setSpanForScope)(c,j),(0,i.handleCallbackErrors)(()=>b(j,()=>j.end()),()=>{let{status:a}=(0,n.spanToJSON)(j);j.isRecording()&&(!a||"ok"===a)&&j.setStatus({code:A.SPAN_STATUS_ERROR,message:"internal_error"})})}))}function E(a){let b=L();if(b.startInactiveSpan)return b.startInactiveSpan(a);let c=K(a),{forceTransaction:e,parentSpan:f}=a;return(a.scope?b=>(0,d.withScope)(a.scope,b):void 0!==f?a=>G(f,a):a=>a())(()=>{let b=(0,d.getCurrentScope)(),g=N(b,f);return a.onlyIfParent&&!g?new s.SentryNonRecordingSpan:J({parentSpan:g,spanArguments:c,forceTransaction:e,scope:b})})}let F=(a,e)=>{let f=(0,c.getMainCarrier)(),h=(0,b.getAsyncContextStrategy)(f);if(h.continueTrace)return h.continueTrace(a,e);let{sentryTrace:i,baggage:j}=a,k=(0,d.getClient)(),l=(0,g.baggageHeaderToDynamicSamplingContext)(j);return k&&!(0,o.shouldContinueTrace)(k,l?.org_id)?I(e):(0,d.withScope)(a=>{let b=(0,o.propagationContextFromHeaders)(i,j);return a.setPropagationContext(b),e()})};function G(a,b){let c=L();return c.withActiveSpan?c.withActiveSpan(a,b):(0,d.withScope)(c=>((0,m._setSpanForScope)(c,a||void 0),b(c)))}function H(a){let b=L();return b.suppressTracing?b.suppressTracing(a):(0,d.withScope)(b=>{b.setSDKProcessingMetadata({[B]:!0});let c=a();return b.setSDKProcessingMetadata({[B]:void 0}),c})}function I(a){return(0,d.withScope)(b=>(b.setPropagationContext({traceId:(0,l.generateTraceId)(),sampleRand:Math.random()}),e.DEBUG_BUILD&&h.debug.log(`Starting a new trace with id ${b.getPropagationContext().traceId}`),G(null,a)))}function J({parentSpan:a,spanArguments:b,forceTransaction:c,scope:e}){let f;if(!(0,j.hasSpansEnabled)()){let d=new s.SentryNonRecordingSpan;if(c||!a){let a={sampled:"false",sample_rate:"0",transaction:b.name,...(0,p.getDynamicSamplingContextFromSpan)(d)};(0,p.freezeDscOnSpan)(d,a)}return d}let g=(0,d.getIsolationScope)();if(a&&!c)f=function(a,b,c){let{spanId:e,traceId:f}=a.spanContext(),g=!b.getScopeData().sdkProcessingMetadata[B]&&(0,n.spanIsSampled)(a),h=g?new x({...c,parentSpanId:e,traceId:f,sampled:g}):new s.SentryNonRecordingSpan({traceId:f});(0,n.addChildSpanToSpan)(a,h);let i=(0,d.getClient)();return i&&(i.emit("spanStart",h),c.endTimestamp&&i.emit("spanEnd",h)),h}(a,e,b),(0,n.addChildSpanToSpan)(a,f);else if(a){let c=(0,p.getDynamicSamplingContextFromSpan)(a),{traceId:d,spanId:g}=a.spanContext(),h=(0,n.spanIsSampled)(a);f=M({traceId:d,parentSpanId:g,...b},e,h),(0,p.freezeDscOnSpan)(f,c)}else{let{traceId:a,dsc:c,parentSpanId:d,sampled:h}={...g.getPropagationContext(),...e.getPropagationContext()};f=M({traceId:a,parentSpanId:d,...b},e,h),c&&(0,p.freezeDscOnSpan)(f,c)}return(0,q.logSpanStart)(f),(0,w.setCapturedScopesOnSpan)(f,e,g),f}function K(a){let b={isStandalone:(a.experimental||{}).standalone,...a};if(a.startTime){let c={...b};return c.startTimestamp=(0,n.spanTimeInputToSeconds)(a.startTime),delete c.startTime,c}return b}function L(){let a=(0,c.getMainCarrier)();return(0,b.getAsyncContextStrategy)(a)}function M(a,b,c){let g=(0,d.getClient)(),i=g?.getOptions()||{},{name:j=""}=a,l={spanAttributes:{...a.attributes},spanName:j,parentSampled:c};g?.emit("beforeSampling",l,{decision:!1});let m=l.parentSampled??c,n=l.spanAttributes,o=b.getPropagationContext(),[p,q,s]=b.getScopeData().sdkProcessingMetadata[B]?[!1]:(0,r.sampleSpan)(i,{name:j,parentSampled:m,attributes:n,parentSampleRate:(0,k.parseSampleRate)(o.dsc?.sample_rate)},o.sampleRand),t=new x({...a,attributes:{[f.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:"custom",[f.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE]:void 0!==q&&s?q:void 0,...n},sampled:p});return!p&&g&&(e.DEBUG_BUILD&&h.debug.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),g.recordDroppedEvent("sample_rate","transaction")),g&&g.emit("spanStart",t),t}function N(a,b){if(b)return b;if(null===b)return;let c=(0,m._getSpanForScope)(a);if(!c)return;let e=(0,d.getClient)();return(e?e.getOptions():{}).parentSpanIsAlwaysRootSpan?(0,n.getRootSpan)(c):c}function O(a){return void 0!==a?b=>G(a,b):a=>a()}a.s(["continueTrace",()=>F,"startInactiveSpan",()=>E,"startNewTrace",()=>I,"startSpan",()=>C,"startSpanManual",()=>D,"suppressTracing",()=>H,"withActiveSpan",()=>G],13116)},96012,26611,40435,a=>{"use strict";let b="gen_ai.usage.input_tokens",c="gen_ai.usage.output_tokens",d="gen_ai.usage.total_tokens",e={CHAT:"chat",RESPONSES:"responses",EMBEDDINGS:"embeddings"};a.s(["ANTHROPIC_AI_RESPONSE_TIMESTAMP_ATTRIBUTE",()=>"anthropic.response.timestamp","GEN_AI_AGENT_NAME_ATTRIBUTE",()=>"gen_ai.agent.name","GEN_AI_INVOKE_AGENT_OPERATION_ATTRIBUTE",()=>"gen_ai.invoke_agent","GEN_AI_OPERATION_NAME_ATTRIBUTE",()=>"gen_ai.operation.name","GEN_AI_PIPELINE_NAME_ATTRIBUTE",()=>"gen_ai.pipeline.name","GEN_AI_PROMPT_ATTRIBUTE",()=>"gen_ai.prompt","GEN_AI_REQUEST_AVAILABLE_TOOLS_ATTRIBUTE",()=>"gen_ai.request.available_tools","GEN_AI_REQUEST_DIMENSIONS_ATTRIBUTE",()=>"gen_ai.request.dimensions","GEN_AI_REQUEST_ENCODING_FORMAT_ATTRIBUTE",()=>"gen_ai.request.encoding_format","GEN_AI_REQUEST_FREQUENCY_PENALTY_ATTRIBUTE",()=>"gen_ai.request.frequency_penalty","GEN_AI_REQUEST_MAX_TOKENS_ATTRIBUTE",()=>"gen_ai.request.max_tokens","GEN_AI_REQUEST_MESSAGES_ATTRIBUTE",()=>"gen_ai.request.messages","GEN_AI_REQUEST_MODEL_ATTRIBUTE",()=>"gen_ai.request.model","GEN_AI_REQUEST_PRESENCE_PENALTY_ATTRIBUTE",()=>"gen_ai.request.presence_penalty","GEN_AI_REQUEST_STREAM_ATTRIBUTE",()=>"gen_ai.request.stream","GEN_AI_REQUEST_TEMPERATURE_ATTRIBUTE",()=>"gen_ai.request.temperature","GEN_AI_REQUEST_TOP_K_ATTRIBUTE",()=>"gen_ai.request.top_k","GEN_AI_REQUEST_TOP_P_ATTRIBUTE",()=>"gen_ai.request.top_p","GEN_AI_RESPONSE_FINISH_REASONS_ATTRIBUTE",()=>"gen_ai.response.finish_reasons","GEN_AI_RESPONSE_ID_ATTRIBUTE",()=>"gen_ai.response.id","GEN_AI_RESPONSE_MODEL_ATTRIBUTE",()=>"gen_ai.response.model","GEN_AI_RESPONSE_STOP_REASON_ATTRIBUTE",()=>"gen_ai.response.stop_reason","GEN_AI_RESPONSE_STREAMING_ATTRIBUTE",()=>"gen_ai.response.streaming","GEN_AI_RESPONSE_TEXT_ATTRIBUTE",()=>"gen_ai.response.text","GEN_AI_RESPONSE_TOOL_CALLS_ATTRIBUTE",()=>"gen_ai.response.tool_calls","GEN_AI_SYSTEM_ATTRIBUTE",()=>"gen_ai.system","GEN_AI_USAGE_CACHE_CREATION_INPUT_TOKENS_ATTRIBUTE",()=>"gen_ai.usage.cache_creation_input_tokens","GEN_AI_USAGE_CACHE_READ_INPUT_TOKENS_ATTRIBUTE",()=>"gen_ai.usage.cache_read_input_tokens","GEN_AI_USAGE_INPUT_TOKENS_ATTRIBUTE",()=>b,"GEN_AI_USAGE_INPUT_TOKENS_CACHED_ATTRIBUTE",()=>"gen_ai.usage.input_tokens.cached","GEN_AI_USAGE_INPUT_TOKENS_CACHE_WRITE_ATTRIBUTE",()=>"gen_ai.usage.input_tokens.cache_write","GEN_AI_USAGE_OUTPUT_TOKENS_ATTRIBUTE",()=>c,"GEN_AI_USAGE_TOTAL_TOKENS_ATTRIBUTE",()=>d,"OPENAI_OPERATIONS",()=>e,"OPENAI_RESPONSE_ID_ATTRIBUTE",()=>"openai.response.id","OPENAI_RESPONSE_MODEL_ATTRIBUTE",()=>"openai.response.model","OPENAI_RESPONSE_TIMESTAMP_ATTRIBUTE",()=>"openai.response.timestamp","OPENAI_USAGE_COMPLETION_TOKENS_ATTRIBUTE",()=>"openai.usage.completion_tokens","OPENAI_USAGE_PROMPT_TOKENS_ATTRIBUTE",()=>"openai.usage.prompt_tokens"],96012);let f=a=>new TextEncoder().encode(a).length,g=a=>f(JSON.stringify(a));function h(a,b){if(f(a)<=b)return a;let c=0,d=a.length,e="";for(;c<=d;){let g=Math.floor((c+d)/2),h=a.slice(0,g);f(h)<=b?(e=h,c=g+1):d=g-1}return e}function i(a,b){return"string"==typeof a?b:{...a,text:b}}function j(a){return function(a,b){if(!Array.isArray(a)||0===a.length||2e4>=g(a))return a;let c=a.map(g),d=0,e=a.length;for(let b=a.length-1;b>=0;b--){let a=c[b];if(a&&d+a>2e4)break;a&&(d+=a),e=b}return e===a.length?function(a,b){if(!a||"object"!=typeof a)return[];if(null!==a&&"object"==typeof a&&"content"in a&&"string"==typeof a.content){let b=2e4-g({...a,content:""});if(b<=0)return[];let c=h(a.content,b);return[{...a,content:c}]}return null!==a&&"object"==typeof a&&"parts"in a&&Array.isArray(a.parts)&&a.parts.length>0?function(a,b){let{parts:c}=a,d=c.map(a=>i(a,"")),e=b-g({...a,parts:d});if(e<=0)return[];let j=[];for(let a of c){let b="string"==typeof a?a:a.text,c=f(b);if(c<=e)j.push(a),e-=c;else if(0===j.length){let c=h(b,e);c&&j.push(i(a,c));break}else break}return j.length>0?[{...a,parts:j}]:[]}(a,2e4):[]}(a[a.length-1],2e4):a.slice(e)}(a,0)}function k(a){return h(a,2e4)}function l(a){return a.includes("messages")?"messages":a.includes("completions")?"completions":a.includes("models")?"models":a.includes("chat")?"chat":a.split(".").pop()||"unknown"}function m(a){return`gen_ai.${l(a)}`}function n(a,b){return a?`${a}.${b}`:b}function o(a,e,f,g,h){void 0!==e&&a.setAttributes({[b]:e}),void 0!==f&&a.setAttributes({[c]:f}),(void 0!==e||void 0!==f||void 0!==g||void 0!==h)&&a.setAttributes({[d]:(e??0)+(f??0)+(g??0)+(h??0)})}function p(a){return"string"==typeof a?k(a):Array.isArray(a)?JSON.stringify(j(a)):JSON.stringify(a)}a.s(["truncateGenAiMessages",()=>j,"truncateGenAiStringInput",()=>k],26611),a.s(["buildMethodPath",()=>n,"getFinalOperationName",()=>l,"getSpanOperation",()=>m,"getTruncatedJsonString",()=>p,"setTokenUsageAttributes",()=>o],40435)},95687,85864,a=>{"use strict";var b=a.i(42055),c=a.i(9206),d=a.i(51326),e=a.i(14096),f=a.i(13116),g=a.i(96012),h=a.i(40435);let i="OpenAI",j=["responses.create","chat.completions.create","embeddings.create"],k=["response.created","response.in_progress","response.failed","response.completed","response.incomplete","response.queued","response.output_text.delta","response.output_item.added","response.function_call_arguments.delta","response.function_call_arguments.done","response.output_item.done"];function l(a){return a.includes("chat.completions")?g.OPENAI_OPERATIONS.CHAT:a.includes("responses")?g.OPENAI_OPERATIONS.RESPONSES:a.includes("embeddings")?g.OPENAI_OPERATIONS.EMBEDDINGS:a.split(".").pop()||"unknown"}function m(a){return`gen_ai.${l(a)}`}function n(a,b,c,d){void 0!==b&&a.setAttributes({[g.OPENAI_USAGE_PROMPT_TOKENS_ATTRIBUTE]:b,[g.GEN_AI_USAGE_INPUT_TOKENS_ATTRIBUTE]:b}),void 0!==c&&a.setAttributes({[g.OPENAI_USAGE_COMPLETION_TOKENS_ATTRIBUTE]:c,[g.GEN_AI_USAGE_OUTPUT_TOKENS_ATTRIBUTE]:c}),void 0!==d&&a.setAttributes({[g.GEN_AI_USAGE_TOTAL_TOKENS_ATTRIBUTE]:d})}function o(a,b,c,d){a.setAttributes({[g.OPENAI_RESPONSE_ID_ATTRIBUTE]:b,[g.GEN_AI_RESPONSE_ID_ATTRIBUTE]:b}),a.setAttributes({[g.OPENAI_RESPONSE_MODEL_ATTRIBUTE]:c,[g.GEN_AI_RESPONSE_MODEL_ATTRIBUTE]:c}),a.setAttributes({[g.OPENAI_RESPONSE_TIMESTAMP_ATTRIBUTE]:new Date(1e3*d).toISOString()})}async function*p(a,b,d){let f={eventTypes:[],responseTexts:[],finishReasons:[],responseId:"",responseModel:"",responseTimestamp:0,promptTokens:void 0,completionTokens:void 0,totalTokens:void 0,chatCompletionToolCalls:{},responsesApiToolCalls:[]};try{for await(let g of a){if(null!==g&&"object"==typeof g&&"object"in g&&"chat.completion.chunk"===g.object){for(let a of(f.responseId=g.id??f.responseId,f.responseModel=g.model??f.responseModel,f.responseTimestamp=g.created??f.responseTimestamp,g.usage&&(f.promptTokens=g.usage.prompt_tokens,f.completionTokens=g.usage.completion_tokens,f.totalTokens=g.usage.total_tokens),g.choices??[]))d&&(a.delta?.content&&f.responseTexts.push(a.delta.content),a.delta?.tool_calls&&function(a,b){for(let c of a){let a=c.index;if(void 0!==a&&c.function)if(a in b.chatCompletionToolCalls){let d=b.chatCompletionToolCalls[a];c.function.arguments&&d?.function&&(d.function.arguments+=c.function.arguments)}else b.chatCompletionToolCalls[a]={...c,function:{name:c.function.name,arguments:c.function.arguments||""}}}}(a.delta.tool_calls,f)),a.finish_reason&&f.finishReasons.push(a.finish_reason)}else null!==g&&"object"==typeof g&&"type"in g&&"string"==typeof g.type&&g.type.startsWith("response.")&&function(a,b,d,f){if(!(a&&"object"==typeof a))return b.eventTypes.push("unknown:non-object");if(a instanceof Error){f.setStatus({code:e.SPAN_STATUS_ERROR,message:"internal_error"}),(0,c.captureException)(a,{mechanism:{handled:!1,type:"auto.ai.openai.stream-response"}});return}if("type"in a){if(!k.includes(a.type))return b.eventTypes.push(a.type);if(d&&("response.output_item.done"===a.type&&"item"in a&&b.responsesApiToolCalls.push(a.item),"response.output_text.delta"===a.type&&"delta"in a&&a.delta))return b.responseTexts.push(a.delta);if("response"in a){let{response:c}=a;b.responseId=c.id??b.responseId,b.responseModel=c.model??b.responseModel,b.responseTimestamp=c.created_at??b.responseTimestamp,c.usage&&(b.promptTokens=c.usage.input_tokens,b.completionTokens=c.usage.output_tokens,b.totalTokens=c.usage.total_tokens),c.status&&b.finishReasons.push(c.status),d&&c.output_text&&b.responseTexts.push(c.output_text)}}}(g,f,d,b);yield g}}finally{o(b,f.responseId,f.responseModel,f.responseTimestamp),n(b,f.promptTokens,f.completionTokens,f.totalTokens),b.setAttributes({[g.GEN_AI_RESPONSE_STREAMING_ATTRIBUTE]:!0}),f.finishReasons.length&&b.setAttributes({[g.GEN_AI_RESPONSE_FINISH_REASONS_ATTRIBUTE]:JSON.stringify(f.finishReasons)}),d&&f.responseTexts.length&&b.setAttributes({[g.GEN_AI_RESPONSE_TEXT_ATTRIBUTE]:f.responseTexts.join("")});let a=[...Object.values(f.chatCompletionToolCalls),...f.responsesApiToolCalls];a.length>0&&b.setAttributes({[g.GEN_AI_RESPONSE_TOOL_CALLS_ATTRIBUTE]:JSON.stringify(a)}),b.end()}}function q(a,b){if("messages"in b){let c=(0,h.getTruncatedJsonString)(b.messages);a.setAttributes({[g.GEN_AI_REQUEST_MESSAGES_ATTRIBUTE]:c})}if("input"in b){let c=(0,h.getTruncatedJsonString)(b.input);a.setAttributes({[g.GEN_AI_REQUEST_MESSAGES_ATTRIBUTE]:c})}}function r(a,h){return function a(h,k="",r){return new Proxy(h,{get(h,s){var t;let u=h[s],v=(t=String(s),k?`${k}.${t}`:t);return"function"==typeof u&&j.includes(v)?async function(...a){let j,k,s,t=r||(j=(0,b.getCurrentScope)().getClient(),s=!!(k=j?.getIntegrationByName(i))&&!!j?.getOptions().sendDefaultPii,{recordInputs:k?.options?.recordInputs??s,recordOutputs:k?.options?.recordOutputs??s}),w=function(a,b){let c={[g.GEN_AI_SYSTEM_ATTRIBUTE]:"openai",[g.GEN_AI_OPERATION_NAME_ATTRIBUTE]:l(b),[d.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ai.openai"};if(a.length>0&&"object"==typeof a[0]&&null!==a[0]){let b=a[0],d=[...Array.isArray(b.tools)?b.tools:[],...b.web_search_options&&"object"==typeof b.web_search_options?[{type:"web_search_options",...b.web_search_options}]:[]];d.length>0&&(c[g.GEN_AI_REQUEST_AVAILABLE_TOOLS_ATTRIBUTE]=JSON.stringify(d))}if(a.length>0&&"object"==typeof a[0]&&null!==a[0]){let b=a[0];c[g.GEN_AI_REQUEST_MODEL_ATTRIBUTE]=b.model??"unknown","temperature"in b&&(c[g.GEN_AI_REQUEST_TEMPERATURE_ATTRIBUTE]=b.temperature),"top_p"in b&&(c[g.GEN_AI_REQUEST_TOP_P_ATTRIBUTE]=b.top_p),"frequency_penalty"in b&&(c[g.GEN_AI_REQUEST_FREQUENCY_PENALTY_ATTRIBUTE]=b.frequency_penalty),"presence_penalty"in b&&(c[g.GEN_AI_REQUEST_PRESENCE_PENALTY_ATTRIBUTE]=b.presence_penalty),"stream"in b&&(c[g.GEN_AI_REQUEST_STREAM_ATTRIBUTE]=b.stream),"encoding_format"in b&&(c[g.GEN_AI_REQUEST_ENCODING_FORMAT_ATTRIBUTE]=b.encoding_format),"dimensions"in b&&(c[g.GEN_AI_REQUEST_DIMENSIONS_ATTRIBUTE]=b.dimensions)}else c[g.GEN_AI_REQUEST_MODEL_ATTRIBUTE]="unknown";return c}(a,v),x=w[g.GEN_AI_REQUEST_MODEL_ATTRIBUTE]||"unknown",y=l(v),z=a[0];return z&&"object"==typeof z&&!0===z.stream?(0,f.startSpanManual)({name:`${y} ${x} stream-response`,op:m(v),attributes:w},async b=>{try{t.recordInputs&&a[0]&&"object"==typeof a[0]&&q(b,a[0]);let c=await u.apply(h,a);return p(c,b,t.recordOutputs??!1)}catch(a){throw b.setStatus({code:e.SPAN_STATUS_ERROR,message:"internal_error"}),(0,c.captureException)(a,{mechanism:{handled:!1,type:"auto.ai.openai.stream",data:{function:v}}}),b.end(),a}}):(0,f.startSpan)({name:`${y} ${x}`,op:m(v),attributes:w},async b=>{try{t.recordInputs&&a[0]&&"object"==typeof a[0]&&q(b,a[0]);let c=await u.apply(h,a);return!function(a,b,c){if(b&&"object"==typeof b)if(null!==b&&"object"==typeof b&&"object"in b&&"chat.completion"===b.object){if(o(a,b.id,b.model,b.created),b.usage&&n(a,b.usage.prompt_tokens,b.usage.completion_tokens,b.usage.total_tokens),Array.isArray(b.choices)){let d=b.choices.map(a=>a.finish_reason).filter(a=>null!==a);if(d.length>0&&a.setAttributes({[g.GEN_AI_RESPONSE_FINISH_REASONS_ATTRIBUTE]:JSON.stringify(d)}),c){let c=b.choices.map(a=>a.message?.tool_calls).filter(a=>Array.isArray(a)&&a.length>0).flat();c.length>0&&a.setAttributes({[g.GEN_AI_RESPONSE_TOOL_CALLS_ATTRIBUTE]:JSON.stringify(c)})}}if(c&&b.choices?.length){let c=b.choices.map(a=>a.message?.content||"");a.setAttributes({[g.GEN_AI_RESPONSE_TEXT_ATTRIBUTE]:JSON.stringify(c)})}}else if(null!==b&&"object"==typeof b&&"object"in b&&"response"===b.object){if(o(a,b.id,b.model,b.created_at),b.status&&a.setAttributes({[g.GEN_AI_RESPONSE_FINISH_REASONS_ATTRIBUTE]:JSON.stringify([b.status])}),b.usage&&n(a,b.usage.input_tokens,b.usage.output_tokens,b.usage.total_tokens),c&&Array.isArray(b.output)&&b.output.length>0){let c=b.output.filter(a=>"object"==typeof a&&null!==a&&"function_call"===a.type);c.length>0&&a.setAttributes({[g.GEN_AI_RESPONSE_TOOL_CALLS_ATTRIBUTE]:JSON.stringify(c)})}c&&b.output_text&&a.setAttributes({[g.GEN_AI_RESPONSE_TEXT_ATTRIBUTE]:b.output_text})}else null!==b&&"object"==typeof b&&"object"in b&&"list"===b.object&&"string"==typeof b.model&&b.model.toLowerCase().includes("embedding")&&(a.setAttributes({[g.OPENAI_RESPONSE_MODEL_ATTRIBUTE]:b.model,[g.GEN_AI_RESPONSE_MODEL_ATTRIBUTE]:b.model}),b.usage&&n(a,b.usage.prompt_tokens,void 0,b.usage.total_tokens))}(b,c,t.recordOutputs),c}catch(a){throw(0,c.captureException)(a,{mechanism:{handled:!1,type:"auto.ai.openai",data:{function:v}}}),a}})}:"function"==typeof u?u.bind(h):u&&"object"==typeof u?a(u,v,r):u}})}(a,"",h)}a.s(["INSTRUMENTED_METHODS",()=>j,"OPENAI_INTEGRATION_NAME",()=>i,"RESPONSE_EVENT_TYPES",()=>k],85864),a.s(["instrumentOpenAiClient",()=>r],95687)},69061,a=>{"use strict";let b=["messages.create","messages.stream","messages.countTokens","models.get","completions.create","models.retrieve","beta.messages.create"];a.s(["ANTHROPIC_AI_INSTRUMENTED_METHODS",()=>b,"ANTHROPIC_AI_INTEGRATION_NAME",()=>"Anthropic_AI"])},45585,a=>{"use strict";var b=a.i(9206),c=a.i(14096),d=a.i(96012),e=a.i(40435);function f(a,d,e,f){if(a&&"object"==typeof a&&(!("type"in a)||"string"!=typeof a.type||"error"!==a.type||(f.setStatus({code:c.SPAN_STATUS_ERROR,message:a.error?.type??"internal_error"}),(0,b.captureException)(a.error,{mechanism:{handled:!1,type:"auto.ai.anthropic.anthropic_error"}}),0))){if("message_delta"===a.type&&a.usage&&"output_tokens"in a.usage&&"number"==typeof a.usage.output_tokens&&(d.completionTokens=a.usage.output_tokens),a.message){let b=a.message;b.id&&(d.responseId=b.id),b.model&&(d.responseModel=b.model),b.stop_reason&&d.finishReasons.push(b.stop_reason),b.usage&&("number"==typeof b.usage.input_tokens&&(d.promptTokens=b.usage.input_tokens),"number"==typeof b.usage.cache_creation_input_tokens&&(d.cacheCreationInputTokens=b.usage.cache_creation_input_tokens),"number"==typeof b.usage.cache_read_input_tokens&&(d.cacheReadInputTokens=b.usage.cache_read_input_tokens))}"content_block_start"===a.type&&"number"==typeof a.index&&a.content_block&&("tool_use"===a.content_block.type||"server_tool_use"===a.content_block.type)&&(d.activeToolBlocks[a.index]={id:a.content_block.id,name:a.content_block.name,inputJsonParts:[]});if("content_block_delta"===a.type&&a.delta){if("number"==typeof a.index&&"partial_json"in a.delta&&"string"==typeof a.delta.partial_json){let b=d.activeToolBlocks[a.index];b&&b.inputJsonParts.push(a.delta.partial_json)}e&&"string"==typeof a.delta.text&&d.responseTexts.push(a.delta.text)}!function(a,b){let c;if("content_block_stop"!==a.type||"number"!=typeof a.index)return;let d=b.activeToolBlocks[a.index];if(!d)return;let e=d.inputJsonParts.join("");try{c=e?JSON.parse(e):{}}catch{c={__unparsed:e}}b.toolCalls.push({type:"tool_use",id:d.id,name:d.name,input:c}),delete b.activeToolBlocks[a.index]}(a,d)}}async function*g(a,b,c){let g={responseTexts:[],finishReasons:[],responseId:"",responseModel:"",promptTokens:void 0,completionTokens:void 0,cacheCreationInputTokens:void 0,cacheReadInputTokens:void 0,toolCalls:[],activeToolBlocks:{}};try{for await(let d of a)f(d,g,c,b),yield d}finally{g.responseId&&b.setAttributes({[d.GEN_AI_RESPONSE_ID_ATTRIBUTE]:g.responseId}),g.responseModel&&b.setAttributes({[d.GEN_AI_RESPONSE_MODEL_ATTRIBUTE]:g.responseModel}),(0,e.setTokenUsageAttributes)(b,g.promptTokens,g.completionTokens,g.cacheCreationInputTokens,g.cacheReadInputTokens),b.setAttributes({[d.GEN_AI_RESPONSE_STREAMING_ATTRIBUTE]:!0}),g.finishReasons.length>0&&b.setAttributes({[d.GEN_AI_RESPONSE_FINISH_REASONS_ATTRIBUTE]:JSON.stringify(g.finishReasons)}),c&&g.responseTexts.length>0&&b.setAttributes({[d.GEN_AI_RESPONSE_TEXT_ATTRIBUTE]:g.responseTexts.join("")}),c&&g.toolCalls.length>0&&b.setAttributes({[d.GEN_AI_RESPONSE_TOOL_CALLS_ATTRIBUTE]:JSON.stringify(g.toolCalls)}),b.end()}}function h(a,g,h){let i={responseTexts:[],finishReasons:[],responseId:"",responseModel:"",promptTokens:void 0,completionTokens:void 0,cacheCreationInputTokens:void 0,cacheReadInputTokens:void 0,toolCalls:[],activeToolBlocks:{}};return a.on("streamEvent",a=>{f(a,i,h,g)}),a.on("message",()=>{g.isRecording()&&(i.responseId&&g.setAttributes({[d.GEN_AI_RESPONSE_ID_ATTRIBUTE]:i.responseId}),i.responseModel&&g.setAttributes({[d.GEN_AI_RESPONSE_MODEL_ATTRIBUTE]:i.responseModel}),(0,e.setTokenUsageAttributes)(g,i.promptTokens,i.completionTokens,i.cacheCreationInputTokens,i.cacheReadInputTokens),g.setAttributes({[d.GEN_AI_RESPONSE_STREAMING_ATTRIBUTE]:!0}),i.finishReasons.length>0&&g.setAttributes({[d.GEN_AI_RESPONSE_FINISH_REASONS_ATTRIBUTE]:JSON.stringify(i.finishReasons)}),h&&i.responseTexts.length>0&&g.setAttributes({[d.GEN_AI_RESPONSE_TEXT_ATTRIBUTE]:i.responseTexts.join("")}),h&&i.toolCalls.length>0&&g.setAttributes({[d.GEN_AI_RESPONSE_TOOL_CALLS_ATTRIBUTE]:JSON.stringify(i.toolCalls)}),g.end())}),a.on("error",a=>{(0,b.captureException)(a,{mechanism:{handled:!1,type:"auto.ai.anthropic.stream_error"}}),g.isRecording()&&(g.setStatus({code:c.SPAN_STATUS_ERROR,message:"stream_error"}),g.end())}),a}a.s(["instrumentAsyncIterableStream",()=>g,"instrumentMessageStream",()=>h])},79092,68689,91813,a=>{"use strict";var b=a.i(42055),c=a.i(9206),d=a.i(51326),e=a.i(14096),f=a.i(13116),g=a.i(61923),h=a.i(96012),i=a.i(40435),j=a.i(45585),k=a.i(69061);function l(a,b){if("messages"in b){let c=(0,i.getTruncatedJsonString)(b.messages);a.setAttributes({[h.GEN_AI_REQUEST_MESSAGES_ATTRIBUTE]:c})}if("input"in b){let c=(0,i.getTruncatedJsonString)(b.input);a.setAttributes({[h.GEN_AI_REQUEST_MESSAGES_ATTRIBUTE]:c})}"prompt"in b&&a.setAttributes({[h.GEN_AI_PROMPT_ATTRIBUTE]:JSON.stringify(b.prompt)})}function m(a,b,d){throw(0,c.captureException)(a,{mechanism:{handled:!1,type:"auto.ai.anthropic",data:{function:d}}}),b.isRecording()&&(b.setStatus({code:e.SPAN_STATUS_ERROR,message:"internal_error"}),b.end()),a}function n(a,n){let o=!!(0,b.getClient)()?.getOptions().sendDefaultPii;return function a(b,n="",o){return new Proxy(b,{get(b,p){let q=b[p],r=(0,i.buildMethodPath)(n,String(p));return"function"==typeof q&&k.ANTHROPIC_AI_INSTRUMENTED_METHODS.includes(r)?new Proxy(q,{apply(a,k,n){let p=function(a,b){let c={[h.GEN_AI_SYSTEM_ATTRIBUTE]:"anthropic",[h.GEN_AI_OPERATION_NAME_ATTRIBUTE]:(0,i.getFinalOperationName)(b),[d.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ai.anthropic"};if(a.length>0&&"object"==typeof a[0]&&null!==a[0]){let b=a[0];b.tools&&Array.isArray(b.tools)&&(c[h.GEN_AI_REQUEST_AVAILABLE_TOOLS_ATTRIBUTE]=JSON.stringify(b.tools)),c[h.GEN_AI_REQUEST_MODEL_ATTRIBUTE]=b.model??"unknown","temperature"in b&&(c[h.GEN_AI_REQUEST_TEMPERATURE_ATTRIBUTE]=b.temperature),"top_p"in b&&(c[h.GEN_AI_REQUEST_TOP_P_ATTRIBUTE]=b.top_p),"stream"in b&&(c[h.GEN_AI_REQUEST_STREAM_ATTRIBUTE]=b.stream),"top_k"in b&&(c[h.GEN_AI_REQUEST_TOP_K_ATTRIBUTE]=b.top_k),"frequency_penalty"in b&&(c[h.GEN_AI_REQUEST_FREQUENCY_PENALTY_ATTRIBUTE]=b.frequency_penalty),"max_tokens"in b&&(c[h.GEN_AI_REQUEST_MAX_TOKENS_ATTRIBUTE]=b.max_tokens)}else"models.retrieve"===b||"models.get"===b?c[h.GEN_AI_REQUEST_MODEL_ATTRIBUTE]=a[0]:c[h.GEN_AI_REQUEST_MODEL_ATTRIBUTE]="unknown";return c}(n,r),s=p[h.GEN_AI_REQUEST_MODEL_ATTRIBUTE]??"unknown",t=(0,i.getFinalOperationName)(r),u="object"==typeof n[0]?n[0]:void 0,v=!!u?.stream,w="messages.stream"===r;if(v||w){let c,d;return c=p[h.GEN_AI_REQUEST_MODEL_ATTRIBUTE]??"unknown",d={name:`${t} ${c} stream-response`,op:(0,i.getSpanOperation)(r),attributes:p},v&&!w?(0,f.startSpanManual)(d,async a=>{try{o.recordInputs&&u&&l(a,u);let c=await q.apply(b,n);return(0,j.instrumentAsyncIterableStream)(c,a,o.recordOutputs??!1)}catch(b){return m(b,a,r)}}):(0,f.startSpanManual)(d,c=>{try{o.recordInputs&&u&&l(c,u);let d=a.apply(b,n);return(0,j.instrumentMessageStream)(d,c,o.recordOutputs??!1)}catch(a){return m(a,c,r)}})}return(0,f.startSpan)({name:`${t} ${s}`,op:(0,i.getSpanOperation)(r),attributes:p},d=>(o.recordInputs&&u&&l(d,u),(0,g.handleCallbackErrors)(()=>a.apply(b,n),a=>{(0,c.captureException)(a,{mechanism:{handled:!1,type:"auto.ai.anthropic",data:{function:r}}})},()=>{},a=>(function(a,b,d){if(b&&"object"==typeof b){if("type"in b&&"error"===b.type)return void(b.error&&(a.setStatus({code:e.SPAN_STATUS_ERROR,message:b.error.type||"internal_error"}),(0,c.captureException)(b.error,{mechanism:{handled:!1,type:"auto.ai.anthropic.anthropic_error"}})));d&&function(a,b){if("content"in b&&Array.isArray(b.content)){a.setAttributes({[h.GEN_AI_RESPONSE_TEXT_ATTRIBUTE]:b.content.map(a=>a.text).filter(a=>!!a).join("")});let c=[];for(let a of b.content)("tool_use"===a.type||"server_tool_use"===a.type)&&c.push(a);c.length>0&&a.setAttributes({[h.GEN_AI_RESPONSE_TOOL_CALLS_ATTRIBUTE]:JSON.stringify(c)})}"completion"in b&&a.setAttributes({[h.GEN_AI_RESPONSE_TEXT_ATTRIBUTE]:b.completion}),"input_tokens"in b&&a.setAttributes({[h.GEN_AI_RESPONSE_TEXT_ATTRIBUTE]:JSON.stringify(b.input_tokens)})}(a,b),"id"in b&&"model"in b&&(a.setAttributes({[h.GEN_AI_RESPONSE_ID_ATTRIBUTE]:b.id,[h.GEN_AI_RESPONSE_MODEL_ATTRIBUTE]:b.model}),"created"in b&&"number"==typeof b.created&&a.setAttributes({[h.ANTHROPIC_AI_RESPONSE_TIMESTAMP_ATTRIBUTE]:new Date(1e3*b.created).toISOString()}),"created_at"in b&&"number"==typeof b.created_at&&a.setAttributes({[h.ANTHROPIC_AI_RESPONSE_TIMESTAMP_ATTRIBUTE]:new Date(1e3*b.created_at).toISOString()}),"usage"in b&&b.usage&&(0,i.setTokenUsageAttributes)(a,b.usage.input_tokens,b.usage.output_tokens,b.usage.cache_creation_input_tokens,b.usage.cache_read_input_tokens))}})(d,a,o.recordOutputs))))}}):"function"==typeof q?q.bind(b):q&&"object"==typeof q?a(q,r,o):q}})}(a,"",{recordInputs:o,recordOutputs:o,...n})}a.s(["instrumentAnthropicAiClient",()=>n],79092);let o=["models.generateContent","models.generateContentStream","chats.create","sendMessage","sendMessageStream"],p="google_genai",q="chats.create",r="chat";async function*s(a,b,d){let f={responseTexts:[],finishReasons:[],toolCalls:[]};try{for await(let g of a)!function(a,b,d,f){if(!(!a||function(a,b){let d=a?.promptFeedback;if(d?.blockReason){let a=d.blockReasonMessage??d.blockReason;return b.setStatus({code:e.SPAN_STATUS_ERROR,message:`Content blocked: ${a}`}),(0,c.captureException)(`Content blocked: ${a}`,{mechanism:{handled:!1,type:"auto.ai.google_genai"}}),!0}return!1}(a,f))){let c;for(let e of("string"==typeof a.responseId&&(b.responseId=a.responseId),"string"==typeof a.modelVersion&&(b.responseModel=a.modelVersion),(c=a.usageMetadata)&&("number"==typeof c.promptTokenCount&&(b.promptTokens=c.promptTokenCount),"number"==typeof c.candidatesTokenCount&&(b.completionTokens=c.candidatesTokenCount),"number"==typeof c.totalTokenCount&&(b.totalTokens=c.totalTokenCount)),Array.isArray(a.functionCalls)&&b.toolCalls.push(...a.functionCalls),a.candidates??[]))for(let a of(e?.finishReason&&!b.finishReasons.includes(e.finishReason)&&b.finishReasons.push(e.finishReason),e?.content?.parts??[]))d&&a.text&&b.responseTexts.push(a.text),a.functionCall&&b.toolCalls.push({type:"function",id:a.functionCall.id,name:a.functionCall.name,arguments:a.functionCall.args})}}(g,f,d,b),yield g}finally{let a={[h.GEN_AI_RESPONSE_STREAMING_ATTRIBUTE]:!0};f.responseId&&(a[h.GEN_AI_RESPONSE_ID_ATTRIBUTE]=f.responseId),f.responseModel&&(a[h.GEN_AI_RESPONSE_MODEL_ATTRIBUTE]=f.responseModel),void 0!==f.promptTokens&&(a[h.GEN_AI_USAGE_INPUT_TOKENS_ATTRIBUTE]=f.promptTokens),void 0!==f.completionTokens&&(a[h.GEN_AI_USAGE_OUTPUT_TOKENS_ATTRIBUTE]=f.completionTokens),void 0!==f.totalTokens&&(a[h.GEN_AI_USAGE_TOTAL_TOKENS_ATTRIBUTE]=f.totalTokens),f.finishReasons.length&&(a[h.GEN_AI_RESPONSE_FINISH_REASONS_ATTRIBUTE]=JSON.stringify(f.finishReasons)),d&&f.responseTexts.length&&(a[h.GEN_AI_RESPONSE_TEXT_ATTRIBUTE]=f.responseTexts.join("")),d&&f.toolCalls.length&&(a[h.GEN_AI_RESPONSE_TOOL_CALLS_ATTRIBUTE]=JSON.stringify(f.toolCalls)),b.setAttributes(a),b.end()}}function t(a,b){if("model"in a&&"string"==typeof a.model)return a.model;if(b&&"object"==typeof b){if("model"in b&&"string"==typeof b.model)return b.model;if("modelVersion"in b&&"string"==typeof b.modelVersion)return b.modelVersion}return"unknown"}function u(a,b){if("contents"in b){let c=b.contents,d=(0,i.getTruncatedJsonString)(c);a.setAttributes({[h.GEN_AI_REQUEST_MESSAGES_ATTRIBUTE]:d})}if("message"in b){let c=b.message,d=(0,i.getTruncatedJsonString)(c);a.setAttributes({[h.GEN_AI_REQUEST_MESSAGES_ATTRIBUTE]:d})}if("history"in b){let c=b.history,d=(0,i.getTruncatedJsonString)(c);a.setAttributes({[h.GEN_AI_REQUEST_MESSAGES_ATTRIBUTE]:d})}}function v(a,b,j,k){let l=b===q;return new Proxy(a,{apply(a,m,n){let o=n[0],q=function(a,b,c){let e={[h.GEN_AI_SYSTEM_ATTRIBUTE]:p,[h.GEN_AI_OPERATION_NAME_ATTRIBUTE]:(0,i.getFinalOperationName)(a),[d.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ai.google_genai"};if(b){if(e[h.GEN_AI_REQUEST_MODEL_ATTRIBUTE]=t(b,c),"config"in b&&"object"==typeof b.config&&b.config){let a,c=b.config;if(Object.assign(e,(a={},"temperature"in c&&"number"==typeof c.temperature&&(a[h.GEN_AI_REQUEST_TEMPERATURE_ATTRIBUTE]=c.temperature),"topP"in c&&"number"==typeof c.topP&&(a[h.GEN_AI_REQUEST_TOP_P_ATTRIBUTE]=c.topP),"topK"in c&&"number"==typeof c.topK&&(a[h.GEN_AI_REQUEST_TOP_K_ATTRIBUTE]=c.topK),"maxOutputTokens"in c&&"number"==typeof c.maxOutputTokens&&(a[h.GEN_AI_REQUEST_MAX_TOKENS_ATTRIBUTE]=c.maxOutputTokens),"frequencyPenalty"in c&&"number"==typeof c.frequencyPenalty&&(a[h.GEN_AI_REQUEST_FREQUENCY_PENALTY_ATTRIBUTE]=c.frequencyPenalty),"presencePenalty"in c&&"number"==typeof c.presencePenalty&&(a[h.GEN_AI_REQUEST_PRESENCE_PENALTY_ATTRIBUTE]=c.presencePenalty),a)),"tools"in c&&Array.isArray(c.tools)){let a=c.tools.flatMap(a=>a.functionDeclarations);e[h.GEN_AI_REQUEST_AVAILABLE_TOOLS_ATTRIBUTE]=JSON.stringify(a)}}}else e[h.GEN_AI_REQUEST_MODEL_ATTRIBUTE]=t({},c);return e}(b,o,j),r=q[h.GEN_AI_REQUEST_MODEL_ATTRIBUTE]??"unknown",v=(0,i.getFinalOperationName)(b);return b.includes("Stream")||b.endsWith("generateContentStream")||b.endsWith("sendMessageStream")?(0,f.startSpanManual)({name:`${v} ${r} stream-response`,op:(0,i.getSpanOperation)(b),attributes:q},async d=>{try{k.recordInputs&&o&&u(d,o);let b=await a.apply(j,n);return s(b,d,!!k.recordOutputs)}catch(a){throw d.setStatus({code:e.SPAN_STATUS_ERROR,message:"internal_error"}),(0,c.captureException)(a,{mechanism:{handled:!1,type:"auto.ai.google_genai",data:{function:b}}}),d.end(),a}}):(0,f.startSpan)({name:l?`${v} ${r} create`:`${v} ${r}`,op:(0,i.getSpanOperation)(b),attributes:q},d=>(k.recordInputs&&o&&u(d,o),(0,g.handleCallbackErrors)(()=>a.apply(j,n),a=>{(0,c.captureException)(a,{mechanism:{handled:!1,type:"auto.ai.google_genai",data:{function:b}}})},()=>{},a=>{l||function(a,b,c){if(b&&"object"==typeof b){if(b.usageMetadata&&"object"==typeof b.usageMetadata){let c=b.usageMetadata;"number"==typeof c.promptTokenCount&&a.setAttributes({[h.GEN_AI_USAGE_INPUT_TOKENS_ATTRIBUTE]:c.promptTokenCount}),"number"==typeof c.candidatesTokenCount&&a.setAttributes({[h.GEN_AI_USAGE_OUTPUT_TOKENS_ATTRIBUTE]:c.candidatesTokenCount}),"number"==typeof c.totalTokenCount&&a.setAttributes({[h.GEN_AI_USAGE_TOTAL_TOKENS_ATTRIBUTE]:c.totalTokenCount})}if(c&&Array.isArray(b.candidates)&&b.candidates.length>0){let c=b.candidates.map(a=>a.content?.parts&&Array.isArray(a.content.parts)?a.content.parts.map(a=>"string"==typeof a.text?a.text:"").filter(a=>a.length>0).join(""):"").filter(a=>a.length>0);c.length>0&&a.setAttributes({[h.GEN_AI_RESPONSE_TEXT_ATTRIBUTE]:c.join("")})}if(c&&b.functionCalls){let c=b.functionCalls;Array.isArray(c)&&c.length>0&&a.setAttributes({[h.GEN_AI_RESPONSE_TOOL_CALLS_ATTRIBUTE]:JSON.stringify(c)})}}}(d,a,k.recordOutputs)})))}})}function w(a,c){let d=!!(0,b.getClient)()?.getOptions().sendDefaultPii;return function a(b,c="",d){return new Proxy(b,{get:(b,e,f)=>{let g=Reflect.get(b,e,f),h=(0,i.buildMethodPath)(c,String(e));if("function"==typeof g&&function(a){if(o.includes(a))return!0;let b=a.split(".").pop();return o.includes(b)}(h)){if(h===q){let c=v(g,h,b,d);return function(...b){let e=c(...b);return e&&"object"==typeof e?a(e,r,d):e}}return v(g,h,b,d)}return"function"==typeof g?g.bind(b):g&&"object"==typeof g?a(g,h,d):g}})}(a,"",{recordInputs:d,recordOutputs:d,...c})}a.s(["CHATS_CREATE_METHOD",()=>q,"CHAT_PATH",()=>r,"GOOGLE_GENAI_INSTRUMENTED_METHODS",()=>o,"GOOGLE_GENAI_INTEGRATION_NAME",()=>"Google_GenAI","GOOGLE_GENAI_SYSTEM_NAME",()=>p],68689),a.s(["instrumentGoogleGenAIClient",()=>w],91813)},92538,56074,a=>{"use strict";function b(){return"undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}function c(){return"npm"}function d(){return!1}a.s(["getSDKSource",()=>c,"isBrowserBundle",()=>b],56074),a.i(73209),a.s(["isBrowser",()=>d],92538)},36292,a=>{"use strict";var b=a.i(42055),c=a.i(41225),d=a.i(57456),e=a.i(27405);let f="flag.evaluation.";function g(a){let c=(0,b.getCurrentScope)().getScopeData().contexts.flags,d=c?c.values:[];return d.length&&(void 0===a.contexts&&(a.contexts={}),a.contexts.flags={values:[...d]}),a}function h(a,e,f=100){let g=(0,b.getCurrentScope)().getScopeData().contexts;g.flags||(g.flags={values:[]}),function(a,b,e,f){if("boolean"!=typeof e)return;if(a.length>f){c.DEBUG_BUILD&&d.debug.error(`[Feature Flags] insertToFlagBuffer called on a buffer larger than maxSize=${f}`);return}let g=a.findIndex(a=>a.flag===b);-1!==g&&a.splice(g,1),a.length===f&&a.shift(),a.push({flag:b,result:e})}(g.flags.values,a,e,f)}function i(a,b,c=10){if("boolean"!=typeof b)return;let d=(0,e.getActiveSpan)();if(!d)return;let g=(0,e.spanToJSON)(d).data;`${f}${a}`in g?d.setAttribute(`${f}${a}`,b):Object.keys(g).filter(a=>a.startsWith(f)).length<c&&d.setAttribute(`${f}${a}`,b)}a.s(["_INTERNAL_addFeatureFlagToActiveSpan",()=>i,"_INTERNAL_copyFlagsFromScopeToEvent",()=>g,"_INTERNAL_insertFlagToScope",()=>h])},49293,a=>{"use strict";var b=a.i(40022),c=a.i(36292),d=a.i(78799);let e=(0,b.defineIntegration)(({growthbookClass:a})=>({name:"GrowthBook",setupOnce(){let b=a.prototype;"function"==typeof b.isOn&&(0,d.fill)(b,"isOn",f),"function"==typeof b.getFeatureValue&&(0,d.fill)(b,"getFeatureValue",f)},processEvent:(a,b,d)=>(0,c._INTERNAL_copyFlagsFromScopeToEvent)(a)}));function f(a){return function(...b){let d=b[0],e=a.apply(this,b);return"string"==typeof d&&"boolean"==typeof e&&((0,c._INTERNAL_insertFlagToScope)(d,e),(0,c._INTERNAL_addFeatureFlagToActiveSpan)(d,e)),e}}a.s(["growthbookIntegration",()=>e])},64,a=>{"use strict";var b=a.i(42093);function c(a,d,e=[d],f="npm"){let g=a._metadata||{};g.sdk||(g.sdk={name:`sentry.javascript.${d}`,packages:e.map(a=>({name:`${f}:@sentry/${a}`,version:b.SDK_VERSION})),version:b.SDK_VERSION}),a._metadata=g}a.s(["applySdkMetadata",()=>c])},72822,65059,a=>{"use strict";var b=a.i(41225),c=a.i(40022),d=a.i(57456);function e(a){let b=[];a.message&&b.push(a.message);try{let c=a.exception.values[a.exception.values.length-1];c?.value&&(b.push(c.value),c.type&&b.push(`${c.type}: ${c.value}`))}catch{}return b}a.s(["getPossibleEventMessages",()=>e],65059);var f=a.i(82354),g=a.i(41188);let h=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],i=(0,c.defineIntegration)((a={})=>{let c;return{name:"EventFilters",setup(b){c=k(a,b.getOptions())},processEvent:(h,i,j)=>(c||(c=k(a,j.getOptions())),!function(a,c){if(a.type){if("transaction"===a.type&&function(a,b){if(!b?.length)return!1;let c=a.transaction;return!!c&&(0,g.stringMatchesSomePattern)(c,b)}(a,c.ignoreTransactions))return b.DEBUG_BUILD&&d.debug.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${(0,f.getEventDescription)(a)}`),!0}else{var h,i,j;if(h=a,i=c.ignoreErrors,i?.length&&e(h).some(a=>(0,g.stringMatchesSomePattern)(a,i)))return b.DEBUG_BUILD&&d.debug.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${(0,f.getEventDescription)(a)}`),!0;if(j=a,j.exception?.values?.length&&!j.message&&!j.exception.values.some(a=>a.stacktrace||a.type&&"Error"!==a.type||a.value))return b.DEBUG_BUILD&&d.debug.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${(0,f.getEventDescription)(a)}`),!0;if(function(a,b){if(!b?.length)return!1;let c=l(a);return!!c&&(0,g.stringMatchesSomePattern)(c,b)}(a,c.denyUrls))return b.DEBUG_BUILD&&d.debug.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${(0,f.getEventDescription)(a)}.
Url: ${l(a)}`),!0;if(!function(a,b){if(!b?.length)return!0;let c=l(a);return!c||(0,g.stringMatchesSomePattern)(c,b)}(a,c.allowUrls))return b.DEBUG_BUILD&&d.debug.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${(0,f.getEventDescription)(a)}.
Url: ${l(a)}`),!0}return!1}(h,c)?h:null)}}),j=(0,c.defineIntegration)((a={})=>({...i(a),name:"InboundFilters"}));function k(a={},b={}){return{allowUrls:[...a.allowUrls||[],...b.allowUrls||[]],denyUrls:[...a.denyUrls||[],...b.denyUrls||[]],ignoreErrors:[...a.ignoreErrors||[],...b.ignoreErrors||[],...a.disableErrorDefaults?[]:h],ignoreTransactions:[...a.ignoreTransactions||[],...b.ignoreTransactions||[]]}}function l(a){try{let b=[...a.exception?.values??[]].reverse().find(a=>a.mechanism?.parent_id===void 0&&a.stacktrace?.frames?.length),c=b?.stacktrace?.frames;return c?function(a=[]){for(let b=a.length-1;b>=0;b--){let c=a[b];if(c&&"<anonymous>"!==c.filename&&"[native code]"!==c.filename)return c.filename||null}return null}(c):null}catch{return b.DEBUG_BUILD&&d.debug.error(`Cannot extract url for event ${(0,f.getEventDescription)(a)}`),null}}a.s(["eventFiltersIntegration",()=>i,"inboundFiltersIntegration",()=>j],72822)},21154,a=>{"use strict";let b;var c=a.i(42055),d=a.i(40022),e=a.i(78799);let f=new WeakMap,g=(0,d.defineIntegration)(()=>({name:"FunctionToString",setupOnce(){b=Function.prototype.toString;try{Function.prototype.toString=function(...a){let d=(0,e.getOriginalFunction)(this),g=f.has((0,c.getClient)())&&void 0!==d?d:this;return b.apply(g,a)}}catch{}},setup(a){f.set(a,!0)}}));a.s(["functionToStringIntegration",()=>g])},80238,a=>{"use strict";var b=a.i(3237);function c(a,c,f,g,h,i){if(!h.exception?.values||!i||!(0,b.isInstanceOf)(i.originalException,Error))return;let j=h.exception.values.length>0?h.exception.values[h.exception.values.length-1]:void 0;j&&(h.exception.values=function a(c,f,g,h,i,j,k,l){if(j.length>=g+1)return j;let m=[...j];if((0,b.isInstanceOf)(h[i],Error)){d(k,l);let b=c(f,h[i]),j=m.length;e(b,i,j,l),m=a(c,f,g,h[i],i,[b,...m],b,j)}return Array.isArray(h.errors)&&h.errors.forEach((h,j)=>{if((0,b.isInstanceOf)(h,Error)){d(k,l);let b=c(f,h),n=m.length;e(b,`errors[${j}]`,n,l),m=a(c,f,g,h,i,[b,...m],b,n)}}),m}(a,c,g,i.originalException,f,h.exception.values,j,0))}function d(a,b){a.mechanism={handled:!0,type:"auto.core.linked_errors",...a.mechanism,..."AggregateError"===a.type&&{is_exception_group:!0},exception_id:b}}function e(a,b,c,d){a.mechanism={handled:!0,...a.mechanism,type:"chained",source:b,exception_id:c,parent_id:d}}a.s(["applyAggregateErrorsToEvent",()=>c])},49031,26533,22770,a=>{"use strict";var b=a.i(57456),c=a.i(78799),d=a.i(73209),e=a.i(41225),f=a.i(93481);let g={},h={};function i(a,b){g[a]=g[a]||[],g[a].push(b)}function j(a,c){if(!h[a]){h[a]=!0;try{c()}catch(c){e.DEBUG_BUILD&&b.debug.error(`Error while instrumenting ${a}`,c)}}}function k(a,c){let d=a&&g[a];if(d)for(let g of d)try{g(c)}catch(c){e.DEBUG_BUILD&&b.debug.error(`Error while triggering instrumentation handler.
Type: ${a}
Name: ${(0,f.getFunctionName)(g)}
Error:`,c)}}function l(a){let b="console";i(b,a),j(b,m)}function m(){"console"in d.GLOBAL_OBJ&&b.CONSOLE_LEVELS.forEach(function(a){a in d.GLOBAL_OBJ.console&&(0,c.fill)(d.GLOBAL_OBJ.console,a,function(c){return b.originalConsoleMethods[a]=c,function(...c){k("console",{args:c,level:a});let e=b.originalConsoleMethods[a];e?.apply(d.GLOBAL_OBJ.console,c)}})})}function n(a){return"warn"===a?"warning":["fatal","error","warning","log","info","debug"].includes(a)?a:"log"}a.s(["addHandler",()=>i,"maybeInstrument",()=>j,"triggerHandlers",()=>k],26533),a.s(["addConsoleInstrumentationHandler",()=>l],49031),a.s(["severityLevelFromString",()=>n],22770)},3921,8941,51279,a=>{"use strict";var b=a.i(41225),c=a.i(57456),d=a.i(78471),e=a.i(41989);let f=Symbol.for("SentryBufferFullError");function g(a=100){let b=new Set;return{get $(){return Array.from(b)},add:function(c){if(!(b.size<a))return(0,e.rejectedSyncPromise)(f);let d=c();return b.add(d),d.then(()=>{b.delete(d)},()=>{b.delete(d)}),d},drain:function(a){if(!b.size)return(0,e.resolvedSyncPromise)(!0);let c=Promise.allSettled(Array.from(b)).then(()=>!0);return a?Promise.race([c,new Promise(b=>setTimeout(()=>b(!1),a))]):c}}}function h(a,b=Date.now()){let c=parseInt(`${a}`,10);if(!isNaN(c))return 1e3*c;let d=Date.parse(`${a}`);return isNaN(d)?6e4:d-b}function i(a,b,c=Date.now()){return(a[b]||a.all||0)>c}function j(a,{statusCode:b,headers:c},d=Date.now()){let e={...a},f=c?.["x-sentry-rate-limits"],g=c?.["retry-after"];if(f)for(let a of f.trim().split(",")){let[b,c,,,f]=a.split(":",5),g=parseInt(b,10),h=(isNaN(g)?60:g)*1e3;if(c)for(let a of c.split(";"))"metric_bucket"===a?(!f||f.split(";").includes("custom"))&&(e[a]=d+h):e[a]=d+h;else e.all=d+h}else g?e.all=d+h(g,d):429===b&&(e.all=d+6e4);return e}function k(a,e,h=g(a.bufferSize||64)){let l={};return{send:function(g){let k=[];if((0,d.forEachEnvelopeItem)(g,(b,c)=>{let e=(0,d.envelopeItemTypeToDataCategory)(c);i(l,e)?a.recordDroppedEvent("ratelimit_backoff",e):k.push(b)}),0===k.length)return Promise.resolve({});let m=(0,d.createEnvelope)(g[0],k),n=b=>{(0,d.forEachEnvelopeItem)(m,(c,e)=>{a.recordDroppedEvent(b,(0,d.envelopeItemTypeToDataCategory)(e))})};return h.add(()=>e({body:(0,d.serializeEnvelope)(m)}).then(a=>(void 0!==a.statusCode&&(a.statusCode<200||a.statusCode>=300)&&b.DEBUG_BUILD&&c.debug.warn(`Sentry responded with status code ${a.statusCode} to sent event.`),l=j(l,a),a),a=>{throw n("network_error"),b.DEBUG_BUILD&&c.debug.error("Encountered error running transport request:",a),a})).then(a=>a,a=>{if(a===f)return b.DEBUG_BUILD&&c.debug.error("Skipped sending event because buffer is full."),n("queue_overflow"),Promise.resolve({});throw a})},flush:a=>h.drain(a)}}a.s(["SENTRY_BUFFER_FULL_ERROR",()=>f,"makePromiseBuffer",()=>g],8941),a.s(["isRateLimited",()=>i,"parseRetryAfterHeader",()=>h,"updateRateLimits",()=>j],51279),a.s(["createTransport",()=>k],3921)},45213,a=>{"use strict";let b=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function c(a){let c=a.length>1024?`<truncated>${a.slice(-1024)}`:a,d=b.exec(c);return d?d.slice(1):[]}function d(...a){let b="",c=!1;for(let d=a.length-1;d>=-1&&!c;d--){let e=d>=0?a[d]:"/";e&&(b=`${e}/${b}`,c="/"===e.charAt(0))}return b=(function(a,b){let c=0;for(let b=a.length-1;b>=0;b--){let d=a[b];"."===d?a.splice(b,1):".."===d?(a.splice(b,1),c++):c&&(a.splice(b,1),c--)}if(b)for(;c--;)a.unshift("..");return a})(b.split("/").filter(a=>!!a),!c).join("/"),(c?"/":"")+b||"."}function e(a){let b=0;for(;b<a.length&&""===a[b];b++);let c=a.length-1;for(;c>=0&&""===a[c];c--);return b>c?[]:a.slice(b,c-b+1)}function f(a,b){a=d(a).slice(1),b=d(b).slice(1);let c=e(a.split("/")),f=e(b.split("/")),g=Math.min(c.length,f.length),h=g;for(let a=0;a<g;a++)if(c[a]!==f[a]){h=a;break}let i=[];for(let a=h;a<c.length;a++)i.push("..");return(i=i.concat(f.slice(h))).join("/")}function g(a){let b=c(a),d=b[0]||"",e=b[1];return d||e?(e&&(e=e.slice(0,e.length-1)),d+e):"."}function h(a,b){let d=c(a)[2]||"";return b&&d.slice(-1*b.length)===b&&(d=d.slice(0,d.length-b.length)),d}a.s(["basename",()=>h,"dirname",()=>g,"relative",()=>f])},1900,a=>{"use strict";var b=a.i(91006);function c(a){let b=a.protocol?`${a.protocol}:`:"",c=a.port?`:${a.port}`:"";return`${b}//${a.host}${c}${a.path?`/${a.path}`:""}/api/`}function d(a,b,d){let e;return b||`${c(a)}${a.projectId}/envelope/?${e={sentry_version:"7"},a.publicKey&&(e.sentry_key=a.publicKey),d&&(e.sentry_client=`${d.name}/${d.version}`),new URLSearchParams(e).toString()}`}function e(a,d){let e=(0,b.makeDsn)(a);if(!e)return"";let f=`${c(e)}embed/error-page/`,g=`dsn=${(0,b.dsnToString)(e)}`;for(let a in d)if("dsn"!==a&&"onClose"!==a)if("user"===a){let a=d.user;if(!a)continue;a.name&&(g+=`&name=${encodeURIComponent(a.name)}`),a.email&&(g+=`&email=${encodeURIComponent(a.email)}`)}else g+=`&${encodeURIComponent(a)}=${encodeURIComponent(d[a])}`;return`${f}?${g}`}a.s(["getEnvelopeEndpointWithUrlEncodedAuth",()=>d,"getReportDialogEndpoint",()=>e])},14935,46969,a=>{"use strict";var b=a.i(42055),c=a.i(50889),d=a.i(27405);function e(a,e){return e?(0,b.withScope)(e,()=>{let f=(0,d.getActiveSpan)(),g=f?(0,d.spanToTraceContext)(f):(0,b.getTraceContextFromScope)(e);return[f?(0,c.getDynamicSamplingContextFromSpan)(f):(0,c.getDynamicSamplingContextFromScope)(a,e),g]}):[void 0,void 0]}a.s(["_getTraceInfoFromScope",()=>e],14935);let f={trace:1,debug:5,info:9,warn:13,error:17,fatal:21};a.s(["SEVERITY_TEXT_TO_SEVERITY_NUMBER",()=>f],46969)},3209,a=>{"use strict";var b=a.i(15740),c=a.i(42055),d=a.i(41225),e=a.i(13752),f=a.i(57456),g=a.i(3237),h=a.i(8146),i=a.i(64344),j=a.i(14935),k=a.i(46969),l=a.i(91006),m=a.i(78471);function n(a,b,c,d=!0){c&&(!a[b]||d)&&(a[b]=c)}function o(a,b){var c;let d=r(),e=(c=a,r().get(c));void 0===e?d.set(a,[b]):e.length>=100?(q(a,e),d.set(a,[b])):d.set(a,[...e,b])}function p(a,b=(0,c.getCurrentScope)(),l=o){var m;let q,r=b?.getClient()??(0,c.getClient)();if(!r){d.DEBUG_BUILD&&f.debug.warn("No client available to capture log.");return}let{release:s,environment:t,enableLogs:u=!1,beforeSendLog:v}=r.getOptions();if(!u){d.DEBUG_BUILD&&f.debug.warn("logging option not enabled, log will not be captured.");return}let[,w]=(0,j._getTraceInfoFromScope)(r,b),x={...a.attributes},{user:{id:y,email:z,username:A}}=(m=b,q=(0,c.getGlobalScope)().getScopeData(),(0,e.mergeScopeData)(q,(0,c.getIsolationScope)().getScopeData()),(0,e.mergeScopeData)(q,m.getScopeData()),q);n(x,"user.id",y,!1),n(x,"user.email",z,!1),n(x,"user.name",A,!1),n(x,"sentry.release",s),n(x,"sentry.environment",t);let{name:B,version:C}=r.getSdkMetadata()?.sdk??{};n(x,"sentry.sdk.name",B),n(x,"sentry.sdk.version",C);let D=r.getIntegrationByName("Replay"),E=D?.getReplayId(!0);n(x,"sentry.replay_id",E),E&&D?.getRecordingMode()==="buffer"&&n(x,"sentry._internal.replay_is_buffering",!0);let F=a.message;if((0,g.isParameterizedString)(F)){let{__sentry_template_string__:a,__sentry_template_values__:b=[]}=F;b?.length&&(x["sentry.message.template"]=a),b.forEach((a,b)=>{x[`sentry.message.parameter.${b}`]=a})}let G=(0,h._getSpanForScope)(b);n(x,"sentry.trace.parent_span_id",G?.spanContext().spanId);let H={...a,attributes:x};r.emit("beforeCaptureLog",H);let I=v?(0,f.consoleSandbox)(()=>v(H)):H;if(!I){r.recordDroppedEvent("before_send","log_item",1),d.DEBUG_BUILD&&f.debug.warn("beforeSendLog returned null, log will not be captured.");return}let{level:J,message:K,attributes:L={},severityNumber:M}=I;l(r,{timestamp:(0,i.timestampInSeconds)(),level:J,body:K,trace_id:w?.trace_id,severity_number:M??k.SEVERITY_TEXT_TO_SEVERITY_NUMBER[J],attributes:Object.keys(L).reduce((a,b)=>(a[b]=function(a){switch(typeof a){case"number":if(Number.isInteger(a))return{value:a,type:"integer"};return{value:a,type:"double"};case"boolean":return{value:a,type:"boolean"};case"string":return{value:a,type:"string"};default:{let b="";try{b=JSON.stringify(a)??""}catch{}return{value:b,type:"string"}}}}(L[b]),a),{})}),r.emit("afterCaptureLog",I)}function q(a,b){var c,d,e,f;let g,h=b??(f=a,r().get(f))??[];if(0===h.length)return;let i=a.getOptions(),j=(c=i._metadata,d=i.tunnel,e=a.getDsn(),g={},c?.sdk&&(g.sdk={name:c.sdk.name,version:c.sdk.version}),d&&e&&(g.dsn=(0,l.dsnToString)(e)),(0,m.createEnvelope)(g,[[{type:"log",item_count:h.length,content_type:"application/vnd.sentry.items.log+json"},{items:h}]]));r().set(a,[]),a.emit("flushLogs"),a.sendEnvelope(j)}function r(){return(0,b.getGlobalSingleton)("clientToLogBufferMap",()=>new WeakMap)}a.s(["_INTERNAL_captureLog",()=>p,"_INTERNAL_flushLogsBuffer",()=>q],3209)},68265,a=>{"use strict";var b=a.i(15740),c=a.i(42055),d=a.i(41225),e=a.i(13752),f=a.i(57456),g=a.i(8146),h=a.i(64344),i=a.i(14935),j=a.i(91006),k=a.i(78471);function l(a,b,c,d=!0){!c||!d&&b in a||(a[b]=c)}function m(a,b){var c;let d=p(),e=(c=a,p().get(c));void 0===e?d.set(a,[b]):e.length>=1e3?(o(a,e),d.set(a,[b])):d.set(a,[...e,b])}function n(a,b){let j=b?.scope??(0,c.getCurrentScope)(),k=b?.captureSerializedMetric??m,n=j?.getClient()??(0,c.getClient)();if(!n){d.DEBUG_BUILD&&f.debug.warn("No client available to capture metric.");return}let{_experiments:o,enableMetrics:p,beforeSendMetric:q}=n.getOptions();if(!(p??o?.enableMetrics??!0)){d.DEBUG_BUILD&&f.debug.warn("metrics option not enabled, metric will not be captured.");return}let r=function(a,b,d){var f;let g,{release:h,environment:i}=b.getOptions(),j={...a.attributes},{user:{id:k,email:m,username:n}}=(f=d,g=(0,c.getGlobalScope)().getScopeData(),(0,e.mergeScopeData)(g,(0,c.getIsolationScope)().getScopeData()),(0,e.mergeScopeData)(g,f.getScopeData()),g);l(j,"user.id",k,!1),l(j,"user.email",m,!1),l(j,"user.name",n,!1),l(j,"sentry.release",h),l(j,"sentry.environment",i);let{name:o,version:p}=b.getSdkMetadata()?.sdk??{};l(j,"sentry.sdk.name",o),l(j,"sentry.sdk.version",p);let q=b.getIntegrationByName("Replay"),r=q?.getReplayId(!0);return l(j,"sentry.replay_id",r),r&&q?.getRecordingMode()==="buffer"&&l(j,"sentry._internal.replay_is_buffering",!0),{...a,attributes:j}}(a,n,j);n.emit("processMetric",r);let s=q||o?.beforeSendMetric,t=s?s(r):r;if(!t){d.DEBUG_BUILD&&f.debug.log("`beforeSendMetric` returned `null`, will not send metric.");return}let u=function(a,b,c){let d={};for(let b in a.attributes)void 0!==a.attributes[b]&&(d[b]=function(a){switch(typeof a){case"number":if(Number.isInteger(a))return{value:a,type:"integer"};return{value:a,type:"double"};case"boolean":return{value:a,type:"boolean"};case"string":return{value:a,type:"string"};default:{let b="";try{b=JSON.stringify(a)??""}catch{}return{value:b,type:"string"}}}}(a.attributes[b]));let[,e]=(0,i._getTraceInfoFromScope)(b,c),f=(0,g._getSpanForScope)(c),j=f?f.spanContext().traceId:e?.trace_id,k=f?f.spanContext().spanId:void 0;return{timestamp:(0,h.timestampInSeconds)(),trace_id:j??"",span_id:k,name:a.name,type:a.type,unit:a.unit,value:a.value,attributes:d}}(t,n,j);d.DEBUG_BUILD&&f.debug.log("[Metric]",u),k(n,u),n.emit("afterCaptureMetric",t)}function o(a,b){var c,d,e,f;let g,h=b??(f=a,p().get(f))??[];if(0===h.length)return;let i=a.getOptions(),l=(c=i._metadata,d=i.tunnel,e=a.getDsn(),g={},c?.sdk&&(g.sdk={name:c.sdk.name,version:c.sdk.version}),d&&e&&(g.dsn=(0,j.dsnToString)(e)),(0,k.createEnvelope)(g,[[{type:"trace_metric",item_count:h.length,content_type:"application/vnd.sentry.items.trace-metric+json"},{items:h}]]));p().set(a,[]),a.emit("flushMetrics"),a.sendEnvelope(l)}function p(){return(0,b.getGlobalSingleton)("clientToMetricBufferMap",()=>new WeakMap)}a.s(["_INTERNAL_captureMetric",()=>n,"_INTERNAL_flushMetricsBuffer",()=>o],68265)},72898,a=>{"use strict";var b=a.i(1900),c=a.i(10819),d=a.i(42055),e=a.i(41225),f=a.i(81857),g=a.i(40022),h=a.i(3209),i=a.i(68265),j=a.i(6110),k=a.i(50889),l=a.i(78471),m=a.i(64344),n=a.i(57456),o=a.i(91006),p=a.i(65059),q=a.i(3237),r=a.i(44751),s=a.i(82354),t=a.i(44424),u=a.i(84716),v=a.i(26584),w=a.i(27405),x=a.i(41989),y=a.i(51326);let z="Not capturing exception because it's already been captured.",A="Discarded session because of missing or non-string release",B=Symbol.for("SentryInternalError"),C=Symbol.for("SentryDoNotSendEventError");function D(a){return{message:a,[B]:!0}}function E(a){return{message:a,[C]:!0}}function F(a){return!!a&&"object"==typeof a&&B in a}function G(a){return!!a&&"object"==typeof a&&C in a}function H(a,b,c,d,e){let f,g=0,h=!1;a.on(c,()=>{g=0,clearTimeout(f),h=!1}),a.on(b,b=>{(g+=d(b))>=8e5?e(a):h||(h=!0,f=setTimeout(()=>{e(a)},5e3))}),a.on("flush",()=>{e(a)})}class I{constructor(a){if(this._options=a,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],a.dsn?this._dsn=(0,o.makeDsn)(a.dsn):e.DEBUG_BUILD&&n.debug.warn("No DSN provided, client will not send events."),this._dsn){const c=(0,b.getEnvelopeEndpointWithUrlEncodedAuth)(this._dsn,a.tunnel,a._metadata?a._metadata.sdk:void 0);this._transport=a.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...a.transportOptions,url:c})}this._options.enableLogs&&H(this,"afterCaptureLog","flushLogs",M,h._INTERNAL_flushLogsBuffer),(this._options.enableMetrics??this._options._experiments?.enableMetrics??!0)&&H(this,"afterCaptureMetric","flushMetrics",L,i._INTERNAL_flushMetricsBuffer)}captureException(a,b,c){let d=(0,s.uuid4)();if((0,s.checkOrSetAlreadyCaught)(a))return e.DEBUG_BUILD&&n.debug.log(z),d;let f={event_id:d,...b};return this._process(this.eventFromException(a,f).then(a=>this._captureEvent(a,f,c))),f.event_id}captureMessage(a,b,c,d){let e={event_id:(0,s.uuid4)(),...c},f=(0,q.isParameterizedString)(a)?a:String(a),g=(0,q.isPrimitive)(a)?this.eventFromMessage(f,b,e):this.eventFromException(a,e);return this._process(g.then(a=>this._captureEvent(a,e,d))),e.event_id}captureEvent(a,b,c){let d=(0,s.uuid4)();if(b?.originalException&&(0,s.checkOrSetAlreadyCaught)(b.originalException))return e.DEBUG_BUILD&&n.debug.log(z),d;let f={event_id:d,...b},g=a.sdkProcessingMetadata||{},h=g.capturedSpanScope,i=g.capturedSpanIsolationScope;return this._process(this._captureEvent(a,f,h||c,i)),f.event_id}captureSession(a){this.sendSession(a),(0,j.updateSession)(a,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}async flush(a){let b=this._transport;if(!b)return!0;this.emit("flush");let c=await this._isClientDoneProcessing(a),d=await b.flush(a);return c&&d}async close(a){let b=await this.flush(a);return this.getOptions().enabled=!1,this.emit("close"),b}getEventProcessors(){return this._eventProcessors}addEventProcessor(a){this._eventProcessors.push(a)}init(){(this._isEnabled()||this._options.integrations.some(({name:a})=>a.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(a){return this._integrations[a]}addIntegration(a){let b=this._integrations[a.name];(0,g.setupIntegration)(this,a,this._integrations),b||(0,g.afterSetupIntegrations)(this,[a])}sendEvent(a,b={}){this.emit("beforeSendEvent",a,b);let c=(0,f.createEventEnvelope)(a,this._dsn,this._options._metadata,this._options.tunnel);for(let a of b.attachments||[])c=(0,l.addItemToEnvelope)(c,(0,l.createAttachmentEnvelopeItem)(a));this.sendEnvelope(c).then(b=>this.emit("afterSendEvent",a,b))}sendSession(a){let{release:b,environment:d=c.DEFAULT_ENVIRONMENT}=this._options;if("aggregates"in a){let c=a.attrs||{};if(!c.release&&!b){e.DEBUG_BUILD&&n.debug.warn(A);return}c.release=c.release||b,c.environment=c.environment||d,a.attrs=c}else{if(!a.release&&!b){e.DEBUG_BUILD&&n.debug.warn(A);return}a.release=a.release||b,a.environment=a.environment||d}this.emit("beforeSendSession",a);let g=(0,f.createSessionEnvelope)(a,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(g)}recordDroppedEvent(a,b,c=1){if(this._options.sendClientReports){let d=`${a}:${b}`;e.DEBUG_BUILD&&n.debug.log(`Recording outcome: "${d}"${c>1?` (${c} times)`:""}`),this._outcomes[d]=(this._outcomes[d]||0)+c}}on(a,b){let c=this._hooks[a]=this._hooks[a]||new Set,d=(...a)=>b(...a);return c.add(d),()=>{c.delete(d)}}emit(a,...b){let c=this._hooks[a];c&&c.forEach(a=>a(...b))}async sendEnvelope(a){if(this.emit("beforeEnvelope",a),this._isEnabled()&&this._transport)try{return await this._transport.send(a)}catch(a){return e.DEBUG_BUILD&&n.debug.error("Error while sending envelope:",a),{}}return e.DEBUG_BUILD&&n.debug.error("Transport disabled"),{}}_setupIntegrations(){let{integrations:a}=this._options;this._integrations=(0,g.setupIntegrations)(this,a),(0,g.afterSetupIntegrations)(this,a)}_updateSessionFromEvent(a,b){let c="fatal"===b.level,d=!1,e=b.exception?.values;if(e){for(let a of(d=!0,c=!1,e))if(a.mechanism?.handled===!1){c=!0;break}}let f="ok"===a.status;(f&&0===a.errors||f&&c)&&((0,j.updateSession)(a,{...c&&{status:"crashed"},errors:a.errors||Number(d||c)}),this.captureSession(a))}async _isClientDoneProcessing(a){let b=0;for(;!a||b<a;){if(await new Promise(a=>setTimeout(a,1)),!this._numProcessing)return!0;b++}return!1}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(a,b,c,e){let f=this.getOptions(),g=Object.keys(this._integrations);return!b.integrations&&g?.length&&(b.integrations=g),this.emit("preprocessEvent",a,b),a.type||e.setLastEventId(a.event_id||b.event_id),(0,u.prepareEvent)(f,a,b,c,this,e).then(a=>(null===a||(this.emit("postprocessEvent",a,b),a.contexts={trace:(0,d.getTraceContextFromScope)(c),...a.contexts},a.sdkProcessingMetadata={dynamicSamplingContext:(0,k.getDynamicSamplingContextFromScope)(this,c),...a.sdkProcessingMetadata}),a))}_captureEvent(a,b={},c=(0,d.getCurrentScope)(),f=(0,d.getIsolationScope)()){return e.DEBUG_BUILD&&J(a)&&n.debug.log(`Captured error event \`${(0,p.getPossibleEventMessages)(a)[0]||"<unknown>"}\``),this._processEvent(a,b,c,f).then(a=>a.event_id,a=>{e.DEBUG_BUILD&&(G(a)?n.debug.log(a.message):F(a)?n.debug.warn(a.message):n.debug.warn(a))})}_processEvent(a,b,c,d){let e=this.getOptions(),{sampleRate:f}=e,g=K(a),h=J(a),i=a.type||"error",j=`before send for type \`${i}\``,k=void 0===f?void 0:(0,t.parseSampleRate)(f);if(h&&"number"==typeof k&&Math.random()>k)return this.recordDroppedEvent("sample_rate","error"),(0,x.rejectedSyncPromise)(E(`Discarding event because it's not included in the random sample (sampling rate = ${f})`));let l="replay_event"===i?"replay":i;return this._prepareEvent(a,b,c,d).then(a=>{if(null===a)throw this.recordDroppedEvent("event_processor",l),E("An event processor returned `null`, will not send event.");return b.data&&!0===b.data.__sentry__?a:function(a,b){let c=`${b} must return \`null\` or a valid event.`;if((0,q.isThenable)(a))return a.then(a=>{if(!(0,q.isPlainObject)(a)&&null!==a)throw D(c);return a},a=>{throw D(`${b} rejected with ${a}`)});if(!(0,q.isPlainObject)(a)&&null!==a)throw D(c);return a}(function(a,b,c,d){let{beforeSend:e,beforeSendTransaction:f,beforeSendSpan:g,ignoreSpans:h}=b,i=c;if(J(i)&&e)return e(i,d);if(K(i)){if(g||h){let b=function(a){let{trace_id:b,parent_span_id:c,span_id:d,status:e,origin:f,data:g,op:h}=a.contexts?.trace??{};return{data:g??{},description:a.transaction,op:h,parent_span_id:c,span_id:d??"",start_timestamp:a.start_timestamp??0,status:e,timestamp:a.timestamp,trace_id:b??"",origin:f,profile_id:g?.[y.SEMANTIC_ATTRIBUTE_PROFILE_ID],exclusive_time:g?.[y.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME],measurements:a.measurements,is_segment:!0}}(i);if(h?.length&&(0,v.shouldIgnoreSpan)(b,h))return null;if(g){let a=g(b);if(a)i=(0,r.merge)(c,{type:"transaction",timestamp:a.timestamp,start_timestamp:a.start_timestamp,transaction:a.description,contexts:{trace:{trace_id:a.trace_id,span_id:a.span_id,parent_span_id:a.parent_span_id,op:a.op,status:a.status,origin:a.origin,data:{...a.data,...a.profile_id&&{[y.SEMANTIC_ATTRIBUTE_PROFILE_ID]:a.profile_id},...a.exclusive_time&&{[y.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME]:a.exclusive_time}}}},measurements:a.measurements});else(0,w.showSpanDropWarning)()}if(i.spans){let b=[],c=i.spans;for(let a of c){if(h?.length&&(0,v.shouldIgnoreSpan)(a,h)){(0,v.reparentChildSpans)(c,a);continue}if(g){let c=g(a);c?b.push(c):((0,w.showSpanDropWarning)(),b.push(a))}else b.push(a)}let d=i.spans.length-b.length;d&&a.recordDroppedEvent("before_send","span",d),i.spans=b}}if(f){if(i.spans){let a=i.spans.length;i.sdkProcessingMetadata={...c.sdkProcessingMetadata,spanCountBeforeProcessing:a}}return f(i,d)}}return i}(this,e,a,b),j)}).then(e=>{if(null===e){if(this.recordDroppedEvent("before_send",l),g){let b=1+(a.spans||[]).length;this.recordDroppedEvent("before_send","span",b)}throw E(`${j} returned \`null\`, will not send event.`)}let f=c.getSession()||d.getSession();if(h&&f&&this._updateSessionFromEvent(f,e),g){let a=(e.sdkProcessingMetadata?.spanCountBeforeProcessing||0)-(e.spans?e.spans.length:0);a>0&&this.recordDroppedEvent("before_send","span",a)}let i=e.transaction_info;return g&&i&&e.transaction!==a.transaction&&(e.transaction_info={...i,source:"custom"}),this.sendEvent(e,b),e}).then(null,a=>{if(G(a)||F(a))throw a;throw this.captureException(a,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:a}),D(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${a}`)})}_process(a){this._numProcessing++,a.then(a=>(this._numProcessing--,a),a=>(this._numProcessing--,a))}_clearOutcomes(){let a=this._outcomes;return this._outcomes={},Object.entries(a).map(([a,b])=>{let[c,d]=a.split(":");return{reason:c,category:d,quantity:b}})}_flushOutcomes(){var a;let b;e.DEBUG_BUILD&&n.debug.log("Flushing outcomes...");let c=this._clearOutcomes();if(0===c.length){e.DEBUG_BUILD&&n.debug.log("No outcomes to send");return}if(!this._dsn){e.DEBUG_BUILD&&n.debug.log("No dsn provided, will not send outcomes");return}e.DEBUG_BUILD&&n.debug.log("Sending outcomes:",c);let d=(a=this._options.tunnel&&(0,o.dsnToString)(this._dsn),b=[{type:"client_report"},{timestamp:(0,m.dateTimestampInSeconds)(),discarded_events:c}],(0,l.createEnvelope)(a?{dsn:a}:{},[b]));this.sendEnvelope(d)}}function J(a){return void 0===a.type}function K(a){return"transaction"===a.type}function L(a){let b=0;return a.name&&(b+=2*a.name.length),(b+=8)+N(a.attributes)}function M(a){let b=0;return a.message&&(b+=2*a.message.length),b+N(a.attributes)}function N(a){if(!a)return 0;let b=0;return Object.values(a).forEach(a=>{Array.isArray(a)?b+=a.length*O(a[0]):(0,q.isPrimitive)(a)?b+=O(a):b+=100}),b}function O(a){return"string"==typeof a?2*a.length:"number"==typeof a?8:4*("boolean"==typeof a)}a.s(["Client",()=>I],72898)},77880,86577,55263,a=>{"use strict";var b=a.i(41225),c=a.i(73209),d=a.i(26533);let e=null;function f(a){let b="error";(0,d.addHandler)(b,a),(0,d.maybeInstrument)(b,g)}function g(){e=c.GLOBAL_OBJ.onerror,c.GLOBAL_OBJ.onerror=function(a,b,c,f,g){return(0,d.triggerHandlers)("error",{column:f,error:g,line:c,msg:a,url:b}),!!e&&e.apply(this,arguments)},c.GLOBAL_OBJ.onerror.__SENTRY_INSTRUMENTED__=!0}a.s(["addGlobalErrorInstrumentationHandler",()=>f],86577);let h=null;function i(a){let b="unhandledrejection";(0,d.addHandler)(b,a),(0,d.maybeInstrument)(b,j)}function j(){h=c.GLOBAL_OBJ.onunhandledrejection,c.GLOBAL_OBJ.onunhandledrejection=function(a){return(0,d.triggerHandlers)("unhandledrejection",a),!h||h.apply(this,arguments)},c.GLOBAL_OBJ.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}a.s(["addGlobalUnhandledRejectionInstrumentationHandler",()=>i],55263);var k=a.i(57456),l=a.i(27405),m=a.i(14096);let n=!1;function o(){n||(a.tag="sentry_tracingErrorCallback",n=!0,f(a),i(a));function a(){let a=(0,l.getActiveSpan)(),c=a&&(0,l.getRootSpan)(a);if(c){let a="internal_error";b.DEBUG_BUILD&&k.debug.log(`[Tracing] Root span: ${a} -> Global error occurred`),c.setStatus({code:m.SPAN_STATUS_ERROR,message:a})}}}a.s(["registerSpanErrorInstrumentation",()=>o],77880)},46022,a=>{"use strict";var b=a.i(42055),c=a.i(9206),d=a.i(49031),e=a.i(40022),f=a.i(57456),g=a.i(82354),h=a.i(22770),i=a.i(41188),j=a.i(73209);let k=(0,e.defineIntegration)((a={})=>{let e=a.levels||f.CONSOLE_LEVELS,k=a.handled??!0;return{name:"CaptureConsole",setup(a){"console"in j.GLOBAL_OBJ&&(0,d.addConsoleInstrumentationHandler)(({args:d,level:f})=>{var j,l,m;let n,o,p;(0,b.getClient)()===a&&e.includes(f)&&(j=d,l=f,m=k,n=(0,h.severityLevelFromString)(l),o=Error(),p={level:(0,h.severityLevelFromString)(l),extra:{arguments:j}},(0,b.withScope)(a=>{if(a.addEventProcessor(a=>(a.logger="console",(0,g.addExceptionMechanism)(a,{handled:m,type:"auto.core.capture_console"}),a)),"assert"===l){if(!j[0]){let b=`Assertion failed: ${(0,i.safeJoin)(j.slice(1)," ")||"console.assert"}`;a.setExtra("arguments",j.slice(1)),a.captureMessage(b,n,{captureContext:p,syntheticException:o})}return}let b=j.find(a=>a instanceof Error);if(b)return void(0,c.captureException)(b,p);let d=(0,i.safeJoin)(j," ");a.captureMessage(d,n,{captureContext:p,syntheticException:o})}))})}}});a.s(["captureConsoleIntegration",()=>k])},26468,a=>{"use strict";var b=a.i(42055);function c(a,d={},e=(0,b.getCurrentScope)()){let{message:f,name:g,email:h,url:i,source:j,associatedEventId:k,tags:l}=a,m={contexts:{feedback:{contact_email:h,name:g,message:f,url:i,source:j,associated_event_id:k}},type:"feedback",level:"info",tags:l},n=e?.getClient()||(0,b.getClient)();return n&&n.emit("beforeSendFeedback",m,d),e.captureEvent(m,d)}a.s(["captureFeedback",()=>c])},41666,39463,a=>{"use strict";var b=a.i(42055),c=a.i(41225),d=a.i(49031),e=a.i(40022),f=a.i(51326),g=a.i(57456),h=a.i(3209),i=a.i(3237),j=a.i(74009),k=a.i(73209);function l(a,b,c){var d,e,f;return"util"in k.GLOBAL_OBJ&&"function"==typeof k.GLOBAL_OBJ.util.format?k.GLOBAL_OBJ.util.format(...a):(d=a,e=b,f=c,d.map(a=>(0,i.isPrimitive)(a)?String(a):JSON.stringify((0,j.normalize)(a,e,f))).join(" "))}function m(a){return/%[sdifocO]/.test(a)}function n(a,b){let c={},d=Array(b.length).fill("{}").join(" ");return c["sentry.message.template"]=`${a} ${d}`,b.forEach((a,b)=>{c[`sentry.message.parameter.${b}`]=a}),c}a.s(["createConsoleTemplateAttributes",()=>n,"formatConsoleArgs",()=>l,"hasConsoleSubstitutions",()=>m],39463);let o={[f.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.log.console"},p=(0,e.defineIntegration)((a={})=>{let e=a.levels||g.CONSOLE_LEVELS;return{name:"ConsoleLogs",setup(a){let{enableLogs:f,normalizeDepth:i=3,normalizeMaxBreadth:j=1e3}=a.getOptions();if(!f){c.DEBUG_BUILD&&g.debug.warn("`enableLogs` is not enabled, ConsoleLogs integration disabled");return}(0,d.addConsoleInstrumentationHandler)(({args:c,level:d})=>{if((0,b.getClient)()!==a||!e.includes(d))return;let f=c[0],g=c.slice(1);if("assert"===d){if(!f){let a=g.length>0?`Assertion failed: ${l(g,i,j)}`:"Assertion failed";(0,h._INTERNAL_captureLog)({level:"error",message:a,attributes:o})}return}let k="log"===d,p=c.length>1&&"string"==typeof c[0]&&!m(c[0]),q={...o,...p?n(f,g):{}};(0,h._INTERNAL_captureLog)({level:k?"info":d,message:l(c,i,j),severityNumber:k?10:void 0,attributes:q})})}}});a.s(["consoleLoggingIntegration",()=>p],41666)},25861,a=>{"use strict";var b=a.i(42055),c=a.i(3209),d=a.i(39463);let e=["trace","debug","info","warn","error","fatal"];function f(a={}){let i=new Set(a.levels??e),j=a.client;return{log(a){let{type:e,level:f,message:k,args:l,tag:m,date:n,...o}=a,p=j||(0,b.getClient)();if(!p)return;let q=function(a,b){if("verbose"===a)return"debug";if("silent"===a)return"trace";if(a){let b=g[a];if(b)return b}if("number"==typeof b){let a=h[b];if(a)return a}return"info"}(e,f);if(!i.has(q))return;let{normalizeDepth:r=3,normalizeMaxBreadth:s=1e3}=p.getOptions(),t=[];k&&t.push(k),l&&l.length>0&&t.push((0,d.formatConsoleArgs)(l,r,s));let u=t.join(" ");o["sentry.origin"]="auto.log.consola",m&&(o["consola.tag"]=m),e&&(o["consola.type"]=e),null!=f&&"number"==typeof f&&(o["consola.level"]=f),(0,c._INTERNAL_captureLog)({level:q,message:u,attributes:o})}}}let g={silent:"trace",fatal:"fatal",error:"error",warn:"warn",log:"info",info:"info",success:"info",fail:"error",ready:"info",start:"info",box:"info",debug:"debug",trace:"trace",verbose:"debug",critical:"fatal",notice:"info"},h={0:"fatal",1:"warn",2:"info",3:"info",4:"debug",5:"trace"};a.s(["createConsolaReporter",()=>f])},88826,a=>{"use strict";var b=a.i(41225),c=a.i(40022),d=a.i(57456),e=a.i(93481);let f=(0,c.defineIntegration)(()=>{let a;return{name:"Dedupe",processEvent(c){if(c.type)return c;try{var e,f,j,k,l,m;let n,o,p,q;if(e=c,(f=a)&&(j=e,k=f,n=j.message,o=k.message,(n||o)&&(!n||o)&&(n||!o)&&n===o&&h(j,k)&&g(j,k)&&1||(l=e,m=f,p=i(m),q=i(l),p&&q&&p.type===q.type&&p.value===q.value&&h(l,m)&&g(l,m))))return b.DEBUG_BUILD&&d.debug.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return a=c}}});function g(a,b){let c=(0,e.getFramesFromEvent)(a),d=(0,e.getFramesFromEvent)(b);if(!c&&!d)return!0;if(c&&!d||!c&&d||d.length!==c.length)return!1;for(let a=0;a<d.length;a++){let b=d[a],e=c[a];if(b.filename!==e.filename||b.lineno!==e.lineno||b.colno!==e.colno||b.function!==e.function)return!1}return!0}function h(a,b){let c=a.fingerprint,d=b.fingerprint;if(!c&&!d)return!0;if(c&&!d||!c&&d)return!1;try{return c.join("")===d.join("")}catch{return!1}}function i(a){return a.exception?.values?.[0]}a.s(["dedupeIntegration",()=>f])},79518,a=>{"use strict";var b=a.i(41225),c=a.i(40022),d=a.i(57456),e=a.i(3237),f=a.i(74009),g=a.i(78799),h=a.i(41188);let i=(0,c.defineIntegration)((a={})=>{let{depth:c=3,captureErrorCause:i=!0}=a;return{name:"ExtraErrorData",processEvent(a,j,k){let{maxValueLength:l}=k.getOptions();return function(a,c={},i,j,k){if(!c.originalException||!(0,e.isError)(c.originalException))return a;let l=c.originalException.name||c.originalException.constructor.name,m=function a(c,f,g){try{let b=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],d={};for(let a of Object.keys(c)){if(-1!==b.indexOf(a))continue;let f=c[a];d[a]=(0,e.isError)(f)||"string"==typeof f?g?(0,h.truncate)(`${f}`,g):`${f}`:f}if(f&&void 0!==c.cause&&((0,e.isError)(c.cause)?d.cause={[c.cause.name||c.cause.constructor.name]:a(c.cause,!1,g)}:d.cause=c.cause),"function"==typeof c.toJSON){let a=c.toJSON();for(let b of Object.keys(a)){let c=a[b];d[b]=(0,e.isError)(c)?c.toString():c}}return d}catch(a){b.DEBUG_BUILD&&d.debug.error("Unable to extract extra data from the Error object:",a)}return null}(c.originalException,j,k);if(m){let b={...a.contexts},c=(0,f.normalize)(m,i);return(0,e.isPlainObject)(c)&&((0,g.addNonEnumerableProperty)(c,"__sentry_skip_normalization__",!0),b[l]=c),{...a,contexts:b}}return a}(a,j,c,i,l)}}});a.s(["extraErrorDataIntegration",()=>i])},65808,a=>{"use strict";var b=a.i(40022),c=a.i(36292);let d=(0,b.defineIntegration)(()=>({name:"FeatureFlags",processEvent:(a,b,d)=>(0,c._INTERNAL_copyFlagsFromScopeToEvent)(a),addFeatureFlag(a,b){(0,c._INTERNAL_insertFlagToScope)(a,b),(0,c._INTERNAL_addFeatureFlagToActiveSpan)(a,b)}}));a.s(["featureFlagsIntegration",()=>d])},60747,22057,a=>{"use strict";var b=a.i(71637),c=a.i(41225),d=a.i(9206),e=a.i(40022),f=a.i(51326),g=a.i(57456),h=a.i(82354),i=a.i(3237),j=a.i(14096),k=a.i(13116);let l=["reauthenticate","signInAnonymously","signInWithOAuth","signInWithIdToken","signInWithOtp","signInWithPassword","signInWithSSO","signOut","signUp","verifyOtp"],m=["createUser","deleteUser","listUsers","getUserById","updateUserById","inviteUserByEmail"],n={eq:"eq",neq:"neq",gt:"gt",gte:"gte",lt:"lt",lte:"lte",like:"like","like(all)":"likeAllOf","like(any)":"likeAnyOf",ilike:"ilike","ilike(all)":"ilikeAllOf","ilike(any)":"ilikeAnyOf",is:"is",in:"in",cs:"contains",cd:"containedBy",sr:"rangeGt",nxl:"rangeGte",sl:"rangeLt",nxr:"rangeLte",adj:"rangeAdjacent",ov:"overlaps",fts:"",plfts:"plain",phfts:"phrase",wfts:"websearch",not:"not"},o=["select","insert","upsert","update","delete"];function p(a){try{a.__SENTRY_INSTRUMENTED__=!0}catch{}}function q(a){try{return a.__SENTRY_INSTRUMENTED__}catch{return!1}}function r(a,b=!1){return new Proxy(a,{apply:(c,e,g)=>(0,k.startSpan)({name:`auth ${b?"(admin) ":""}${a.name}`,attributes:{[f.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.db.supabase",[f.SEMANTIC_ATTRIBUTE_SENTRY_OP]:"db","db.system":"postgresql","db.operation":`auth.${b?"admin.":""}${a.name}`}},a=>Reflect.apply(c,e,g).then(b=>(b&&"object"==typeof b&&"error"in b&&b.error?(a.setStatus({code:j.SPAN_STATUS_ERROR}),(0,d.captureException)(b.error,{mechanism:{handled:!1,type:"auto.db.supabase.auth"}})):a.setStatus({code:j.SPAN_STATUS_OK}),a.end(),b)).catch(b=>{throw a.setStatus({code:j.SPAN_STATUS_ERROR}),a.end(),(0,d.captureException)(b,{mechanism:{handled:!1,type:"auto.db.supabase.auth"}}),b}).then(...g))})}let s=a=>{var e;if(!a){c.DEBUG_BUILD&&g.debug.warn("Supabase integration was not installed because no Supabase client was provided.");return}q((e=a.constructor===Function?a:a.constructor).prototype.from)||(e.prototype.from=new Proxy(e.prototype.from,{apply(a,e,l){let m=Reflect.apply(a,e,l);return function(a){for(let e of o)q(a.prototype[e])||(a.prototype[e]=new Proxy(a.prototype[e],{apply(a,l,m){let r=Reflect.apply(a,l,m),s=r.constructor;return c.DEBUG_BUILD&&g.debug.log(`Instrumenting ${e} operation's PostgRESTFilterBuilder`),q(s.prototype.then)||(s.prototype.then=new Proxy(s.prototype.then,{apply(a,c,e){let g=function(a,b={}){switch(a){case"GET":return"select";case"POST":if(b.Prefer?.includes("resolution="))return"upsert";return"insert";case"PATCH":return"update";case"DELETE":return"delete";default:return"<unknown-op>"}}(c.method,c.headers);if(!o.includes(g)||!c?.url?.pathname||"string"!=typeof c.url.pathname)return Reflect.apply(a,c,e);let l=c.url.pathname.split("/"),m=l.length>0?l[l.length-1]:"",p=[];for(let[a,b]of c.url.searchParams.entries())p.push(function(a,b){let c;if(""===b||"*"===b)return"select(*)";if("select"===a)return`select(${b})`;if("or"===a||a.endsWith(".or"))return`${a}${b}`;let[d,...e]=b.split(".");return c=d?.startsWith("fts")?"textSearch":d?.startsWith("plfts")?"textSearch[plain]":d?.startsWith("phfts")?"textSearch[phrase]":d?.startsWith("wfts")?"textSearch[websearch]":d&&n[d]||"filter",`${c}(${a}, ${e.join(".")})`}(a,b));let q=Object.create(null);if((0,i.isPlainObject)(c.body))for(let[a,b]of Object.entries(c.body))q[a]=b;let r=`${"select"===g?"":`${g}${q?"(...) ":""}`}${p.join(" ")} from(${m})`,s={"db.table":m,"db.schema":c.schema,"db.url":c.url.origin,"db.sdk":c.headers["X-Client-Info"],"db.system":"postgresql","db.operation":g,[f.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.db.supabase",[f.SEMANTIC_ATTRIBUTE_SENTRY_OP]:"db"};return p.length&&(s["db.query"]=p),Object.keys(q).length&&(s["db.body"]=q),(0,k.startSpan)({name:r,attributes:s},f=>Reflect.apply(a,c,[]).then(a=>{if(f&&(a&&"object"==typeof a&&"status"in a&&(0,j.setHttpStatus)(f,a.status||500),f.end()),a.error){let b=Error(a.error.message);a.error.code&&(b.code=a.error.code),a.error.details&&(b.details=a.error.details);let c={};p.length&&(c.query=p),Object.keys(q).length&&(c.body=q),(0,d.captureException)(b,a=>(a.addEventProcessor(a=>((0,h.addExceptionMechanism)(a,{handled:!1,type:"auto.db.supabase.postgres"}),a)),a.setContext("supabase",c),a))}let c={type:"supabase",category:`db.${g}`,message:r},e={};return p.length&&(e.query=p),Object.keys(q).length&&(e.body=q),Object.keys(e).length&&(c.data=e),(0,b.addBreadcrumb)(c),a},a=>{throw f&&((0,j.setHttpStatus)(f,500),f.end()),a}).then(...e))}}),p(s.prototype.then)),r}}),p(a.prototype[e]))}(m.constructor),m}}),p(e.prototype.from));let s=a.auth;if(!(!s||q(a.auth))){for(let b of l){let c=s[b];c&&"function"==typeof a.auth[b]&&(a.auth[b]=r(c))}for(let b of m){let c=s.admin[b];c&&"function"==typeof a.auth.admin[b]&&(a.auth.admin[b]=r(c,!0))}p(a.auth)}},t=(0,e.defineIntegration)(a=>{let b;return b=a.supabaseClient,{setupOnce(){s(b)},name:"Supabase"}});function u(a,...b){let c=new String(String.raw(a,...b));return c.__sentry_template_string__=a.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),c.__sentry_template_values__=b,c}a.s(["instrumentSupabaseClient",()=>s,"supabaseIntegration",()=>t],60747),a.s(["fmt",()=>u,"parameterize",()=>u],22057)},38683,70474,14257,a=>{"use strict";var b=a.i(40022),c=a.i(45213),d=a.i(73209);let e=(0,b.defineIntegration)((a={})=>{let b=a.root,e=a.prefix||"app:///",f="window"in d.GLOBAL_OBJ&&!!d.GLOBAL_OBJ.window,g=a.iteratee||function({isBrowser:a,root:b,prefix:d}){return e=>{if(!e.filename)return e;let f=/^[a-zA-Z]:\\/.test(e.filename)||e.filename.includes("\\")&&!e.filename.includes("/"),g=/^\//.test(e.filename);if(a){if(b){let a=e.filename;0===a.indexOf(b)&&(e.filename=a.replace(b,d))}}else if(f||g){let a=f?e.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):e.filename,g=b?(0,c.relative)(b,a):(0,c.basename)(a);e.filename=`${d}${g}`}return e}}({isBrowser:f,root:b,prefix:e});return{name:"RewriteFrames",processEvent(a){let b=a;return a.exception&&Array.isArray(a.exception.values)&&(b=function(a){try{return{...a,exception:{...a.exception,values:a.exception.values.map(a=>{var b;return{...a,...a.stacktrace&&{stacktrace:{...b=a.stacktrace,frames:b?.frames?.map(a=>g(a))}}}})}}}catch{return a}}(b)),b}}});a.s(["rewriteFramesIntegration",()=>e],38683);var f=a.i(42055),g=a.i(41225),h=a.i(57456);function i(a,b){!0===b.debug&&(g.DEBUG_BUILD?h.debug.enable():(0,h.consoleSandbox)(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),(0,f.getCurrentScope)().update(b.initialScope);let c=new a(b);return j(c),c.init(),c}function j(a){(0,f.getCurrentScope)().setClient(a)}a.s(["initAndBind",()=>i,"setCurrentClient",()=>j],70474);var k=a.i(3237),l=a.i(41188);function m(a){return{...a,path:"path"in a&&Array.isArray(a.path)?a.path.join("."):void 0,keys:"keys"in a?JSON.stringify(a.keys):void 0,unionErrors:"unionErrors"in a?JSON.stringify(a.unionErrors):void 0}}let n=(0,b.defineIntegration)((a={})=>{let b=a.limit??10;return{name:"ZodErrors",processEvent:(c,d)=>(function(a,b=!1,c,d){var e;if(!c.exception?.values||!d.originalException||(e=d.originalException,!((0,k.isError)(e)&&"ZodError"===e.name&&Array.isArray(e.issues)))||0===d.originalException.issues.length)return c;try{let e=(b?d.originalException.issues:d.originalException.issues.slice(0,a)).map(m);return b&&(Array.isArray(d.attachments)||(d.attachments=[]),d.attachments.push({filename:"zod_issues.json",data:JSON.stringify({issues:e})})),{...c,exception:{...c.exception,values:[{...c.exception.values[0],value:function(a){let b=new Set;for(let c of a.issues){let a=c.path.map(a=>"number"==typeof a?"<array>":a).join(".");a.length>0&&b.add(a)}let c=Array.from(b);if(0===c.length){let b="variable";if(a.issues.length>0){let c=a.issues[0];void 0!==c&&"expected"in c&&"string"==typeof c.expected&&(b=c.expected)}return`Failed to validate ${b}`}return`Failed to validate keys: ${(0,l.truncate)(c.join(", "),100)}`}(d.originalException)},...c.exception.values.slice(1)]},extra:{...c.extra,"zoderror.issues":e.slice(0,a)}}}catch(a){return{...c,extra:{...c.extra,"zoderrors sentry integration parse error":{message:"an exception was thrown while processing ZodError within applyZodErrorsToEvent()",error:a instanceof Error?`${a.name}: ${a.message}
${a.stack}`:"unknown"}}}}})(b,a.saveZodIssuesAsAttachment,c,d)}});a.s(["zodErrorsIntegration",()=>n],14257)},39230,a=>{"use strict";var b=a.i(68265);function c(a,c,d,e){(0,b._INTERNAL_captureMetric)({type:a,name:c,value:d,unit:e?.unit,attributes:e?.attributes},{scope:e?.scope})}function d(a,b=1,e){c("counter",a,b,e)}function e(a,b,d){c("gauge",a,b,d)}function f(a,b,d){c("distribution",a,b,d)}a.s(["count",()=>d,"distribution",()=>f,"gauge",()=>e],6636);var g=a.i(6636);a.s(["metrics",0,g],39230)}];

//# sourceMappingURL=a6501_%40sentry_core_build_esm_497c946a._.js.map