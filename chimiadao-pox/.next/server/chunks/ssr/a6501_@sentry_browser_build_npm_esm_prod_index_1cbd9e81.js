module.exports=[89367,a=>{"use strict";let b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;a.s([],16500),a.i(16500);var w,x,y,z,A,B,C,D,E,F,G,H,I=a.i(73209),J=a.i(42055),K=a.i(26468),L=a.i(66922),M=a.i(92538),N=a.i(57456),O=a.i(40022);let P=I.GLOBAL_OBJ,Q=P.document,R=P.navigator,S="Report a Bug",T="Cancel",U="Send Bug Report",V="Confirm",W="Report a Bug",X="your.email@example.org",Y="Email",Z="What's the bug? What did you expect?",$="Description",_="Your Name",aa="Name",ab="Thank you for your report!",ac="(required)",ad="Add a screenshot",ae="Remove screenshot",af="Highlight",ag="Hide",ah="Remove",ai=(a,b={includeReplay:!0})=>{if(!a.message)throw Error("Unable to submit feedback with empty message");let c=(0,J.getClient)();if(!c)throw Error("No client setup, cannot send feedback.");a.tags&&Object.keys(a.tags).length&&(0,J.getCurrentScope)().setTags(a.tags);let d=(0,K.captureFeedback)({source:"api",url:(0,L.getLocationHref)(),...a},b);return new Promise((a,b)=>{let e=setTimeout(()=>b("Unable to determine if Feedback was correctly sent."),3e4),f=c.on("afterSendEvent",(c,g)=>{if(c.event_id===d)return(clearTimeout(e),f(),g?.statusCode&&g.statusCode>=200&&g.statusCode<300)?a(d):g?.statusCode===403?b("Unable to send feedback. This could be because this domain is not in your list of allowed domains."):b("Unable to send feedback. This could be because of network issues, or because you are using an ad-blocker.")})})},aj="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function ak(a,b){return{...a,...b,tags:{...a.tags,...b.tags},onFormOpen:()=>{b.onFormOpen?.(),a.onFormOpen?.()},onFormClose:()=>{b.onFormClose?.(),a.onFormClose?.()},onSubmitSuccess:(c,d)=>{b.onSubmitSuccess?.(c,d),a.onSubmitSuccess?.(c,d)},onSubmitError:c=>{b.onSubmitError?.(c),a.onSubmitError?.(c)},onFormSubmitted:()=>{b.onFormSubmitted?.(),a.onFormSubmitted?.()},themeDark:{...a.themeDark,...b.themeDark},themeLight:{...a.themeLight,...b.themeLight}}}function al(a,b){return Object.entries(b).forEach(([b,c])=>{a.setAttributeNS(null,b,c)}),a}let am="rgba(88, 74, 192, 1)",an={foreground:"#2b2233",background:"#ffffff",accentForeground:"white",accentBackground:am,successColor:"#268d75",errorColor:"#df3338",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(95%)"},ao={foreground:"#ebe6ef",background:"#29232f",accentForeground:"white",accentBackground:am,successColor:"#2da98c",errorColor:"#f55459",border:"1.5px solid rgba(235, 230, 239, 0.15)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(150%)"};function ap(a){return`
  --foreground: ${a.foreground};
  --background: ${a.background};
  --accent-foreground: ${a.accentForeground};
  --accent-background: ${a.accentBackground};
  --success-color: ${a.successColor};
  --error-color: ${a.errorColor};
  --border: ${a.border};
  --box-shadow: ${a.boxShadow};
  --outline: ${a.outline};
  --interactive-filter: ${a.interactiveFilter};
  `}let aq=({lazyLoadIntegration:a,getModalIntegration:b,getScreenshotIntegration:c})=>({id:d="sentry-feedback",autoInject:e=!0,showBranding:f=!0,isEmailRequired:g=!1,isNameRequired:h=!1,showEmail:i=!0,showName:j=!0,enableScreenshot:k=!0,useSentryUser:l={email:"email",name:"username"},tags:m,styleNonce:n,scriptNonce:o,colorScheme:p="system",themeLight:q={},themeDark:r={},addScreenshotButtonLabel:s=ad,cancelButtonLabel:t=T,confirmButtonLabel:u=V,emailLabel:v=Y,emailPlaceholder:w=X,formTitle:x=W,isRequiredLabel:y=ac,messageLabel:z=$,messagePlaceholder:A=Z,nameLabel:B=aa,namePlaceholder:C=_,removeScreenshotButtonLabel:D=ae,submitButtonLabel:E=U,successMessageText:F=ab,triggerLabel:G=S,triggerAriaLabel:H="",highlightToolText:I=af,hideToolText:J=ag,removeHighlightText:K=ah,onFormOpen:L,onFormClose:am,onSubmitSuccess:aq,onSubmitError:ar,onFormSubmitted:as}={})=>{let at={id:d,autoInject:e,showBranding:f,isEmailRequired:g,isNameRequired:h,showEmail:i,showName:j,enableScreenshot:k,useSentryUser:l,tags:m,styleNonce:n,scriptNonce:o,colorScheme:p,themeDark:r,themeLight:q,triggerLabel:G,triggerAriaLabel:H,cancelButtonLabel:t,submitButtonLabel:E,confirmButtonLabel:u,formTitle:x,emailLabel:v,emailPlaceholder:w,messageLabel:z,messagePlaceholder:A,nameLabel:B,namePlaceholder:C,successMessageText:F,isRequiredLabel:y,addScreenshotButtonLabel:s,removeScreenshotButtonLabel:D,highlightToolText:I,hideToolText:J,removeHighlightText:K,onFormClose:am,onFormOpen:L,onSubmitError:ar,onSubmitSuccess:aq,onFormSubmitted:as},au=null,av=[],aw=a=>{if(!au){let b=Q.createElement("div");b.id=String(a.id),Q.body.appendChild(b),(au=b.attachShadow({mode:"open"})).appendChild(function({colorScheme:a,themeDark:b,themeLight:c,styleNonce:d}){let e=Q.createElement("style");return e.textContent=`
:host {
  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;
  --font-size: 14px;
  --z-index: 100000;

  --page-margin: 16px;
  --inset: auto 0 0 auto;
  --actor-inset: var(--inset);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${"system"!==a?"color-scheme: only light;":""}

  ${ap("dark"===a?{...ao,...b}:{...an,...c})}
}

${"system"===a?`
@media (prefers-color-scheme: dark) {
  :host {
    ${ap({...ao,...b})}
  }
}`:""}
}
`,d&&e.setAttribute("nonce",d),e}(a))}return au},ax=async d=>{let e,f,g=d.enableScreenshot&&!(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(R.userAgent)||/Macintosh/i.test(R.userAgent)&&R.maxTouchPoints&&R.maxTouchPoints>1)&&!!isSecureContext;try{e=(b?b():await a("feedbackModalIntegration",o))(),(0,O.addIntegration)(e)}catch{throw aj&&N.debug.error("[Feedback] Error when trying to load feedback integrations. Try using `feedbackSyncIntegration` in your `Sentry.init`."),Error("[Feedback] Missing feedback modal integration!")}try{let b=g?c?c():await a("feedbackScreenshotIntegration",o):void 0;b&&(f=b(),(0,O.addIntegration)(f))}catch{aj&&N.debug.error("[Feedback] Missing feedback screenshot integration. Proceeding without screenshots.")}let h=e.createDialog({options:{...d,onFormClose:()=>{h?.close(),d.onFormClose?.()},onFormSubmitted:()=>{h?.close(),d.onFormSubmitted?.()}},screenshotIntegration:f,sendFeedback:ai,shadow:aw(d)});return h},ay=(a,b={})=>{let c=ak(at,b),d="string"==typeof a?Q.querySelector(a):"function"==typeof a.addEventListener?a:null;if(!d)throw aj&&N.debug.error("[Feedback] Unable to attach to target element"),Error("Unable to attach to target element");let e=null,f=async()=>{e||(e=await ax({...c,onFormSubmitted:()=>{e?.removeFromDom(),c.onFormSubmitted?.()}})),e.appendToDom(),e.open()};d.addEventListener("click",f);let g=()=>{av=av.filter(a=>a!==g),e?.removeFromDom(),e=null,d.removeEventListener("click",f)};return av.push(g),g},az=(a={})=>{let b=ak(at,a),c=aw(b),d=function({triggerLabel:a,triggerAriaLabel:b,shadow:c,styleNonce:d}){let e,f,g,h,i,j,k,l,m=Q.createElement("button");if(m.type="button",m.className="widget__actor",m.ariaHidden="false",m.ariaLabel=b||a||S,m.appendChild((f=al((e=a=>P.document.createElementNS("http://www.w3.org/2000/svg",a))("svg"),{width:"20",height:"20",viewBox:"0 0 20 20",fill:"var(--actor-color, var(--foreground))"}),g=al(e("g"),{clipPath:"url(#clip0_57_80)"}),h=al(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"}),f.appendChild(g).appendChild(h),i=e("defs"),j=al(e("clipPath"),{id:"clip0_57_80"}),k=al(e("rect"),{width:"20",height:"20",fill:"white"}),j.appendChild(k),i.appendChild(j),f.appendChild(i).appendChild(j).appendChild(k),f)),a){let b=Q.createElement("span");b.appendChild(Q.createTextNode(a)),m.appendChild(b)}let n=((l=Q.createElement("style")).textContent=`
.widget__actor {
  position: fixed;
  z-index: var(--z-index);
  margin: var(--page-margin);
  inset: var(--actor-inset);

  display: flex;
  align-items: center;
  gap: 8px;
  padding: 16px;

  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  line-height: 1.14em;
  text-decoration: none;

  background: var(--actor-background, var(--background));
  border-radius: var(--actor-border-radius, 1.7em/50%);
  border: var(--actor-border, var(--border));
  box-shadow: var(--actor-box-shadow, var(--box-shadow));
  color: var(--actor-color, var(--foreground));
  fill: var(--actor-color, var(--foreground));
  cursor: pointer;
  opacity: 1;
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}
.widget__actor[aria-hidden="true"] {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
  transform: translate(0, 16px) scale(0.98);
}

.widget__actor:hover {
  background: var(--actor-hover-background, var(--background));
  filter: var(--interactive-filter);
}

.widget__actor svg {
  width: 1.14em;
  height: 1.14em;
}

@media (max-width: 600px) {
  .widget__actor span {
    display: none;
  }
}
`,d&&l.setAttribute("nonce",d),l);return{el:m,appendToDom(){c.appendChild(n),c.appendChild(m)},removeFromDom(){m.remove(),n.remove()},show(){m.ariaHidden="false"},hide(){m.ariaHidden="true"}}}({triggerLabel:b.triggerLabel,triggerAriaLabel:b.triggerAriaLabel,shadow:c,styleNonce:n});return ay(d.el,{...b,onFormOpen(){d.hide()},onFormClose(){d.show()},onFormSubmitted(){d.show()}}),d};return{name:"Feedback",setupOnce(){(0,M.isBrowser)()&&at.autoInject&&("loading"===Q.readyState?Q.addEventListener("DOMContentLoaded",()=>az().appendToDom()):az().appendToDom())},attachTo:ay,createWidget(a={}){let b=az(ak(at,a));return b.appendToDom(),b},createForm:async(a={})=>ax(ak(at,a)),remove(){au&&(au.parentElement?.remove(),au=null),av.forEach(a=>a()),av=[]}}};function ar(){let a=(0,J.getClient)();return a?.getIntegrationByName("Feedback")}var as,at,au,av,aw,ax,ay,az={},aA=[],aB=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,aC=Array.isArray;function aD(a,b){for(var c in b)a[c]=b[c];return a}function aE(a){var b=a.parentNode;b&&b.removeChild(a)}function aF(a,b,c){var d,e,f,g={};for(f in b)"key"==f?d=b[f]:"ref"==f?e=b[f]:g[f]=b[f];if(arguments.length>2&&(g.children=arguments.length>3?as.call(arguments,2):c),"function"==typeof a&&null!=a.defaultProps)for(f in a.defaultProps)void 0===g[f]&&(g[f]=a.defaultProps[f]);return aG(a,g,d,e,null)}function aG(a,b,c,d,e){var f={type:a,props:b,key:c,ref:d,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==e?++au:e,__i:-1,__u:0};return null==e&&null!=at.vnode&&at.vnode(f),f}function aH(a){return a.children}function aI(a,b){this.props=a,this.context=b}function aJ(a,b){if(null==b)return a.__?aJ(a.__,a.__i+1):null;for(var c;b<a.__k.length;b++)if(null!=(c=a.__k[b])&&null!=c.__e)return c.__e;return"function"==typeof a.type?aJ(a):null}function aK(a){(!a.__d&&(a.__d=!0)&&av.push(a)&&!aL.__r++||aw!==at.debounceRendering)&&((aw=at.debounceRendering)||ax)(aL)}function aL(){var a,b,c,d=[],e=[];for(av.sort(ay);a=av.shift();)a.__d&&(c=av.length,b=function(a,b,c){var d,e=a.__v,f=e.__e,g=a.__P;if(g)return(d=aD({},e)).__v=e.__v+1,at.vnode&&at.vnode(d),aR(g,d,e,a.__n,void 0!==g.ownerSVGElement,32&e.__u?[f]:null,b,null==f?aJ(e):f,!!(32&e.__u),c),d.__.__k[d.__i]=d,d.__d=void 0,d.__e!=f&&function a(b){var c,d;if(null!=(b=b.__)&&null!=b.__c){for(b.__e=b.__c.base=null,c=0;c<b.__k.length;c++)if(null!=(d=b.__k[c])&&null!=d.__e){b.__e=b.__c.base=d.__e;break}return a(b)}}(d),d}(a,d,e)||b,0===c||av.length>c?(aS(d,b,e),e.length=d.length=0,b=void 0,av.sort(ay)):b&&at.__c&&at.__c(b,aA));b&&aS(d,b,e),aL.__r=0}function aM(a,b,c,d,e,f,g,h,i,j,k){var l,m,n,o,p,q=d&&d.__k||aA,r=b.length;for(c.__d=i,function(a,b,c){var d,e,f,g,h,i=b.length,j=c.length,k=j,l=0;for(a.__k=[],d=0;d<i;d++)null!=(e=a.__k[d]=null==(e=b[d])||"boolean"==typeof e||"function"==typeof e?null:"string"==typeof e||"number"==typeof e||"bigint"==typeof e||e.constructor==String?aG(null,e,null,null,e):aC(e)?aG(aH,{children:e},null,null,null):void 0===e.constructor&&e.__b>0?aG(e.type,e.props,e.key,e.ref?e.ref:null,e.__v):e)?(e.__=a,e.__b=a.__b+1,h=function(a,b,c,d){var e=a.key,f=a.type,g=c-1,h=c+1,i=b[c];if(null===i||i&&e==i.key&&f===i.type)return c;if(d>+(null!=i&&0==(131072&i.__u)))for(;g>=0||h<b.length;){if(g>=0){if((i=b[g])&&0==(131072&i.__u)&&e==i.key&&f===i.type)return g;g--}if(h<b.length){if((i=b[h])&&0==(131072&i.__u)&&e==i.key&&f===i.type)return h;h++}}return -1}(e,c,g=d+l,k),e.__i=h,f=null,-1!==h&&(k--,(f=c[h])&&(f.__u|=131072)),null==f||null===f.__v?(-1==h&&l--,"function"!=typeof e.type&&(e.__u|=65536)):h!==g&&(h===g+1?l++:h>g?k>i-g?l+=h-g:l--:l=h<g&&h==g-1?h-g:0,h!==d+l&&(e.__u|=65536))):(f=c[d])&&null==f.key&&f.__e&&(f.__e==a.__d&&(a.__d=aJ(f)),aU(f,f,!1),c[d]=null,k--);if(k)for(d=0;d<j;d++)null!=(f=c[d])&&0==(131072&f.__u)&&(f.__e==a.__d&&(a.__d=aJ(f)),aU(f,f))}(c,b,q),i=c.__d,l=0;l<r;l++)null!=(n=c.__k[l])&&"boolean"!=typeof n&&"function"!=typeof n&&(m=-1===n.__i?az:q[n.__i]||az,n.__i=l,aR(a,n,m,e,f,g,h,i,j,k),o=n.__e,n.ref&&m.ref!=n.ref&&(m.ref&&aT(m.ref,null,n),k.push(n.ref,n.__c||o,n)),null==p&&null!=o&&(p=o),65536&n.__u||m.__k===n.__k?i=function a(b,c,d){var e,f;if("function"==typeof b.type){for(e=b.__k,f=0;e&&f<e.length;f++)e[f]&&(e[f].__=b,c=a(e[f],c,d));return c}b.__e!=c&&(d.insertBefore(b.__e,c||null),c=b.__e);do c=c&&c.nextSibling;while(null!=c&&8===c.nodeType)return c}(n,i,a):"function"==typeof n.type&&void 0!==n.__d?i=n.__d:o&&(i=o.nextSibling),n.__d=void 0,n.__u&=-196609);c.__d=i,c.__e=p}function aN(a,b,c){"-"===b[0]?a.setProperty(b,null==c?"":c):a[b]=null==c?"":"number"!=typeof c||aB.test(b)?c:c+"px"}function aO(a,b,c,d,e){var f;a:if("style"===b)if("string"==typeof c)a.style.cssText=c;else{if("string"==typeof d&&(a.style.cssText=d=""),d)for(b in d)c&&b in c||aN(a.style,b,"");if(c)for(b in c)d&&c[b]===d[b]||aN(a.style,b,c[b])}else if("o"===b[0]&&"n"===b[1])f=b!==(b=b.replace(/(PointerCapture)$|Capture$/i,"$1")),b=b.toLowerCase()in a?b.toLowerCase().slice(2):b.slice(2),a.l||(a.l={}),a.l[b+f]=c,c?d?c.u=d.u:(c.u=Date.now(),a.addEventListener(b,f?aQ:aP,f)):a.removeEventListener(b,f?aQ:aP,f);else{if(e)b=b.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==b&&"height"!==b&&"href"!==b&&"list"!==b&&"form"!==b&&"tabIndex"!==b&&"download"!==b&&"rowSpan"!==b&&"colSpan"!==b&&"role"!==b&&b in a)try{a[b]=null==c?"":c;break a}catch(a){}"function"==typeof c||(null==c||!1===c&&"-"!==b[4]?a.removeAttribute(b):a.setAttribute(b,c))}}function aP(a){if(this.l){var b=this.l[a.type+!1];if(a.t){if(a.t<=b.u)return}else a.t=Date.now();return b(at.event?at.event(a):a)}}function aQ(a){if(this.l)return this.l[a.type+!0](at.event?at.event(a):a)}function aR(a,b,c,d,e,f,g,h,i,j){var k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z=b.type;if(void 0!==b.constructor)return null;128&c.__u&&(i=!!(32&c.__u),f=[h=b.__e=c.__e]),(k=at.__b)&&k(b);a:if("function"==typeof z)try{if(r=b.props,s=(k=z.contextType)&&d[k.__c],t=k?s?s.props.value:k.__:d,c.__c?q=(l=b.__c=c.__c).__=l.__E:("prototype"in z&&z.prototype.render?b.__c=l=new z(r,t):(b.__c=l=new aI(r,t),l.constructor=z,l.render=aV),s&&s.sub(l),l.props=r,l.state||(l.state={}),l.context=t,l.__n=d,m=l.__d=!0,l.__h=[],l._sb=[]),null==l.__s&&(l.__s=l.state),null!=z.getDerivedStateFromProps&&(l.__s==l.state&&(l.__s=aD({},l.__s)),aD(l.__s,z.getDerivedStateFromProps(r,l.__s))),n=l.props,o=l.state,l.__v=b,m)null==z.getDerivedStateFromProps&&null!=l.componentWillMount&&l.componentWillMount(),null!=l.componentDidMount&&l.__h.push(l.componentDidMount);else{if(null==z.getDerivedStateFromProps&&r!==n&&null!=l.componentWillReceiveProps&&l.componentWillReceiveProps(r,t),!l.__e&&(null!=l.shouldComponentUpdate&&!1===l.shouldComponentUpdate(r,l.__s,t)||b.__v===c.__v)){for(b.__v!==c.__v&&(l.props=r,l.state=l.__s,l.__d=!1),b.__e=c.__e,b.__k=c.__k,b.__k.forEach(function(a){a&&(a.__=b)}),u=0;u<l._sb.length;u++)l.__h.push(l._sb[u]);l._sb=[],l.__h.length&&g.push(l);break a}null!=l.componentWillUpdate&&l.componentWillUpdate(r,l.__s,t),null!=l.componentDidUpdate&&l.__h.push(function(){l.componentDidUpdate(n,o,p)})}if(l.context=t,l.props=r,l.__P=a,l.__e=!1,v=at.__r,w=0,"prototype"in z&&z.prototype.render){for(l.state=l.__s,l.__d=!1,v&&v(b),k=l.render(l.props,l.state,l.context),x=0;x<l._sb.length;x++)l.__h.push(l._sb[x]);l._sb=[]}else do l.__d=!1,v&&v(b),k=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++w<25)l.state=l.__s,null!=l.getChildContext&&(d=aD(aD({},d),l.getChildContext())),m||null==l.getSnapshotBeforeUpdate||(p=l.getSnapshotBeforeUpdate(n,o)),aM(a,aC(y=null!=k&&k.type===aH&&null==k.key?k.props.children:k)?y:[y],b,c,d,e,f,g,h,i,j),l.base=b.__e,b.__u&=-161,l.__h.length&&g.push(l),q&&(l.__E=l.__=null)}catch(a){b.__v=null,i||null!=f?(b.__e=h,b.__u|=i?160:32,f[f.indexOf(h)]=null):(b.__e=c.__e,b.__k=c.__k),at.__e(a,b,c)}else null==f&&b.__v===c.__v?(b.__k=c.__k,b.__e=c.__e):b.__e=function(a,b,c,d,e,f,g,h,i){var j,k,l,m,n,o,p,q=c.props,r=b.props,s=b.type;if("svg"===s&&(e=!0),null!=f){for(j=0;j<f.length;j++)if((n=f[j])&&"setAttribute"in n==!!s&&(s?n.localName===s:3===n.nodeType)){a=n,f[j]=null;break}}if(null==a){if(null===s)return document.createTextNode(r);a=e?document.createElementNS("http://www.w3.org/2000/svg",s):document.createElement(s,r.is&&r),f=null,h=!1}if(null===s)q===r||h&&a.data===r||(a.data=r);else{if(f=f&&as.call(a.childNodes),q=c.props||az,!h&&null!=f)for(q={},j=0;j<a.attributes.length;j++)q[(n=a.attributes[j]).name]=n.value;for(j in q)n=q[j],"children"==j||("dangerouslySetInnerHTML"==j?l=n:"key"===j||j in r||aO(a,j,null,n,e));for(j in r)n=r[j],"children"==j?m=n:"dangerouslySetInnerHTML"==j?k=n:"value"==j?o=n:"checked"==j?p=n:"key"===j||h&&"function"!=typeof n||q[j]===n||aO(a,j,n,q[j],e);if(k)h||l&&(k.__html===l.__html||k.__html===a.innerHTML)||(a.innerHTML=k.__html),b.__k=[];else if(l&&(a.innerHTML=""),aM(a,aC(m)?m:[m],b,c,d,e&&"foreignObject"!==s,f,g,f?f[0]:c.__k&&aJ(c,0),h,i),null!=f)for(j=f.length;j--;)null!=f[j]&&aE(f[j]);h||(j="value",void 0===o||o===a[j]&&("progress"!==s||o)&&("option"!==s||o===q[j])||aO(a,j,o,q[j],!1),j="checked",void 0!==p&&p!==a[j]&&aO(a,j,p,q[j],!1))}return a}(c.__e,b,c,d,e,f,g,i,j);(k=at.diffed)&&k(b)}function aS(a,b,c){for(var d=0;d<c.length;d++)aT(c[d],c[++d],c[++d]);at.__c&&at.__c(b,a),a.some(function(b){try{a=b.__h,b.__h=[],a.some(function(a){a.call(b)})}catch(a){at.__e(a,b.__v)}})}function aT(a,b,c){try{"function"==typeof a?a(b):a.current=b}catch(a){at.__e(a,c)}}function aU(a,b,c){var d,e;if(at.unmount&&at.unmount(a),(d=a.ref)&&(d.current&&d.current!==a.__e||aT(d,null,b)),null!=(d=a.__c)){if(d.componentWillUnmount)try{d.componentWillUnmount()}catch(a){at.__e(a,b)}d.base=d.__P=null,a.__c=void 0}if(d=a.__k)for(e=0;e<d.length;e++)d[e]&&aU(d[e],b,c||"function"!=typeof a.type);c||null==a.__e||aE(a.__e),a.__=a.__e=a.__d=void 0}function aV(a,b,c){return this.constructor(a,c)}as=aA.slice,at={__e:function(a,b,c,d){for(var e,f,g;b=b.__;)if((e=b.__c)&&!e.__)try{if((f=e.constructor)&&null!=f.getDerivedStateFromError&&(e.setState(f.getDerivedStateFromError(a)),g=e.__d),null!=e.componentDidCatch&&(e.componentDidCatch(a,d||{}),g=e.__d),g)return e.__E=e}catch(b){a=b}throw a}},au=0,aI.prototype.setState=function(a,b){var c;c=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=aD({},this.state),"function"==typeof a&&(a=a(aD({},c),this.props)),a&&aD(c,a),null!=a&&this.__v&&(b&&this._sb.push(b),aK(this))},aI.prototype.forceUpdate=function(a){this.__v&&(this.__e=!0,a&&this.__h.push(a),aK(this))},aI.prototype.render=aH,av=[],ax="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ay=function(a,b){return a.__v.__b-b.__v.__b},aL.__r=0;var aW,aX,aY,aZ,a$=0,a_=[],a0=[],a1=at,a2=a1.__b,a3=a1.__r,a4=a1.diffed,a5=a1.__c,a6=a1.unmount,a7=a1.__;function a8(a,b){a1.__h&&a1.__h(aX,a,a$||b),a$=0;var c=aX.__H||(aX.__H={__:[],__h:[]});return a>=c.__.length&&c.__.push({__V:a0}),c.__[a]}function a9(a){return a$=1,ba(bj,a)}function ba(a,b,c){var d=a8(aW++,2);if(d.t=a,!d.__c&&(d.__=[c?c(b):bj(void 0,b),function(a){var b=d.__N?d.__N[0]:d.__[0],c=d.t(b,a);b!==c&&(d.__N=[c,d.__[1]],d.__c.setState({}))}],d.__c=aX,!aX.u)){var e=function(a,b,c){if(!d.__c.__H)return!0;var e=d.__c.__H.__.filter(function(a){return!!a.__c});if(e.every(function(a){return!a.__N}))return!f||f.call(this,a,b,c);var g=!1;return e.forEach(function(a){if(a.__N){var b=a.__[0];a.__=a.__N,a.__N=void 0,b!==a.__[0]&&(g=!0)}}),!(!g&&d.__c.props===a)&&(!f||f.call(this,a,b,c))};aX.u=!0;var f=aX.shouldComponentUpdate,g=aX.componentWillUpdate;aX.componentWillUpdate=function(a,b,c){if(this.__e){var d=f;f=void 0,e(a,b,c),f=d}g&&g.call(this,a,b,c)},aX.shouldComponentUpdate=e}return d.__N||d.__}function bb(a,b){var c=a8(aW++,4);!a1.__s&&bi(c.__H,b)&&(c.__=a,c.i=b,aX.__h.push(c))}function bc(a,b){var c=a8(aW++,7);return bi(c.__H,b)?(c.__V=a(),c.i=b,c.__h=a,c.__V):c.__}function bd(a,b){return a$=8,bc(function(){return a},b)}function be(){for(var a;a=a_.shift();)if(a.__P&&a.__H)try{a.__H.__h.forEach(bg),a.__H.__h.forEach(bh),a.__H.__h=[]}catch(b){a.__H.__h=[],a1.__e(b,a.__v)}}a1.__b=function(a){aX=null,a2&&a2(a)},a1.__=function(a,b){b.__k&&b.__k.__m&&(a.__m=b.__k.__m),a7&&a7(a,b)},a1.__r=function(a){a3&&a3(a),aW=0;var b=(aX=a.__c).__H;b&&(aY===aX?(b.__h=[],aX.__h=[],b.__.forEach(function(a){a.__N&&(a.__=a.__N),a.__V=a0,a.__N=a.i=void 0})):(b.__h.forEach(bg),b.__h.forEach(bh),b.__h=[],aW=0)),aY=aX},a1.diffed=function(a){a4&&a4(a);var b=a.__c;b&&b.__H&&(b.__H.__h.length&&(1!==a_.push(b)&&aZ===a1.requestAnimationFrame||((aZ=a1.requestAnimationFrame)||function(a){var b,c=function(){clearTimeout(d),bf&&cancelAnimationFrame(b),setTimeout(a)},d=setTimeout(c,100);bf&&(b=requestAnimationFrame(c))})(be)),b.__H.__.forEach(function(a){a.i&&(a.__H=a.i),a.__V!==a0&&(a.__=a.__V),a.i=void 0,a.__V=a0})),aY=aX=null},a1.__c=function(a,b){b.some(function(a){try{a.__h.forEach(bg),a.__h=a.__h.filter(function(a){return!a.__||bh(a)})}catch(c){b.some(function(a){a.__h&&(a.__h=[])}),b=[],a1.__e(c,a.__v)}}),a5&&a5(a,b)},a1.unmount=function(a){a6&&a6(a);var b,c=a.__c;c&&c.__H&&(c.__H.__.forEach(function(a){try{bg(a)}catch(a){b=a}}),c.__H=void 0,b&&a1.__e(b,c.__v))};var bf="function"==typeof requestAnimationFrame;function bg(a){var b=aX,c=a.__c;"function"==typeof c&&(a.__c=void 0,c()),aX=b}function bh(a){var b=aX;a.__c=a.__(),aX=b}function bi(a,b){return!a||a.length!==b.length||b.some(function(b,c){return b!==a[c]})}function bj(a,b){return"function"==typeof b?b(a):b}let bk=Object.defineProperty({__proto__:null,useCallback:bd,useContext:function(a){var b=aX.context[a.__c],c=a8(aW++,9);return c.c=a,b?(null==c.__&&(c.__=!0,b.sub(aX)),b.props.value):a.__},useDebugValue:function(a,b){a1.useDebugValue&&a1.useDebugValue(b?b(a):a)},useEffect:function(a,b){var c=a8(aW++,3);!a1.__s&&bi(c.__H,b)&&(c.__=a,c.i=b,aX.__H.__h.push(c))},useErrorBoundary:function(a){var b=a8(aW++,10),c=a9();return b.__=a,aX.componentDidCatch||(aX.componentDidCatch=function(a,d){b.__&&b.__(a,d),c[1](a)}),[c[0],function(){c[1](void 0)}]},useId:function(){var a=a8(aW++,11);if(!a.__){for(var b=aX.__v;null!==b&&!b.__m&&null!==b.__;)b=b.__;var c=b.__m||(b.__m=[0,0]);a.__="P"+c[0]+"-"+c[1]++}return a.__},useImperativeHandle:function(a,b,c){a$=6,bb(function(){return"function"==typeof a?(a(b()),function(){return a(null)}):a?(a.current=b(),function(){return a.current=null}):void 0},null==c?c:c.concat(a))},useLayoutEffect:bb,useMemo:bc,useReducer:ba,useRef:function(a){return a$=5,bc(function(){return{current:a}},[])},useState:a9},Symbol.toStringTag,{value:"Module"});function bl({options:a}){let b=bc(()=>{let a,b;return{__html:(a=al(Q.createElementNS("http://www.w3.org/2000/svg","svg"),{width:"32",height:"30",viewBox:"0 0 72 66",fill:"inherit"}),b=al(Q.createElementNS("http://www.w3.org/2000/svg","path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"}),a.appendChild(b),a).outerHTML}},[]);return aF("h2",{class:"dialog__header"},aF("span",{class:"dialog__title"},a.formTitle),a.showBranding?aF("a",{class:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer",dangerouslySetInnerHTML:b}):null)}function bm(a,b){let c=a.get(b);return"string"==typeof c?c.trim():""}function bn({options:a,defaultEmail:b,defaultName:c,onFormClose:d,onSubmit:e,onSubmitSuccess:f,onSubmitError:g,showEmail:h,showName:i,screenshotInput:j}){let{tags:k,addScreenshotButtonLabel:l,removeScreenshotButtonLabel:m,cancelButtonLabel:n,emailLabel:o,emailPlaceholder:p,isEmailRequired:q,isNameRequired:r,messageLabel:s,messagePlaceholder:t,nameLabel:u,namePlaceholder:v,submitButtonLabel:w,isRequiredLabel:x}=a,[y,z]=a9(!1),[A,B]=a9(null),[C,D]=a9(!1),E=j?.input,[F,G]=a9(null),H=bd(a=>{G(a),D(!1)},[]),I=bd(a=>{var b;let c,d=(c=[],(b={emailLabel:o,isEmailRequired:q,isNameRequired:r,messageLabel:s,nameLabel:u}).isNameRequired&&!a.name&&c.push(b.nameLabel),b.isEmailRequired&&!a.email&&c.push(b.emailLabel),a.message||c.push(b.messageLabel),c);return d.length>0?B(`Please enter in the following required fields: ${d.join(", ")}`):B(null),0===d.length},[o,q,r,s,u]);return aF("form",{class:"form",onSubmit:bd(async a=>{z(!0);try{if(a.preventDefault(),!(a.target instanceof HTMLFormElement))return;let b=new FormData(a.target),c=await (j&&C?j.value():void 0),d={name:bm(b,"name"),email:bm(b,"email"),message:bm(b,"message"),attachments:c?[c]:void 0};if(!I(d))return;try{let a=await e({name:d.name,email:d.email,message:d.message,source:"widget",tags:k},{attachments:d.attachments});f(d,a)}catch(a){aj&&N.debug.error(a),B(a),g(a)}}finally{z(!1)}},[j&&C,f,g])},E&&C?aF(E,{onError:H}):null,aF("fieldset",{class:"form__right","data-sentry-feedback":!0,disabled:y},aF("div",{class:"form__top"},A?aF("div",{class:"form__error-container"},A):null,i?aF("label",{for:"name",class:"form__label"},aF(bo,{label:u,isRequiredLabel:x,isRequired:r}),aF("input",{class:"form__input",defaultValue:c,id:"name",name:"name",placeholder:v,required:r,type:"text"})):aF("input",{"aria-hidden":!0,value:c,name:"name",type:"hidden"}),h?aF("label",{for:"email",class:"form__label"},aF(bo,{label:o,isRequiredLabel:x,isRequired:q}),aF("input",{class:"form__input",defaultValue:b,id:"email",name:"email",placeholder:p,required:q,type:"email"})):aF("input",{"aria-hidden":!0,value:b,name:"email",type:"hidden"}),aF("label",{for:"message",class:"form__label"},aF(bo,{label:s,isRequiredLabel:x,isRequired:!0}),aF("textarea",{autoFocus:!0,class:"form__input form__input--textarea",id:"message",name:"message",placeholder:t,required:!0,rows:5})),E?aF("label",{for:"screenshot",class:"form__label"},aF("button",{class:"btn btn--default",disabled:y,type:"button",onClick:()=>{G(null),D(a=>!a)}},C?m:l),F?aF("div",{class:"form__error-container"},F.message):null):null),aF("div",{class:"btn-group"},aF("button",{class:"btn btn--primary",disabled:y,type:"submit"},w),aF("button",{class:"btn btn--default",disabled:y,type:"button",onClick:d},n))))}function bo({label:a,isRequired:b,isRequiredLabel:c}){return aF("span",{class:"form__label__text"},a,b&&aF("span",{class:"form__label__text--required"},c))}function bp({open:a,onFormSubmitted:b,...c}){let d=c.options,e=bc(()=>{let a,b,c,d,e,f,g,h;return{__html:(b=al((a=a=>P.document.createElementNS("http://www.w3.org/2000/svg",a))("svg"),{width:"16",height:"17",viewBox:"0 0 16 17",fill:"inherit"}),c=al(a("g"),{clipPath:"url(#clip0_57_156)"}),d=al(a("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),e=al(a("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"}),b.appendChild(c).append(e,d),f=a("defs"),g=al(a("clipPath"),{id:"clip0_57_156"}),h=al(a("rect"),{width:"16",height:"16",fill:"white",transform:"translate(0 0.5)"}),g.appendChild(h),f.appendChild(g),b.appendChild(f).appendChild(g).appendChild(h),b).outerHTML}},[]),[f,g]=a9(null),h=bd(()=>{f&&(clearTimeout(f),g(null)),b()},[f]),i=bd((a,d)=>{c.onSubmitSuccess(a,d),g(setTimeout(()=>{b(),g(null)},5e3))},[b]);return aF(aH,null,f?aF("div",{class:"success__position",onClick:h},aF("div",{class:"success__content"},d.successMessageText,aF("span",{class:"success__icon",dangerouslySetInnerHTML:e}))):aF("dialog",{class:"dialog",onClick:d.onFormClose,open:a},aF("div",{class:"dialog__position"},aF("div",{class:"dialog__content",onClick:a=>{a.stopPropagation()}},aF(bl,{options:d}),aF(bn,{...c,onSubmitSuccess:i})))))}let bq=`
.dialog {
  position: fixed;
  z-index: var(--z-index);
  margin: 0;
  inset: 0;

  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  height: 100vh;
  width: 100vw;

  color: var(--dialog-color, var(--foreground));
  fill: var(--dialog-color, var(--foreground));
  line-height: 1.75em;

  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  inset: 0;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog__position {
  position: fixed;
  z-index: var(--z-index);
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  display: flex;
  max-height: calc(100vh - (2 * var(--page-margin)));
}
@media (max-width: 600px) {
  .dialog__position {
    inset: var(--page-margin);
    padding: 0;
  }
}

.dialog__position:has(.editor) {
  inset: var(--page-margin);
  padding: 0;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: var(--dialog-padding, 24px);
  max-width: 100%;
  width: 100%;
  max-height: 100%;
  overflow: auto;

  background: var(--dialog-background, var(--background));
  border-radius: var(--dialog-border-radius, 20px);
  border: var(--dialog-border, var(--border));
  box-shadow: var(--dialog-box-shadow, var(--box-shadow));
  transform: translate(0, 0) scale(1);
  transition: transform 0.2s ease-in-out;
}

`,br=`
.dialog__header {
  display: flex;
  gap: 4px;
  justify-content: space-between;
  font-weight: var(--dialog-header-weight, 600);
  margin: 0;
}
.dialog__title {
  align-self: center;
  width: var(--form-width, 272px);
}

@media (max-width: 600px) {
  .dialog__title {
    width: auto;
  }
}

.dialog__position:has(.editor) .dialog__title {
  width: auto;
}


.brand-link {
  display: inline-flex;
}
.brand-link:focus-visible {
  outline: var(--outline);
}
`,bs=`
.form {
  display: flex;
  overflow: auto;
  flex-direction: row;
  gap: 16px;
  flex: 1 0;
}

.form fieldset {
  border: none;
  margin: 0;
  padding: 0;
}

.form__right {
  flex: 0 0 auto;
  display: flex;
  overflow: auto;
  flex-direction: column;
  justify-content: space-between;
  gap: 20px;
  width: var(--form-width, 100%);
}

.dialog__position:has(.editor) .form__right {
  width: var(--form-width, 272px);
}

.form__top {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.form__error-container {
  color: var(--error-color);
  fill: var(--error-color);
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: flex;
  gap: 4px;
  align-items: center;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  font-family: inherit;
  line-height: inherit;
  background: transparent;
  box-sizing: border-box;
  border: var(--input-border, var(--border));
  border-radius: var(--input-border-radius, 6px);
  color: var(--input-color, inherit);
  fill: var(--input-color, inherit);
  font-size: var(--input-font-size, inherit);
  font-weight: var(--input-font-weight, 500);
  padding: 6px 12px;
}

.form__input::placeholder {
  opacity: 0.65;
  color: var(--input-placeholder-color, inherit);
  filter: var(--interactive-filter);
}

.form__input:focus-visible {
  outline: var(--input-focus-outline, var(--outline));
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.error {
  color: var(--error-color);
  fill: var(--error-color);
}
`,bt=`
.btn-group {
  display: grid;
  gap: 8px;
}

.btn {
  line-height: inherit;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--button-font-size, inherit);
  font-weight: var(--button-font-weight, 600);
  padding: var(--button-padding, 6px 16px);
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  color: var(--button-primary-color, var(--accent-foreground));
  fill: var(--button-primary-color, var(--accent-foreground));
  background: var(--button-primary-background, var(--accent-background));
  border: var(--button-primary-border, var(--border));
  border-radius: var(--button-primary-border-radius, 6px);
  font-weight: var(--button-primary-font-weight, 500);
}
.btn--primary:hover {
  color: var(--button-primary-hover-color, var(--accent-foreground));
  fill: var(--button-primary-hover-color, var(--accent-foreground));
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
}
.btn--primary:focus-visible {
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
  outline: var(--button-primary-focus-outline, var(--outline));
}

.btn--default {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-background, var(--background));
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  font-weight: var(--button-font-weight, 500);
}
.btn--default:hover {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
}
.btn--default:focus-visible {
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
  outline: var(--button-focus-outline, var(--outline));
}
`,bu=`
.success__position {
  position: fixed;
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  z-index: var(--z-index);
}
.success__content {
  background: var(--success-background, var(--background));
  border: var(--success-border, var(--border));
  border-radius: var(--success-border-radius, 1.7em/50%);
  box-shadow: var(--success-box-shadow, var(--box-shadow));
  font-weight: var(--success-font-weight, 600);
  color: var(--success-color);
  fill: var(--success-color);
  padding: 12px 24px;
  line-height: 1.75em;

  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success__icon {
  display: flex;
}
`,bv=()=>({name:"FeedbackModal",setupOnce(){},createDialog:({options:a,screenshotIntegration:b,sendFeedback:c,shadow:d})=>{var e;let f,g,h,i,j=a.useSentryUser,k=(f=(0,J.getCurrentScope)().getUser(),g=(0,J.getIsolationScope)().getUser(),h=(0,J.getGlobalScope)().getUser(),f&&Object.keys(f).length?f:g&&Object.keys(g).length?g:h),l=Q.createElement("div"),m=(e=a.styleNonce,(i=Q.createElement("style")).textContent=`
:host {
  --dialog-inset: var(--inset);
}

${bq}
${br}
${bs}
${bt}
${bu}
`,e&&i.setAttribute("nonce",e),i),n="",o={get el(){return l},appendToDom(){d.contains(m)||d.contains(l)||(d.appendChild(m),d.appendChild(l))},removeFromDom(){l.remove(),m.remove(),Q.body.style.overflow=n},open(){q(!0),a.onFormOpen?.(),(0,J.getClient)()?.emit("openFeedbackWidget"),n=Q.body.style.overflow,Q.body.style.overflow="hidden"},close(){q(!1),Q.body.style.overflow=n}},p=b?.createInput({h:aF,hooks:bk,dialog:o,options:a}),q=b=>{var d,e,f,g,h;d=aF(bp,{options:a,screenshotInput:p,showName:a.showName||a.isNameRequired,showEmail:a.showEmail||a.isEmailRequired,defaultName:j&&k?.[j.name]||"",defaultEmail:j&&k?.[j.email]||"",onFormClose:()=>{q(!1),a.onFormClose?.()},onSubmit:c,onSubmitSuccess:(b,c)=>{q(!1),a.onSubmitSuccess?.(b,c)},onSubmitError:b=>{a.onSubmitError?.(b)},onFormSubmitted:()=>{a.onFormSubmitted?.()},open:b}),at.__&&at.__(d,l),f=l.__k,g=[],h=[],aR(l,d=l.__k=aF(aH,null,[d]),f||az,az,void 0!==l.ownerSVGElement,f?null:l.firstChild?as.call(l.childNodes):null,g,f?f.__e:l.firstChild,e,h),d.__d=void 0,aS(g,d,h)};return o}});function bw(a,b,c){if(!a)return;let d=a.getContext("2d",b);d&&c(a,d)}function bx(a,b){bw(a,{alpha:!0},(a,c)=>{c.drawImage(b,0,0,b.width,b.height,0,0,a.width,a.height)})}function by(a,b,c){bw(a,{alpha:!0},(a,d)=>{c.length&&(d.fillStyle="rgba(0, 0, 0, 0.25)",d.fillRect(0,0,a.width,a.height)),c.forEach(a=>{switch(a.type){case"highlight":d.shadowColor="rgba(0, 0, 0, 0.7)",d.shadowBlur=50,d.fillStyle=b,d.fillRect(a.x-1,a.y-1,a.w+2,a.h+2),d.clearRect(a.x,a.y,a.w,a.h);break;case"hide":d.fillStyle="rgb(0, 0, 0)",d.fillRect(a.x,a.y,a.w,a.h)}})})}let bz=()=>({name:"FeedbackScreenshot",setupOnce(){},createInput:({h:a,hooks:b,dialog:c,options:d})=>{let e=Q.createElement("canvas");return{input:function({h:a,hooks:b,outputBuffer:c,dialog:d,options:e}){var f;let g,h,i,j=function({hooks:a}){return function({onBeforeScreenshot:b,onScreenshot:c,onAfterScreenshot:d,onError:e}){let f=function(){let[b,c]=a.useState(P.devicePixelRatio??1);return a.useEffect(()=>{let a=()=>{c(P.devicePixelRatio)},b=matchMedia(`(resolution: ${P.devicePixelRatio}dppx)`);return b.addEventListener("change",a),()=>{b.removeEventListener("change",a)}},[]),b}();a.useEffect(()=>{(async()=>{b();let a=await R.mediaDevices.getDisplayMedia({video:{width:P.innerWidth*f,height:P.innerHeight*f},audio:!1,monitorTypeSurfaces:"exclude",preferCurrentTab:!0,selfBrowserSurface:"include",surfaceSwitching:"exclude"}),e=Q.createElement("video");await new Promise((b,d)=>{e.srcObject=a,e.onloadedmetadata=()=>{c(e,f),a.getTracks().forEach(a=>a.stop()),b()},e.play().catch(d)}),d()})().catch(e)},[])}}({hooks:b}),k=function({h:a}){return function({action:b,setAction:c,options:d}){return a("div",{class:"editor__tool-container"},a("div",{class:"editor__tool-bar"},a("button",{type:"button",class:`editor__tool ${"highlight"===b?"editor__tool--active":""}`,onClick:()=>{c("highlight"===b?"":"highlight")}},d.highlightToolText),a("button",{type:"button",class:`editor__tool ${"hide"===b?"editor__tool--active":""}`,onClick:()=>{c("hide"===b?"":"hide")}},d.hideToolText)))}}({h:a}),l=function({h:a}){return function(){return a("svg",{"data-test-id":"icon-close",viewBox:"0 0 16 16",fill:"#2B2233",height:"25px",width:"25px"},a("circle",{r:"7",cx:"8",cy:"8",fill:"white"}),a("path",{strokeWidth:"1.5",d:"M8,16a8,8,0,1,1,8-8A8,8,0,0,1,8,16ZM8,1.53A6.47,6.47,0,1,0,14.47,8,6.47,6.47,0,0,0,8,1.53Z"}),a("path",{strokeWidth:"1.5",d:"M5.34,11.41a.71.71,0,0,1-.53-.22.74.74,0,0,1,0-1.06l5.32-5.32a.75.75,0,0,1,1.06,1.06L5.87,11.19A.74.74,0,0,1,5.34,11.41Z"}),a("path",{strokeWidth:"1.5",d:"M10.66,11.41a.74.74,0,0,1-.53-.22L4.81,5.87A.75.75,0,0,1,5.87,4.81l5.32,5.32a.74.74,0,0,1,0,1.06A.71.71,0,0,1,10.66,11.41Z"}))}}({h:a}),m={__html:(f=e.styleNonce,g=Q.createElement("style"),h="#1A141F",i="#302735",g.textContent=`
.editor {
  display: flex;
  flex-grow: 1;
  flex-direction: column;
}

.editor__image-container {
  justify-items: center;
  padding: 15px;
  position: relative;
  height: 100%;
  border-radius: var(--menu-border-radius, 6px);

  background-color: ${h};
  background-image: repeating-linear-gradient(
      -145deg,
      transparent,
      transparent 8px,
      ${h} 8px,
      ${h} 11px
    ),
    repeating-linear-gradient(
      -45deg,
      transparent,
      transparent 15px,
      ${i} 15px,
      ${i} 16px
    );
}

.editor__canvas-container {
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

.editor__canvas-container > * {
  object-fit: contain;
  position: absolute;
}

.editor__tool-container {
  padding-top: 8px;
  display: flex;
  justify-content: center;
}

.editor__tool-bar {
  display: flex;
  gap: 8px;
}

.editor__tool {
  display: flex;
  padding: 8px 12px;
  justify-content: center;
  align-items: center;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  background: var(--button-background, var(--background));
  color: var(--button-color, var(--foreground));
}

.editor__tool--active {
  background: var(--button-primary-background, var(--accent-background));
  color: var(--button-primary-color, var(--accent-foreground));
}

.editor__rect {
  position: absolute;
  z-index: 2;
}

.editor__rect button {
  opacity: 0;
  position: absolute;
  top: -12px;
  right: -12px;
  cursor: pointer;
  padding: 0;
  z-index: 3;
  border: none;
  background: none;
}

.editor__rect:hover button {
  opacity: 1;
}
`,f&&g.setAttribute("nonce",f),g).innerText},n=d.el.style,o=({screenshot:d})=>{let[f,g]=b.useState("highlight"),[h,i]=b.useState([]),j=b.useRef(null),n=b.useRef(null),o=b.useRef(null),p=b.useRef(null),[q,r]=b.useState(1),s=b.useMemo(()=>{let a=Q.getElementById(e.id);if(!a)return"white";let b=getComputedStyle(a);return b.getPropertyValue("--button-primary-background")||b.getPropertyValue("--accent-background")},[e.id]);b.useLayoutEffect(()=>{let a=()=>{let b=j.current;b&&(bw(d.canvas,{alpha:!1},a=>{r(Math.min(b.clientWidth/a.width,b.clientHeight/a.height))}),(0===b.clientHeight||0===b.clientWidth)&&setTimeout(a,0))};return a(),P.addEventListener("resize",a),()=>{P.removeEventListener("resize",a)}},[d]);let t=b.useCallback((a,b)=>{bw(a,{alpha:!0},(a,c)=>{c.scale(b,b),a.width=d.canvas.width,a.height=d.canvas.height})},[d]);b.useEffect(()=>{t(n.current,d.dpi),bx(n.current,d.canvas)},[d]),b.useEffect(()=>{t(o.current,d.dpi),bw(o.current,{alpha:!0},(a,b)=>{b.clearRect(0,0,a.width,a.height)}),by(o.current,s,h)},[h,s]),b.useEffect(()=>{t(c,d.dpi),bx(c,d.canvas),bw(Q.createElement("canvas"),{alpha:!0},(a,b)=>{b.scale(d.dpi,d.dpi),a.width=d.canvas.width,a.height=d.canvas.height,by(a,s,h),bx(c,a)})},[h,d,s]);let u=b.useCallback(a=>b=>{b.preventDefault(),b.stopPropagation(),i(b=>{let c=[...b];return c.splice(a,1),c})},[]),v={width:`${d.canvas.width*q}px`,height:`${d.canvas.height*q}px`},w=a=>{a.stopPropagation()};return a("div",{class:"editor"},a("style",{nonce:e.styleNonce,dangerouslySetInnerHTML:m}),a("div",{class:"editor__image-container"},a("div",{class:"editor__canvas-container",ref:j},a("canvas",{ref:n,id:"background",style:v}),a("canvas",{ref:o,id:"foreground",style:v}),a("div",{ref:p,onMouseDown:a=>{if(!f||!p.current)return;let b=p.current.getBoundingClientRect(),c={type:f,x:a.offsetX/q,y:a.offsetY/q},d=(a,c)=>{let d=(c.clientX-b.x)/q,e=(c.clientY-b.y)/q;return{type:a.type,x:Math.min(a.x,d),y:Math.min(a.y,e),w:Math.abs(d-a.x),h:Math.abs(e-a.y)}},e=a=>{bw(o.current,{alpha:!0},(a,b)=>{b.clearRect(0,0,a.width,a.height)}),by(o.current,s,[...h,d(c,a)])},g=a=>{let b=d(c,a);b.w*q>=1&&b.h*q>=1&&i(a=>[...a,b]),Q.removeEventListener("mousemove",e),Q.removeEventListener("mouseup",g)};Q.addEventListener("mousemove",e),Q.addEventListener("mouseup",g)},style:v},h.map((b,c)=>a("div",{key:c,class:"editor__rect",style:{top:`${b.y*q}px`,left:`${b.x*q}px`,width:`${b.w*q}px`,height:`${b.h*q}px`}},a("button",{"aria-label":e.removeHighlightText,onClick:u(c),onMouseDown:w,onMouseUp:w,type:"button"},a(l,null))))))),a(k,{options:e,action:f,setAction:g}))};return function({onError:d}){let[e,f]=b.useState();return(j({onBeforeScreenshot:b.useCallback(()=>{n.display="none"},[]),onScreenshot:b.useCallback((a,b)=>{bw(Q.createElement("canvas"),{alpha:!1},(c,d)=>{d.scale(b,b),c.width=a.videoWidth,c.height=a.videoHeight,d.drawImage(a,0,0,c.width,c.height),f({canvas:c,dpi:b})}),c.width=a.videoWidth,c.height=a.videoHeight},[]),onAfterScreenshot:b.useCallback(()=>{n.display="block"},[]),onError:b.useCallback(a=>{n.display="block",d(a)},[])}),e)?a(o,{screenshot:e}):a("div",null)}}({h:a,hooks:b,outputBuffer:e,dialog:c,options:d}),value:async()=>{let a=await new Promise(a=>{e.toBlob(a,"image/png")});if(a)return{data:new Uint8Array(await a.arrayBuffer()),filename:"screenshot.png",contentType:"application/png"}}}}});var bA=a.i(42093),bB=a.i(78799),bC=a.i(82354),bD=a.i(9206);let bE=I.GLOBAL_OBJ,bF=0;function bG(a,b={}){if("function"!=typeof a)return a;try{let b=a.__sentry_wrapped__;if(b)if("function"==typeof b)return b;else return a;if((0,bB.getOriginalFunction)(a))return a}catch{return a}let c=function(...c){try{let d=c.map(a=>bG(a,b));return a.apply(this,d)}catch(a){throw bF++,setTimeout(()=>{bF--}),(0,J.withScope)(d=>{d.addEventProcessor(a=>(b.mechanism&&((0,bC.addExceptionTypeValue)(a,void 0,void 0),(0,bC.addExceptionMechanism)(a,b.mechanism)),a.extra={...a.extra,arguments:c},a)),(0,bD.captureException)(a)}),a}};try{for(let b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b])}catch{}(0,bB.markFunctionWrapped)(c,a),(0,bB.addNonEnumerableProperty)(a,"__sentry_wrapped__",c);try{Object.getOwnPropertyDescriptor(c,"name").configurable&&Object.defineProperty(c,"name",{get:()=>a.name})}catch{}return c}function bH(){let a=(0,L.getLocationHref)(),{referrer:b}=bE.document||{},{userAgent:c}=bE.navigator||{};return{url:a,headers:{...b&&{Referer:b},...c&&{"User-Agent":c}}}}let bI={replayIntegration:"replay",replayCanvasIntegration:"replay-canvas",feedbackIntegration:"feedback",feedbackModalIntegration:"feedback-modal",feedbackScreenshotIntegration:"feedback-screenshot",captureConsoleIntegration:"captureconsole",contextLinesIntegration:"contextlines",linkedErrorsIntegration:"linkederrors",dedupeIntegration:"dedupe",extraErrorDataIntegration:"extraerrordata",graphqlClientIntegration:"graphqlclient",httpClientIntegration:"httpclient",reportingObserverIntegration:"reportingobserver",rewriteFramesIntegration:"rewriteframes",browserProfilingIntegration:"browserprofiling",moduleMetadataIntegration:"modulemetadata",instrumentAnthropicAiClient:"instrumentanthropicaiclient",instrumentOpenAiClient:"instrumentopenaiclient",instrumentGoogleGenAIClient:"instrumentgooglegenaiclient"};async function bJ(a,b){var c;let d,e,f=bI[a],g=bE.Sentry=bE.Sentry||{};if(!f)throw Error(`Cannot lazy load integration: ${a}`);let h=g[a];if("function"==typeof h&&!("_isShim"in h))return h;let i=(c=f,d=(0,J.getClient)(),e=d?.getOptions()?.cdnBaseUrl||"https://browser.sentry-cdn.com",new URL(`/${bA.SDK_VERSION}/${c}.min.js`,e).toString()),j=bE.document.createElement("script");j.src=i,j.crossOrigin="anonymous",j.referrerPolicy="strict-origin",b&&j.setAttribute("nonce",b);let k=new Promise((a,b)=>{j.addEventListener("load",()=>a()),j.addEventListener("error",b)}),l=bE.document.currentScript,m=bE.document.body||bE.document.head||l?.parentElement;if(m)m.appendChild(j);else throw Error(`Could not find parent element to insert lazy-loaded ${a} script`);try{await k}catch{throw Error(`Error when loading integration: ${a}`)}let n=g[a];if("function"!=typeof n)throw Error(`Could not load integration: ${a}`);return n}let bK=aq({lazyLoadIntegration:bJ}),bL=aq({getModalIntegration:()=>bv,getScreenshotIntegration:()=>bz});var bM=a.i(51326),bN=a.i(19716),bO=a.i(71637),bP=a.i(46022),bQ=a.i(41666),bR=a.i(13116),bS=a.i(25861),bT=a.i(3921),bU=a.i(88826),bV=a.i(72822),bW=a.i(79518),bX=a.i(65808),bY=a.i(21154),bZ=a.i(27405),b$=a.i(14096),b_=a.i(54716),b0=a.i(79092),b1=a.i(91813),b2=a.i(95687),b3=a.i(60747),b4=a.i(3209);function b5(a,b,c,d,e){(0,b4._INTERNAL_captureLog)({level:a,message:b,attributes:c,severityNumber:e},d)}function b6(a,b,{scope:c}={}){b5("trace",a,b,c)}function b7(a,b,{scope:c}={}){b5("debug",a,b,c)}function b8(a,b,{scope:c}={}){b5("info",a,b,c)}function b9(a,b,{scope:c}={}){b5("warn",a,b,c)}function ca(a,b,{scope:c}={}){b5("error",a,b,c)}function cb(a,b,{scope:c}={}){b5("fatal",a,b,c)}a.s(["debug",()=>b7,"error",()=>ca,"fatal",()=>cb,"info",()=>b8,"trace",()=>b6,"warn",()=>b9],77532),a.i(77532);var cc=a.i(22057);a.s(["debug",()=>b7,"error",()=>ca,"fatal",()=>cb,"fmt",()=>cc.fmt,"info",()=>b8,"trace",()=>b6,"warn",()=>b9],74714);var cd=a.i(74714),cd=cd,ce=a.i(1900),cf=a.i(91006),cg=a.i(78471);function ch(a,b){let c;return(0,cg.forEachEnvelopeItem)(a,(a,d)=>(b.includes(d)&&(c=Array.isArray(a)?a[1]:void 0),!!c)),c}function ci(a,b){return c=>{let d=a(c),e=new Map;function f(b,d){let f=d?`${b}:${d}`:b,g=e.get(f);if(!g){let h=(0,cf.dsnFromString)(b);if(!h)return;let i=(0,ce.getEnvelopeEndpointWithUrlEncodedAuth)(h,c.tunnel);g=d?(b=>{let c=a(b);return{...c,send:async a=>{let b=ch(a,["event","transaction","profile","replay_event"]);return b&&(b.release=d),c.send(a)}}})({...c,url:i}):a({...c,url:i}),e.set(f,g)}return[b,g]}return{send:async function(a){let c=b({envelope:a,getEvent:function(b){return ch(a,b?.length?b:["event"])}}).map(a=>"string"==typeof a?f(a,void 0):f(a.dsn,a.release)).filter(a=>!!a),e=c.length?c:[["",d]];return(await Promise.all(e.map(([b,c])=>c.send((0,cg.createEnvelope)(b?{...a[0],dsn:b}:a[0],a[1])))))[0]},flush:async function(a){let b=[...e.values(),d];return(await Promise.all(b.map(b=>b.flush(a)))).every(a=>a)}}}}var cj=a.i(39230);let ck=new Map,cl=new Set;function cm(a,b){b.exception?.values?.forEach(b=>{b.stacktrace?.frames?.forEach(b=>{if(!b.filename||b.module_metadata)return;let c=function(a,b){if(I.GLOBAL_OBJ._sentryModuleMetadata)for(let b of Object.keys(I.GLOBAL_OBJ._sentryModuleMetadata)){let c=I.GLOBAL_OBJ._sentryModuleMetadata[b];if(!cl.has(b)){for(let d of(cl.add(b),a(b).reverse()))if(d.filename){ck.set(d.filename,c);break}}}return ck.get(b)}(a,b.filename);c&&(b.module_metadata=c)})})}function cn(a){a.exception?.values?.forEach(a=>{a.stacktrace?.frames?.forEach(a=>{delete a.module_metadata})})}let co=(0,O.defineIntegration)(()=>({name:"ModuleMetadata",setup(a){a.on("beforeEnvelope",a=>{(0,cg.forEachEnvelopeItem)(a,(a,b)=>{if("event"===b){let b=Array.isArray(a)?a[1]:void 0;b&&(cn(b),a[1]=b)}})}),a.on("applyFrameMetadata",b=>{b.type||cm(a.getOptions().stackParser,b)})}}));var cp=a.i(77880),cq=a.i(38683),cr=a.i(70474),cs=a.i(81281),ct=a.i(50889),cu=a.i(93481);let cv=(0,O.defineIntegration)(a=>({name:"ThirdPartyErrorsFilter",setup(a){a.on("beforeEnvelope",a=>{(0,cg.forEachEnvelopeItem)(a,(a,b)=>{if("event"===b){let b=Array.isArray(a)?a[1]:void 0;b&&(cn(b),a[1]=b)}})}),a.on("applyFrameMetadata",b=>{b.type||cm(a.getOptions().stackParser,b)})},processEvent(b){let c=function(a){let b=(0,cu.getFramesFromEvent)(a);if(b)return b.filter(a=>!!a.filename&&(a.lineno??a.colno)!=null).map(a=>a.module_metadata?Object.keys(a.module_metadata).filter(a=>a.startsWith(cw)).map(a=>a.slice(cw.length)):[])}(b);if(c&&c["drop-error-if-contains-third-party-frames"===a.behaviour||"apply-tag-if-contains-third-party-frames"===a.behaviour?"some":"every"](b=>!b.some(b=>a.filterKeys.includes(b)))){if("drop-error-if-contains-third-party-frames"===a.behaviour||"drop-error-if-exclusively-contains-third-party-frames"===a.behaviour)return null;b.tags={...b.tags,third_party_code:!0}}return b}})),cw="_sentryBundlerPluginAppKey:";var cx=a.i(14257),cy=a.i(72898),cz=a.i(56074),cA=a.i(64),cB=a.i(68265);function cC(a){"aggregates"in a?a.attrs?.ip_address===void 0&&(a.attrs={...a.attrs,ip_address:"{{auto}}"}):void 0===a.ipAddress&&(a.ipAddress="{{auto}}")}var cD=a.i(3237),cE=a.i(74009),cF=a.i(41989);function cG(a,b){var c,d;let e,f,g=cI(a,b),h={type:(c=b,!(e=c?.name)&&cK(c)?c.message&&Array.isArray(c.message)&&2==c.message.length?c.message[0]:"WebAssembly.Exception":e),value:(d=b,f=d?.message,cK(d)?Array.isArray(d.message)&&2==d.message.length?d.message[1]:"wasm exception":f?f.error&&"string"==typeof f.error.message?f.error.message:f:"No error message")};return g.length&&(h.stacktrace={frames:g}),void 0===h.type&&""===h.value&&(h.value="Unrecoverable error caught"),h}function cH(a,b){return{exception:{values:[cG(a,b)]}}}function cI(a,b){var c,d;let e=b.stacktrace||b.stack||"",f=(c=b)&&cJ.test(c.message)?1:0,g="number"==typeof(d=b).framesToPop?d.framesToPop:0;try{return a(e,f,g)}catch{}return[]}let cJ=/Minified React error #\d+;/i;function cK(a){return"undefined"!=typeof WebAssembly&&void 0!==WebAssembly.Exception&&a instanceof WebAssembly.Exception}function cL(a,b,c,d){let e=cN(a,b,c?.syntheticException||void 0,d);return(0,bC.addExceptionMechanism)(e),e.level="error",c?.event_id&&(e.event_id=c.event_id),(0,cF.resolvedSyncPromise)(e)}function cM(a,b,c="info",d,e){let f=cO(a,b,d?.syntheticException||void 0,e);return f.level=c,d?.event_id&&(f.event_id=d.event_id),(0,cF.resolvedSyncPromise)(f)}function cN(a,b,c,d,e){let f;if((0,cD.isErrorEvent)(b)&&b.error)return cH(a,b.error);if((0,cD.isDOMError)(b)||(0,cD.isDOMException)(b)){if("stack"in b)f=cH(a,b);else{let e=b.name||((0,cD.isDOMError)(b)?"DOMError":"DOMException"),g=b.message?`${e}: ${b.message}`:e;f=cO(a,g,c,d),(0,bC.addExceptionTypeValue)(f,g)}return"code"in b&&(f.tags={...f.tags,"DOMException.code":`${b.code}`}),f}return(0,cD.isError)(b)?cH(a,b):((0,cD.isPlainObject)(b)||(0,cD.isEvent)(b)?f=function(a,b,c,d){let e=(0,J.getClient)(),f=e?.getOptions().normalizeDepth,g=function(a){for(let b in a)if(Object.prototype.hasOwnProperty.call(a,b)){let c=a[b];if(c instanceof Error)return c}}(b),h={__serialized__:(0,cE.normalizeToSize)(b,f)};if(g)return{exception:{values:[cG(a,g)]},extra:h};let i={exception:{values:[{type:(0,cD.isEvent)(b)?b.constructor.name:d?"UnhandledRejection":"Error",value:function(a,{isUnhandledRejection:b}){let c=(0,bB.extractExceptionKeysForMessage)(a),d=b?"promise rejection":"exception";if((0,cD.isErrorEvent)(a))return`Event \`ErrorEvent\` captured as ${d} with message \`${a.message}\``;if((0,cD.isEvent)(a)){let b=function(a){try{let b=Object.getPrototypeOf(a);return b?b.constructor.name:void 0}catch{}}(a);return`Event \`${b}\` (type=${a.type}) captured as ${d}`}return`Object captured as ${d} with keys: ${c}`}(b,{isUnhandledRejection:d})}]},extra:h};if(c){let b=cI(a,c);b.length&&(i.exception.values[0].stacktrace={frames:b})}return i}(a,b,c,e):(f=cO(a,b,c,d),(0,bC.addExceptionTypeValue)(f,`${b}`,void 0)),(0,bC.addExceptionMechanism)(f,{synthetic:!0}),f)}function cO(a,b,c,d){let e={};if(d&&c){let d=cI(a,c);d.length&&(e.exception={values:[{value:b,stacktrace:{frames:d}}]}),(0,bC.addExceptionMechanism)(e,{synthetic:!0})}if((0,cD.isParameterizedString)(b)){let{__sentry_template_string__:a,__sentry_template_values__:c}=b;return e.logentry={message:a,params:c},e}return e.message=b,e}class cP extends cy.Client{constructor(a){var b;const c=(b=a,{release:"string"==typeof __SENTRY_RELEASE__?__SENTRY_RELEASE__:bE.SENTRY_RELEASE?.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...b}),d=bE.SENTRY_SDK_SOURCE||(0,cz.getSDKSource)();(0,cA.applySdkMetadata)(c,"browser",["browser"],d),c._metadata?.sdk&&(c._metadata.sdk.settings={infer_ip:c.sendDefaultPii?"auto":"never",...c._metadata.sdk.settings}),super(c);const{sendDefaultPii:e,sendClientReports:f,enableLogs:g,_experiments:h,enableMetrics:i}=this._options,j=i??h?.enableMetrics??!0;bE.document&&(f||g||j)&&bE.document.addEventListener("visibilitychange",()=>{"hidden"===bE.document.visibilityState&&(f&&this._flushOutcomes(),g&&(0,b4._INTERNAL_flushLogsBuffer)(this),j&&(0,cB._INTERNAL_flushMetricsBuffer)(this))}),e&&this.on("beforeSendSession",cC)}eventFromException(a,b){return cL(this._options.stackParser,a,b,this._options.attachStacktrace)}eventFromMessage(a,b="info",c){return cM(this._options.stackParser,a,b,c,this._options.attachStacktrace)}_prepareEvent(a,b,c,d){return a.platform=a.platform||"javascript",super._prepareEvent(a,b,c,d)}}var cQ=a.i(8941),cR=a.i(41225);let cS=I.GLOBAL_OBJ;function cT(a){return a&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(a.toString())}function cU(){if("string"==typeof EdgeRuntime)return!0;if(!function(){if(!("fetch"in cS))return!1;try{return new Headers,new Request("data:,"),new Response,!0}catch{return!1}}())return!1;if(cT(cS.fetch))return!0;let a=!1,b=cS.document;if(b&&"function"==typeof b.createElement)try{let c=b.createElement("iframe");c.hidden=!0,b.head.appendChild(c),c.contentWindow?.fetch&&(a=cT(c.contentWindow.fetch)),b.head.removeChild(c)}catch(a){cR.DEBUG_BUILD&&N.debug.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",a)}return a}let cV="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,cW=I.GLOBAL_OBJ,cX={};function cY(a){let b=cX[a];if(b)return b;let c=cW[a];if(cT(c))return cX[a]=c.bind(cW);let d=cW.document;if(d&&"function"==typeof d.createElement)try{let b=d.createElement("iframe");b.hidden=!0,d.head.appendChild(b);let e=b.contentWindow;e?.[a]&&(c=e[a]),d.head.removeChild(b)}catch(b){cV&&N.debug.warn(`Could not create sandbox iframe for ${a} check, bailing to window.${a}: `,b)}return c?cX[a]=c.bind(cW):c}function cZ(...a){return cY("setTimeout")(...a)}function c$(a,b=cY("fetch")){let c=0,d=0;async function e(e){let f=e.body.length;c+=f,d++;let g={body:e.body,method:"POST",referrerPolicy:"strict-origin",headers:a.headers,keepalive:c<=6e4&&d<15,...a.fetchOptions};try{let c=await b(a.url,g);return{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}}catch(a){throw cX.fetch=void 0,a}finally{c-=f,d--}}return(0,bT.createTransport)(a,e,(0,cQ.makePromiseBuffer)(a.bufferSize||40))}function c_(a,b,c,d){let e={filename:a,function:"<anonymous>"===b?cu.UNKNOWN_FUNCTION:b,in_app:!0};return void 0!==c&&(e.lineno=c),void 0!==d&&(e.colno=d),e}let c0=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,c1=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,c2=/\((\S*)(?::(\d+))(?::(\d+))\)/,c3=/at (.+?) ?\(data:(.+?),/,c4=[30,a=>{let b=a.match(c3);if(b)return{filename:`<data:${b[2]}>`,function:b[1]};let c=c0.exec(a);if(c){let[,a,b,d]=c;return c_(a,cu.UNKNOWN_FUNCTION,+b,+d)}let d=c1.exec(a);if(d){if(d[2]&&0===d[2].indexOf("eval")){let a=c2.exec(d[2]);a&&(d[2]=a[1],d[3]=a[2],d[4]=a[3])}let[a,b]=dg(d[1]||cu.UNKNOWN_FUNCTION,d[2]);return c_(b,a,d[3]?+d[3]:void 0,d[4]?+d[4]:void 0)}}],c5=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,c6=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,c7=[50,a=>{let b=c5.exec(a);if(b){if(b[3]&&b[3].indexOf(" > eval")>-1){let a=c6.exec(b[3]);a&&(b[1]=b[1]||"eval",b[3]=a[1],b[4]=a[2],b[5]="")}let a=b[3],c=b[1]||cu.UNKNOWN_FUNCTION;return[c,a]=dg(c,a),c_(a,c,b[4]?+b[4]:void 0,b[5]?+b[5]:void 0)}}],c8=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,c9=[40,a=>{let b=c8.exec(a);return b?c_(b[2],b[1]||cu.UNKNOWN_FUNCTION,+b[3],b[4]?+b[4]:void 0):void 0}],da=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,db=[10,a=>{let b=da.exec(a);return b?c_(b[2],b[3]||cu.UNKNOWN_FUNCTION,+b[1]):void 0}],dc=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,dd=[20,a=>{let b=dc.exec(a);return b?c_(b[5],b[3]||b[4]||cu.UNKNOWN_FUNCTION,+b[1],+b[2]):void 0}],de=[c4,c7],df=(0,cu.createStackParser)(...de),dg=(a,b)=>{let c=-1!==a.indexOf("safari-extension"),d=-1!==a.indexOf("safari-web-extension");return c||d?[-1!==a.indexOf("@")?a.split("@")[0]:cu.UNKNOWN_FUNCTION,c?`safari-extension:${b}`:`safari-web-extension:${b}`]:[a,b]};function dh(a,{metadata:b,tunnel:c,dsn:d}){let e={event_id:a.event_id,sent_at:new Date().toISOString(),...b?.sdk&&{sdk:{name:b.sdk.name,version:b.sdk.version}},...!!c&&!!d&&{dsn:(0,cf.dsnToString)(d)}},f=[{type:"user_report"},a];return(0,cg.createEnvelope)(e,[f])}var di=a.i(49031),dj=a.i(64344),dk=a.i(26533);function dl(a,b){let c="fetch";(0,dk.addHandler)(c,a),(0,dk.maybeInstrument)(c,()=>dm(void 0,b))}function dm(a,b=!1){(!b||cU())&&(0,bB.fill)(I.GLOBAL_OBJ,"fetch",function(b){return function(...c){let d=Error(),{method:e,url:f}=function(a){if(0===a.length)return{method:"GET",url:""};if(2===a.length){let[b,c]=a;return{url:dr(b),method:dq(c,"method")?String(c.method).toUpperCase():"GET"}}let b=a[0];return{url:dr(b),method:dq(b,"method")?String(b.method).toUpperCase():"GET"}}(c),g={args:c,fetchData:{method:e,url:f},startTimestamp:1e3*(0,dj.timestampInSeconds)(),virtualError:d,headers:function(a){let[b,c]=a;try{if("object"==typeof c&&null!==c&&"headers"in c&&c.headers)return new Headers(c.headers);if((0,cD.isRequest)(b))return new Headers(b.headers)}catch{}}(c)};return a||(0,dk.triggerHandlers)("fetch",{...g}),b.apply(I.GLOBAL_OBJ,c).then(async b=>(a?a(b):(0,dk.triggerHandlers)("fetch",{...g,endTimestamp:1e3*(0,dj.timestampInSeconds)(),response:b}),b),a=>{if((0,dk.triggerHandlers)("fetch",{...g,endTimestamp:1e3*(0,dj.timestampInSeconds)(),error:a}),(0,cD.isError)(a)&&void 0===a.stack&&(a.stack=d.stack,(0,bB.addNonEnumerableProperty)(a,"framesToPop",1)),a instanceof TypeError&&("Failed to fetch"===a.message||"Load failed"===a.message||"NetworkError when attempting to fetch resource."===a.message))try{let b=new URL(g.fetchData.url);a.message=`${a.message} (${b.host})`}catch{}throw a})}})}async function dn(a,b){if(a?.body){let c=a.body,d=c.getReader(),e=setTimeout(()=>{c.cancel().then(null,()=>{})},9e4),f=!0;for(;f;){let a;try{a=setTimeout(()=>{c.cancel().then(null,()=>{})},5e3);let{done:e}=await d.read();clearTimeout(a),e&&(b(),f=!1)}catch{f=!1}finally{clearTimeout(a)}}clearTimeout(e),d.releaseLock(),c.cancel().then(null,()=>{})}}function dp(a){let b;try{b=a.clone()}catch{return}dn(b,()=>{(0,dk.triggerHandlers)("fetch-body-resolved",{endTimestamp:1e3*(0,dj.timestampInSeconds)(),response:a})})}function dq(a,b){return!!a&&"object"==typeof a&&!!a[b]}function dr(a){return"string"==typeof a?a:a?dq(a,"url")?a.url:a.toString?a.toString():"":""}var ds=a.i(41188),dt=a.i(22770),du=a.i(41818),dv=a.i(65216);function dw(a){(0,dk.addHandler)("dom",a),(0,dk.maybeInstrument)("dom",dx)}function dx(){if(!cW.document)return;let a=dk.triggerHandlers.bind(null,"dom"),b=dy(a,!0);cW.document.addEventListener("click",b,!1),cW.document.addEventListener("keypress",b,!1),["EventTarget","Node"].forEach(b=>{let c=cW[b]?.prototype;c?.hasOwnProperty?.("addEventListener")&&((0,bB.fill)(c,"addEventListener",function(b){return function(c,d,e){if("click"===c||"keypress"==c)try{let d=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},f=d[c]=d[c]||{refCount:0};if(!f.handler){let d=dy(a);f.handler=d,b.call(this,c,d,e)}f.refCount++}catch{}return b.call(this,c,d,e)}}),(0,bB.fill)(c,"removeEventListener",function(a){return function(b,c,d){if("click"===b||"keypress"==b)try{let c=this.__sentry_instrumentation_handlers__||{},e=c[b];e&&(e.refCount--,e.refCount<=0&&(a.call(this,b,e.handler,d),e.handler=void 0,delete c[b]),0===Object.keys(c).length&&delete this.__sentry_instrumentation_handlers__)}catch{}return a.call(this,b,c,d)}}))})}function dy(a,e=!1){return f=>{var g;if(!f||f._sentryCaptured)return;let h=function(a){try{return a.target}catch{return null}}(f);if(g=f.type,"keypress"===g&&(!h?.tagName||"INPUT"!==h.tagName&&"TEXTAREA"!==h.tagName&&!h.isContentEditable&&1))return;(0,bB.addNonEnumerableProperty)(f,"_sentryCaptured",!0),h&&!h._sentryId&&(0,bB.addNonEnumerableProperty)(h,"_sentryId",(0,bC.uuid4)());let i="keypress"===f.type?"input":f.type;!function(a){if(a.type!==c)return!1;try{if(!a.target||a.target._sentryId!==d)return!1}catch{}return!0}(f)&&(a({event:f,name:i,global:e}),c=f.type,d=h?h._sentryId:void 0),clearTimeout(b),b=cW.setTimeout(()=>{d=void 0,c=void 0},1e3)}}let dz="__sentry_xhr_v3__";function dA(a){(0,dk.addHandler)("xhr",a),(0,dk.maybeInstrument)("xhr",dB)}function dB(){if(!cW.XMLHttpRequest)return;let a=XMLHttpRequest.prototype;a.open=new Proxy(a.open,{apply(a,b,c){let d=Error(),e=1e3*(0,dj.timestampInSeconds)(),f=(0,cD.isString)(c[0])?c[0].toUpperCase():void 0,g=function(a){if((0,cD.isString)(a))return a;try{return a.toString()}catch{}}(c[1]);if(!f||!g)return a.apply(b,c);b[dz]={method:f,url:g,request_headers:{}},"POST"===f&&g.match(/sentry_key/)&&(b.__sentry_own_request__=!0);let h=()=>{let a=b[dz];if(a&&4===b.readyState){try{a.status_code=b.status}catch{}let c={endTimestamp:1e3*(0,dj.timestampInSeconds)(),startTimestamp:e,xhr:b,virtualError:d};(0,dk.triggerHandlers)("xhr",c)}};return"onreadystatechange"in b&&"function"==typeof b.onreadystatechange?b.onreadystatechange=new Proxy(b.onreadystatechange,{apply:(a,b,c)=>(h(),a.apply(b,c))}):b.addEventListener("readystatechange",h),b.setRequestHeader=new Proxy(b.setRequestHeader,{apply(a,b,c){let[d,e]=c,f=b[dz];return f&&(0,cD.isString)(d)&&(0,cD.isString)(e)&&(f.request_headers[d.toLowerCase()]=e),a.apply(b,c)}}),a.apply(b,c)}}),a.send=new Proxy(a.send,{apply(a,b,c){let d=b[dz];if(!d)return a.apply(b,c);void 0!==c[0]&&(d.body=c[0]);let e={startTimestamp:1e3*(0,dj.timestampInSeconds)(),xhr:b};return(0,dk.triggerHandlers)("xhr",e),a.apply(b,c)}})}function dC(a){let b="history";(0,dk.addHandler)(b,a),(0,dk.maybeInstrument)(b,dD)}function dD(){function a(a){return function(...b){let c=b.length>2?b[2]:void 0;if(c){let d=e,f=function(a){try{return new URL(a,cW.location.origin).toString()}catch{return a}}(String(c));if(e=f,d===f)return a.apply(this,b);(0,dk.triggerHandlers)("history",{from:d,to:f})}return a.apply(this,b)}}cW.addEventListener("popstate",()=>{let a=cW.location.href,b=e;e=a,b===a||(0,dk.triggerHandlers)("history",{from:b,to:a})}),"history"in cS&&cS.history&&((0,bB.fill)(cW.history,"pushState",a),(0,bB.fill)(cW.history,"replaceState",a))}let dE="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,dF=(0,O.defineIntegration)((a={})=>{let b={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...a};return{name:"Breadcrumbs",setup(a){var c,d,e,f,g,h,i;b.console&&(0,di.addConsoleInstrumentationHandler)((c=a,function(a){if((0,J.getClient)()!==c)return;let b={category:"console",data:{arguments:a.args,logger:"console"},level:(0,dt.severityLevelFromString)(a.level),message:(0,ds.safeJoin)(a.args," ")};if("assert"===a.level)if(!1!==a.args[0])return;else b.message=`Assertion failed: ${(0,ds.safeJoin)(a.args.slice(1)," ")||"console.assert"}`,b.data.arguments=a.args.slice(1);(0,bO.addBreadcrumb)(b,{input:a.args,level:a.level})})),b.dom&&dw((d=a,e=b.dom,function(a){let b,c;if((0,J.getClient)()!==d)return;let f="object"==typeof e?e.serializeAttribute:void 0,g="object"==typeof e&&"number"==typeof e.maxStringLength?e.maxStringLength:void 0;g&&g>1024&&(dE&&N.debug.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${g} was configured. Sentry will use 1024 instead.`),g=1024),"string"==typeof f&&(f=[f]);try{var h;let d=a.event,e=(h=d)&&h.target?d.target:d;b=(0,L.htmlTreeAsString)(e,{keyAttrs:f,maxStringLength:g}),c=(0,L.getComponentName)(e)}catch{b="<unknown>"}if(0===b.length)return;let i={category:`ui.${a.name}`,message:b};c&&(i.data={"ui.component_name":c}),(0,bO.addBreadcrumb)(i,{event:a.event,name:a.name,global:a.global})})),b.xhr&&dA((f=a,function(a){if((0,J.getClient)()!==f)return;let{startTimestamp:b,endTimestamp:c}=a,d=a.xhr[dz];if(!b||!c||!d)return;let{method:e,url:g,status_code:h,body:i}=d,j={xhr:a.xhr,input:i,startTimestamp:b,endTimestamp:c},k={category:"xhr",data:{method:e,url:g,status_code:h},type:"http",level:(0,du.getBreadcrumbLogLevelFromHttpStatusCode)(h)};f.emit("beforeOutgoingRequestBreadcrumb",k,j),(0,bO.addBreadcrumb)(k,j)})),b.fetch&&dl((g=a,function(a){if((0,J.getClient)()!==g)return;let{startTimestamp:b,endTimestamp:c}=a;if(c&&(!a.fetchData.url.match(/sentry_key/)||"POST"!==a.fetchData.method))if(a.fetchData.method,a.fetchData.url,a.error){let d=a.fetchData,e={data:a.error,input:a.args,startTimestamp:b,endTimestamp:c},f={category:"fetch",data:d,level:"error",type:"http"};g.emit("beforeOutgoingRequestBreadcrumb",f,e),(0,bO.addBreadcrumb)(f,e)}else{let d=a.response,e={...a.fetchData,status_code:d?.status};a.fetchData.request_body_size,a.fetchData.response_body_size,d?.status;let f={input:a.args,response:d,startTimestamp:b,endTimestamp:c},h={category:"fetch",data:e,type:"http",level:(0,du.getBreadcrumbLogLevelFromHttpStatusCode)(e.status_code)};g.emit("beforeOutgoingRequestBreadcrumb",h,f),(0,bO.addBreadcrumb)(h,f)}})),b.history&&dC((h=a,function(a){if((0,J.getClient)()!==h)return;let b=a.from,c=a.to,d=(0,dv.parseUrl)(bE.location.href),e=b?(0,dv.parseUrl)(b):void 0,f=(0,dv.parseUrl)(c);e?.path||(e=d),d.protocol===f.protocol&&d.host===f.host&&(c=f.relative),d.protocol===e.protocol&&d.host===e.host&&(b=e.relative),(0,bO.addBreadcrumb)({category:"navigation",data:{from:b,to:c}})})),b.sentry&&a.on("beforeSendEvent",(i=a,function(a){(0,J.getClient)()===i&&(0,bO.addBreadcrumb)({category:`sentry.${"transaction"===a.type?"transaction":"event"}`,event_id:a.event_id,level:a.level,message:(0,bC.getEventDescription)(a)},{event:a})}))}}}),dG=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],dH=(0,O.defineIntegration)((a={})=>{let b={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...a};return{name:"BrowserApiErrors",setupOnce(){b.setTimeout&&(0,bB.fill)(bE,"setTimeout",dI),b.setInterval&&(0,bB.fill)(bE,"setInterval",dI),b.requestAnimationFrame&&(0,bB.fill)(bE,"requestAnimationFrame",dJ),b.XMLHttpRequest&&"XMLHttpRequest"in bE&&(0,bB.fill)(XMLHttpRequest.prototype,"send",dK);let a=b.eventTarget;a&&(Array.isArray(a)?a:dG).forEach(a=>{var c,d;let e;return c=a,d=b,e=bE[c]?.prototype,void(e?.hasOwnProperty?.("addEventListener")&&((0,bB.fill)(e,"addEventListener",function(a){return function(b,e,f){var g,h,i,j;try{g=e,"function"==typeof g.handleEvent&&(e.handleEvent=bG(e.handleEvent,{mechanism:{data:{handler:(0,cu.getFunctionName)(e),target:c},handled:!1,type:"auto.browser.browserapierrors.handleEvent"}}))}catch{}return d.unregisterOriginalCallbacks&&(h=this,i=b,j=e,h&&"object"==typeof h&&"removeEventListener"in h&&"function"==typeof h.removeEventListener&&h.removeEventListener(i,j)),a.apply(this,[b,bG(e,{mechanism:{data:{handler:(0,cu.getFunctionName)(e),target:c},handled:!1,type:"auto.browser.browserapierrors.addEventListener"}}),f])}}),(0,bB.fill)(e,"removeEventListener",function(a){return function(b,c,d){try{let e=c.__sentry_wrapped__;e&&a.call(this,b,e,d)}catch{}return a.call(this,b,c,d)}})))})}}});function dI(a){return function(...b){let c=b[0];return b[0]=bG(c,{mechanism:{handled:!1,type:`auto.browser.browserapierrors.${(0,cu.getFunctionName)(a)}`}}),a.apply(this,b)}}function dJ(a){return function(b){return a.apply(this,[bG(b,{mechanism:{data:{handler:(0,cu.getFunctionName)(a)},handled:!1,type:"auto.browser.browserapierrors.requestAnimationFrame"}})])}}function dK(a){return function(...b){let c=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(a=>{a in c&&"function"==typeof c[a]&&(0,bB.fill)(c,a,function(b){let c={mechanism:{data:{handler:(0,cu.getFunctionName)(b)},handled:!1,type:`auto.browser.browserapierrors.xhr.${a}`}},d=(0,bB.getOriginalFunction)(b);return d&&(c.mechanism.data.handler=(0,cu.getFunctionName)(d)),bG(b,c)})}),a.apply(this,b)}}let dL=(0,O.defineIntegration)(()=>({name:"BrowserSession",setupOnce(){if(void 0===bE.document){dE&&N.debug.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}(0,bD.startSession)({ignoreDuration:!0}),(0,bD.captureSession)(),dC(({from:a,to:b})=>{void 0!==a&&a!==b&&((0,bD.startSession)({ignoreDuration:!0}),(0,bD.captureSession)())})}}));var dM=a.i(86577),dN=a.i(55263);let dO=(0,O.defineIntegration)((a={})=>{let b={onerror:!0,onunhandledrejection:!0,...a};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(a){var c,d;b.onerror&&(c=a,(0,dM.addGlobalErrorInstrumentationHandler)(a=>{var b,d,e,f;let g,h,i,j,k,l,{stackParser:m,attachStacktrace:n}=dS();if((0,J.getClient)()!==c||bF>0)return;let{msg:o,url:p,line:q,column:r,error:s}=a,t=(b=cN(m,s||o,void 0,n,!1),d=p,e=q,f=r,k=(j=(i=(h=(g=b.exception=b.exception||{}).values=g.values||[])[0]=h[0]||{}).stacktrace=i.stacktrace||{}).frames=j.frames||[],l=function(a){if((0,cD.isString)(a)&&0!==a.length){if(a.startsWith("data:")){let b=a.match(/^data:([^;]+)/),c=b?b[1]:"text/javascript",d=a.includes("base64,");return`<data:${c}${d?",base64":""}>`}return a}}(d)??(0,L.getLocationHref)(),0===k.length&&k.push({colno:f,filename:l,function:cu.UNKNOWN_FUNCTION,in_app:!0,lineno:e}),b);t.level="error",(0,bD.captureEvent)(t,{originalException:s,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})}),dR("onerror")),b.onunhandledrejection&&(d=a,(0,dN.addGlobalUnhandledRejectionInstrumentationHandler)(a=>{let{stackParser:b,attachStacktrace:c}=dS();if((0,J.getClient)()!==d||bF>0)return;let e=dP(a),f=(0,cD.isPrimitive)(e)?dQ(e):cN(b,e,void 0,c,!0);f.level="error",(0,bD.captureEvent)(f,{originalException:e,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})}),dR("onunhandledrejection"))}}});function dP(a){if((0,cD.isPrimitive)(a))return a;try{if("reason"in a)return a.reason;if("detail"in a&&"reason"in a.detail)return a.detail.reason}catch{}return a}function dQ(a){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(a)}`}]}}}function dR(a){dE&&N.debug.log(`Global Handler attached: ${a}`)}function dS(){let a=(0,J.getClient)();return a?.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}let dT=(0,O.defineIntegration)(()=>({name:"HttpContext",preprocessEvent(a){if(!bE.navigator&&!bE.location&&!bE.document)return;let b=bH(),c={...b.headers,...a.request?.headers};a.request={...b,...a.request,headers:c}}}));var dU=a.i(80238);let dV=(0,O.defineIntegration)((a={})=>{let b=a.limit||5,c=a.key||"cause";return{name:"LinkedErrors",preprocessEvent(a,d,e){let f=e.getOptions();(0,dU.applyAggregateErrorsToEvent)(cG,f.stackParser,c,b,a,d)}}});function dW(a){return[(0,bV.inboundFiltersIntegration)(),(0,bY.functionToStringIntegration)(),dH(),dF(),dO(),dV(),(0,bU.dedupeIntegration)(),dT(),dL()]}function dX(a={}){let b=!a.skipBrowserExtensionCheck&&!!function(){if(void 0===bE.window||bE.nw)return!1;let a=bE.chrome||bE.browser;if(!a?.runtime?.id)return!1;let b=(0,L.getLocationHref)();return!(bE===bE.top&&["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"].some(a=>b.startsWith(`${a}://`)))}()&&(dE&&(0,N.consoleSandbox)(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0),c=null==a.defaultIntegrations?dW():a.defaultIntegrations,d={...a,enabled:!b&&a.enabled,stackParser:(0,cu.stackParserFromStackParserOptions)(a.stackParser||df),integrations:(0,O.getIntegrationsToSetup)({integrations:a.integrations,defaultIntegrations:c}),transport:a.transport||c$};return(0,cr.initAndBind)(cP,d)}function dY(){}function dZ(a){a()}function d$(a={}){let b=bE.document,c=b?.head||b?.body;if(!c){dE&&N.debug.error("[showReportDialog] Global document not defined");return}let d=(0,J.getCurrentScope)(),e=(0,J.getClient)(),f=e?.getDsn();if(!f){dE&&N.debug.error("[showReportDialog] DSN not configured");return}let g={...a,user:{...d.getUser(),...a.user},eventId:a.eventId||(0,bD.lastEventId)()},h=bE.document.createElement("script");h.async=!0,h.crossOrigin="anonymous",h.src=(0,ce.getReportDialogEndpoint)(f,g);let{onLoad:i,onClose:j}=g;if(i&&(h.onload=i),j){let a=b=>{if("__sentry_reportdialog_closed__"===b.data)try{j()}finally{bE.removeEventListener("message",a)}};bE.addEventListener("message",a)}c.appendChild(h)}let d_=I.GLOBAL_OBJ,d0=new WeakMap,d1=(0,O.defineIntegration)((a={})=>{let b=a.types||["crash","deprecation","intervention"];function c(a){if(d0.has((0,J.getClient)()))for(let b of a)(0,J.withScope)(a=>{a.setExtra("url",b.url);let c=`ReportingObserver [${b.type}]`,d="No details available";if(b.body){let c={};for(let a in b.body)c[a]=b.body[a];if(a.setExtra("body",c),"crash"===b.type){let a=b.body;d=[a.crashId||"",a.reason||""].join(" ").trim()||d}else d=b.body.message||d}(0,bD.captureMessage)(`${c}: ${d}`)})}return{name:"ReportingObserver",setupOnce(){"ReportingObserver"in cS&&new d_.ReportingObserver(c,{buffered:!0,types:b}).observe()},setup(a){d0.set(a,!0)}}});var d2=a.i(95470);let d3=(0,O.defineIntegration)((a={})=>{let b={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...a};return{name:"HttpClient",setup(a){var c,d,e,f;c=a,d=b,cU()&&dl(a=>{if((0,J.getClient)()!==c)return;let{response:b,args:e,error:f,virtualError:g}=a,[h,i]=e;b&&function(a,b,c,d,e){if(d6(a,c.status,c.url)){var f,g;let a,h,i,j,k=(f=b,!(g=d)&&f instanceof Request||f instanceof Request&&f.bodyUsed?f:new Request(f,g));d8()&&([a,i]=d4("Cookie",k),[h,j]=d4("Set-Cookie",c));let l=d7({url:k.url,method:k.method,status:c.status,requestHeaders:a,responseHeaders:h,requestCookies:i,responseCookies:j,error:e,type:"fetch"});(0,bD.captureEvent)(l)}}(d,h,b,i,f||g)},!1),e=a,f=b,"XMLHttpRequest"in I.GLOBAL_OBJ&&dA(a=>{if((0,J.getClient)()!==e)return;let{error:b,virtualError:c}=a,d=a.xhr,g=d[dz];if(!g)return;let{method:h,request_headers:i}=g;try{!function(a,b,c,d,e){if(d6(a,b.status,b.responseURL)){let a,f,g;if(d8()){try{let a=b.getResponseHeader("Set-Cookie")||b.getResponseHeader("set-cookie")||void 0;a&&(f=d5(a))}catch{}try{let a;g=(a=b.getAllResponseHeaders())?a.split("\r\n").reduce((a,b)=>{let[c,d]=b.split(": ");return c&&d&&(a[c]=d),a},{}):{}}catch{}a=d}let h=d7({url:b.responseURL,method:c,status:b.status,requestHeaders:a,responseHeaders:g,responseCookies:f,error:e,type:"xhr"});(0,bD.captureEvent)(h)}}(f,d,h,i,b||c)}catch(a){dE&&N.debug.warn("Error while extracting response event form XHR response",a)}})}}});function d4(a,b){var c;let d,e,f=(c=b.headers,d={},c.forEach((a,b)=>{d[b]=a}),d);try{let b=f[a]||f[a.toLowerCase()]||void 0;b&&(e=d5(b))}catch{}return[f,e]}function d5(a){return a.split("; ").reduce((a,b)=>{let[c,d]=b.split("=");return c&&d&&(a[c]=d),a},{})}function d6(a,b,c){var d,e;return d=a.failedRequestStatusCodes,d.some(a=>"number"==typeof a?a===b:b>=a[0]&&b<=a[1])&&(e=a.failedRequestTargets,e.some(a=>"string"==typeof a?c.includes(a):a.test(c)))&&!(0,d2.isSentryRequestUrl)(c,(0,J.getClient)())}function d7(a){let b=(0,J.getClient)(),c=b&&a.error&&a.error instanceof Error?a.error.stack:void 0,d=c&&b?b.getOptions().stackParser(c,0,1):void 0,e=`HTTP Client Error with status code: ${a.status}`,f={message:e,exception:{values:[{type:"Error",value:e,stacktrace:d?{frames:d}:void 0}]},request:{url:a.url,method:a.method,headers:a.requestHeaders,cookies:a.requestCookies},contexts:{response:{status_code:a.status,headers:a.responseHeaders,cookies:a.responseCookies,body_size:function(a){if(a){let b=a["Content-Length"]||a["content-length"];if(b)return parseInt(b,10)}}(a.responseHeaders)}}};return(0,bC.addExceptionMechanism)(f,{type:`auto.http.client.${a.type}`,handled:!1}),f}function d8(){let a=(0,J.getClient)();return!!a&&!!a.getOptions().sendDefaultPii}let d9=I.GLOBAL_OBJ,ea=(0,O.defineIntegration)((a={})=>{let b=null!=a.frameContextLines?a.frameContextLines:7;return{name:"ContextLines",processEvent:a=>(function(a,b){let c=d9.document,d=d9.location&&(0,dv.stripUrlQueryAndFragment)(d9.location.href);if(!c||!d)return a;let e=a.exception?.values;if(!e?.length)return a;let f=c.documentElement.innerHTML;if(!f)return a;let g=["<!DOCTYPE html>","<html>",...f.split("\n"),"</html>"];return e.forEach(a=>{let c=a.stacktrace;c?.frames&&(c.frames=c.frames.map(a=>{var c,e,f,h;return c=a,e=g,f=d,h=b,c.filename===f&&c.lineno&&e.length&&(0,bC.addContextToFrame)(e,c,h),c}))}),a})(a,b)}});function eb(a){return new URLSearchParams(a).toString()}function ec(a,b=N.debug){try{if("string"==typeof a)return[a];if(a instanceof URLSearchParams)return[a.toString()];if(a instanceof FormData)return[eb(a)];if(!a)return[void 0]}catch(c){return cV&&b.error(c,"Failed to serialize body",a),[void 0,"BODY_PARSE_ERROR"]}return cV&&b.log("Skipping network body because of body type",a),[void 0,"UNPARSEABLE_BODY_TYPE"]}function ed(a=[]){if(2===a.length&&"object"==typeof a[1])return a[1].body}function ee(a){let b;try{b=a.getAllResponseHeaders()}catch(b){return cV&&N.debug.error(b,"Failed to get xhr response headers",a),{}}return b?b.split("\r\n").reduce((a,b)=>{let[c,d]=b.split(": ");return d&&(a[c.toLowerCase()]=d),a},{}):{}}function ef(a){let{query:b,operationName:c}=a,{operationName:d=c,operationType:e}=function(a){let b=a.match(/^(?:\s*)(query|mutation|subscription)(?:\s*)(\w+)(?:\s*)[{(]/);if(b)return{operationType:b[1],operationName:b[2]};let c=a.match(/^(?:\s*)(query|mutation|subscription)(?:\s*)[{(]/);return c?{operationType:c[1],operationName:void 0}:{operationType:void 0,operationName:void 0}}(b);return d?`${e} ${d}`:`${e}`}function eg(a){let b;if("xhr"in a){let c=a.xhr[dz];b=c&&ec(c.body)[0]}else b=ec(ed(a.input))[0];return b}function eh(a){let b;try{let c=JSON.parse(a);c.query&&(b=c)}finally{return b}}let ei=(0,O.defineIntegration)(a=>({name:"GraphQLClient",setup(b){var c,d,e,f;c=b,d=a,c.on("beforeOutgoingRequestSpan",(a,b)=>{let c=(0,bZ.spanToJSON)(a).data||{};if("http.client"!==c[bM.SEMANTIC_ATTRIBUTE_SENTRY_OP])return;let e=c[bM.SEMANTIC_ATTRIBUTE_URL_FULL]||c["http.url"],f=c[bM.SEMANTIC_ATTRIBUTE_HTTP_REQUEST_METHOD]||c["http.method"];if(!(0,cD.isString)(e)||!(0,cD.isString)(f))return;let{endpoints:g}=d,h=(0,ds.stringMatchesSomePattern)(e,g),i=eg(b);if(h&&i){let b=eh(i);if(b){let c=ef(b);a.updateName(`${f} ${e} (${c})`),a.setAttribute("graphql.document",i)}}}),e=b,f=a,e.on("beforeOutgoingRequestBreadcrumb",(a,b)=>{let{category:c,type:d,data:e}=a;if("http"===d&&("fetch"===c||"xhr"===c)){let a=e?.url,{endpoints:c}=f,d=(0,ds.stringMatchesSomePattern)(a,c),g=eg(b);if(d&&e&&g){let a=eh(g);if(!e.graphql&&a){let b=ef(a);e["graphql.document"]=a.query,e["graphql.operation"]=b}}}})}}));var ej=a.i(73034),ek=a.i(84716),el=a.i(51279),em=a.i(44424);let en=(a,b,c,d)=>{let e,f;return g=>{if(b.value>=0&&(g||d)&&((f=b.value-(e??0))||void 0===e)){var h;e=b.value,b.delta=f,h=b.value,b.rating=h>c[1]?"poor":h>c[0]?"needs-improvement":"good",a(b)}}},eo=(a=!0)=>{let b=cW.performance?.getEntriesByType?.("navigation")[0];if(!a||b&&b.responseStart>0&&b.responseStart<performance.now())return b},ep=()=>{let a=eo();return a?.activationStart??0};function eq(a,b,c){cW.document&&cW.addEventListener(a,b,c)}function er(a,b,c){cW.document&&cW.removeEventListener(a,b,c)}let es=-1,et=new Set,eu=a=>{if(("pagehide"===a.type||cW.document?.visibilityState==="hidden")&&es>-1){if("visibilitychange"===a.type||"pagehide"===a.type)for(let a of et)a();isFinite(es)||(es="visibilitychange"===a.type?a.timeStamp:0,er("prerenderingchange",eu,!0))}},ev=()=>{if(cW.document&&es<0){let a=ep();es=(cW.document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(b=>"hidden"===b.name&&b.startTime>a)[0]?.startTime)??(cW.document?.visibilityState!=="hidden"||cW.document?.prerendering?1/0:0),eq("visibilitychange",eu,!0),eq("pagehide",eu,!0),eq("prerenderingchange",eu,!0)}return{get firstHiddenTime(){return es},onHidden(a){et.add(a)}}},ew=(a,b=-1)=>{let c=eo(),d="navigate";return c&&(cW.document?.prerendering||ep()>0?d="prerender":cW.document?.wasDiscarded?d="restore":c.type&&(d=c.type.replace(/_/g,"-"))),{name:a,value:b,rating:"good",delta:0,entries:[],id:`v5-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,navigationType:d}},ex=new WeakMap;function ey(a,b){return ex.get(a)||ex.set(a,new b),ex.get(a)}class ez{constructor(){ez.prototype.__init.call(this),ez.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(a){if(a.hadRecentInput)return;let b=this._sessionEntries[0],c=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&b&&c&&a.startTime-c.startTime<1e3&&a.startTime-b.startTime<5e3?(this._sessionValue+=a.value,this._sessionEntries.push(a)):(this._sessionValue=a.value,this._sessionEntries=[a]),this._onAfterProcessingUnexpectedShift?.(a)}}let eA=(a,b,c={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(a)){let d=new PerformanceObserver(a=>{Promise.resolve().then(()=>{b(a.getEntries())})});return d.observe({type:a,buffered:!0,...c}),d}}catch{}},eB=a=>{let b=!1;return()=>{b||(a(),b=!0)}},eC=a=>{cW.document?.prerendering?addEventListener("prerenderingchange",()=>a(),!0):a()},eD=[1800,3e3],eE=[.1,.25],eF=0,eG=1/0,eH=0,eI=a=>{a.forEach(a=>{a.interactionId&&(eG=Math.min(eG,a.interactionId),eF=(eH=Math.max(eH,a.interactionId))?(eH-eG)/7+1:0)})},eJ=()=>f?eF:performance.interactionCount||0,eK=0;class eL{constructor(){eL.prototype.__init.call(this),eL.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){eK=eJ(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){let a=Math.min(this._longestInteractionList.length-1,Math.floor((eJ()-eK)/50));return this._longestInteractionList[a]}_processEntry(a){if(this._onBeforeProcessingEntry?.(a),!(a.interactionId||"first-input"===a.entryType))return;let b=this._longestInteractionList.at(-1),c=this._longestInteractionMap.get(a.interactionId);if(c||this._longestInteractionList.length<10||a.duration>b._latency){if(c?a.duration>c._latency?(c.entries=[a],c._latency=a.duration):a.duration===c._latency&&a.startTime===c.entries[0].startTime&&c.entries.push(a):(c={id:a.interactionId,entries:[a],_latency:a.duration},this._longestInteractionMap.set(c.id,c),this._longestInteractionList.push(c)),this._longestInteractionList.sort((a,b)=>b._latency-a._latency),this._longestInteractionList.length>10)for(let a of this._longestInteractionList.splice(10))this._longestInteractionMap.delete(a.id);this._onAfterProcessingINPCandidate?.(c)}}}let eM=a=>{let b=b=>{("pagehide"===b.type||cW.document?.visibilityState==="hidden")&&a(b)};eq("visibilitychange",b,!0),eq("pagehide",b,!0)},eN=a=>{let b=cW.requestIdleCallback||cW.setTimeout;cW.document?.visibilityState==="hidden"?a():(eq("visibilitychange",a=eB(a),{once:!0,capture:!0}),b(()=>{a(),er("visibilitychange",a,{capture:!0})}),eM(a))},eO=[200,500];class eP{_processEntry(a){this._onBeforeProcessingEntry?.(a)}}let eQ=[2500,4e3],eR=[800,1800],eS=a=>{cW.document?.prerendering?eC(()=>eS(a)):cW.document?.readyState!=="complete"?addEventListener("load",()=>eS(a),!0):setTimeout(a)},eT={},eU={};function eV(a,b=!1){return e2("cls",a,e$,g,b)}function eW(a,b=!1){return e2("lcp",a,e_,h,b)}function eX(a){return e2("inp",a,e1,j)}function eY(a,b){var c;let d;return e3(a,b),eU[a]||(d={},"event"===(c=a)&&(d.durationThreshold=0),eA(c,a=>{eZ(c,{entries:a})},d),eU[a]=!0),e4(a,b)}function eZ(a,b){let c=eT[a];if(c?.length)for(let d of c)try{d(b)}catch(b){cV&&N.debug.error(`Error while triggering instrumentation handler.
Type: ${a}
Name: ${(0,cu.getFunctionName)(d)}
Error:`,b)}}function e$(){return((a,b={})=>{((a,b={})=>{eC(()=>{let c,d=ev(),e=ew("FCP"),f=eA("paint",a=>{for(let b of a)"first-contentful-paint"===b.name&&(f.disconnect(),b.startTime<d.firstHiddenTime&&(e.value=Math.max(b.startTime-ep(),0),e.entries.push(b),c(!0)))});f&&(c=en(a,e,eD,b.reportAllChanges))})})(eB(()=>{let c,d=ew("CLS",0),e=ev(),f=ey(b,ez),g=a=>{for(let b of a)f._processEntry(b);f._sessionValue>d.value&&(d.value=f._sessionValue,d.entries=f._sessionEntries,c())},h=eA("layout-shift",g);h&&(c=en(a,d,eE,b.reportAllChanges),e.onHidden(()=>{g(h.takeRecords()),c(!0)}),cW?.setTimeout?.(c))}))})(a=>{eZ("cls",{metric:a}),g=a},{reportAllChanges:!0})}function e_(){return((a,b={})=>{eC(()=>{let c,d=ev(),e=ew("LCP"),f=ey(b,eP),g=a=>{for(let g of(b.reportAllChanges||(a=a.slice(-1)),a))f._processEntry(g),g.startTime<d.firstHiddenTime&&(e.value=Math.max(g.startTime-ep(),0),e.entries=[g],c())},h=eA("largest-contentful-paint",g);if(h){c=en(a,e,eQ,b.reportAllChanges);let d=eB(()=>{g(h.takeRecords()),h.disconnect(),c(!0)}),f=a=>{a.isTrusted&&(eN(d),er(a.type,f,{capture:!0}))};for(let a of["keydown","click","visibilitychange"])eq(a,f,{capture:!0})}})})(a=>{eZ("lcp",{metric:a}),h=a},{reportAllChanges:!0})}function e0(){return((a,b={})=>{let c=ew("TTFB"),d=en(a,c,eR,b.reportAllChanges);eS(()=>{let a=eo();a&&(c.value=Math.max(a.responseStart-ep(),0),c.entries=[a],d(!0))})})(a=>{eZ("ttfb",{metric:a}),i=a})}function e1(){return((a,b={})=>{if(!(globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype))return;let c=ev();eC(()=>{let d;"interactionCount"in performance||f||(f=eA("event",eI,{type:"event",buffered:!0,durationThreshold:0}));let e=ew("INP"),g=ey(b,eL),h=a=>{eN(()=>{for(let b of a)g._processEntry(b);let b=g._estimateP98LongestInteraction();b&&b._latency!==e.value&&(e.value=b._latency,e.entries=b.entries,d())})},i=eA("event",h,{durationThreshold:b.durationThreshold??40});d=en(a,e,eO,b.reportAllChanges),i&&(i.observe({type:"first-input",buffered:!0}),c.onHidden(()=>{h(i.takeRecords()),d(!0)}))})})(a=>{eZ("inp",{metric:a}),j=a})}function e2(a,b,c,d,e=!1){let f;return e3(a,b),eU[a]||(f=c(),eU[a]=!0),d&&b({metric:d}),e4(a,b,e?f:void 0)}function e3(a,b){eT[a]=eT[a]||[],eT[a].push(b)}function e4(a,b,c){return()=>{c&&c();let d=eT[a];if(!d)return;let e=d.indexOf(b);-1!==e&&d.splice(e,1)}}let e5=I.GLOBAL_OBJ,e6="sentryReplaySession",e7="Unable to send Replay";var e8=Object.defineProperty,e9=(a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?e8(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c},fa=((w=fa||{})[w.Document=0]="Document",w[w.DocumentType=1]="DocumentType",w[w.Element=2]="Element",w[w.Text=3]="Text",w[w.CDATA=4]="CDATA",w[w.Comment=5]="Comment",w);function fb(a){let b=a?.host;return b?.shadowRoot===a}function fc(a){return"[object ShadowRoot]"===Object.prototype.toString.call(a)}function fd(a){try{var b;let c=a.rules||a.cssRules;return c?((b=Array.from(c,fe).join("")).includes(" background-clip: text;")&&!b.includes(" -webkit-background-clip: text;")&&(b=b.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),b):null}catch(a){return null}}function fe(a){let b;if("styleSheet"in a)try{b=fd(a.styleSheet)||function(a){let{cssText:b}=a;if(b.split('"').length<3)return b;let c=["@import",`url(${JSON.stringify(a.href)})`];return""===a.layerName?c.push("layer"):a.layerName&&c.push(`layer(${a.layerName})`),a.supportsText&&c.push(`supports(${a.supportsText})`),a.media.length&&c.push(a.media.mediaText),c.join(" ")+";"}(a)}catch(a){}else if("selectorText"in a){let b=a.cssText,c=a.selectorText.includes(":"),d="string"==typeof a.style.all&&a.style.all;if(d&&(b=function(a){let b="";for(let c=0;c<a.style.length;c++){let d=a.style,e=d[c],f=d.getPropertyPriority(e);b+=`${e}:${d.getPropertyValue(e)}${f?" !important":""};`}return`${a.selectorText} { ${b} }`}(a)),c&&(b=b.replace(/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm,"$1\\$2")),c||d)return b}return b||a.cssText}class ff{constructor(){e9(this,"idNodeMap",new Map),e9(this,"nodeMetaMap",new WeakMap)}getId(a){return a?this.getMeta(a)?.id??-1:-1}getNode(a){return this.idNodeMap.get(a)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(a){return this.nodeMetaMap.get(a)||null}removeNodeFromMap(a){let b=this.getId(a);this.idNodeMap.delete(b),a.childNodes&&a.childNodes.forEach(a=>this.removeNodeFromMap(a))}has(a){return this.idNodeMap.has(a)}hasNode(a){return this.nodeMetaMap.has(a)}add(a,b){let c=b.id;this.idNodeMap.set(c,a),this.nodeMetaMap.set(a,b)}replace(a,b){let c=this.getNode(a);if(c){let a=this.nodeMetaMap.get(c);a&&this.nodeMetaMap.set(b,a)}this.idNodeMap.set(a,b)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function fg({maskInputOptions:a,tagName:b,type:c}){return"OPTION"===b&&(b="SELECT"),!!(a[b.toLowerCase()]||c&&a[c]||"password"===c||"INPUT"===b&&!c&&a.text)}function fh({isMasked:a,element:b,value:c,maskInputFn:d}){let e=c||"";return a?(d&&(e=d(e,b)),"*".repeat(e.length)):e}function fi(a){return a.toLowerCase()}function fj(a){return a.toUpperCase()}let fk="__rrweb_original__";function fl(a){let b=a.type;return a.hasAttribute("data-rr-is-password")?"password":b?fi(b):null}function fm(a,b,c){return"INPUT"===b&&("radio"===c||"checkbox"===c)?a.getAttribute("value")||"":a.value}function fn(a,b){let c;try{c=new URL(a,b??window.location.href)}catch(a){return null}let d=c.pathname.match(/\.([0-9a-z]+)(?:$)/i);return d?.[1]??null}let fo={};function fp(a){let b=fo[a];if(b)return b;let c=window.document,d=window[a];if(c&&"function"==typeof c.createElement)try{let b=c.createElement("iframe");b.hidden=!0,c.head.appendChild(b);let e=b.contentWindow;e&&e[a]&&(d=e[a]),c.head.removeChild(b)}catch(a){}return fo[a]=d.bind(window)}function fq(...a){return fp("setTimeout")(...a)}function fr(...a){return fp("clearTimeout")(...a)}function fs(a){try{return a.contentDocument}catch(a){}}let ft=1,fu=RegExp("[^a-z0-9-_:]");function fv(){return ft++}let fw=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,fx=/^(?:[a-z+]+:)?\/\//i,fy=/^www\..*/i,fz=/^(data:)([^,]*),(.*)/i;function fA(a,b){return(a||"").replace(fw,(a,c,d,e,f,g)=>{let h=d||f||g,i=c||e||"";if(!h)return a;if(fx.test(h)||fy.test(h)||fz.test(h))return`url(${i}${h}${i})`;if("/"===h[0])return`url(${i}${(b.indexOf("//")>-1?b.split("/").slice(0,3).join("/"):b.split("/")[0]).split("?")[0]+h}${i})`;let j=b.split("/"),k=h.split("/");for(let a of(j.pop(),k))if("."===a)continue;else".."===a?j.pop():j.push(a);return`url(${i}${j.join("/")}${i})`})}let fB=/^[^ \t\n\r\u000c]+/,fC=/^[, \t\n\r\u000c]+/,fD=new WeakMap;function fE(a,b){return b&&""!==b.trim()?fF(a,b):b}function fF(a,b){let c=fD.get(a);if(c||(c=a.createElement("a"),fD.set(a,c)),b){if(b.startsWith("blob:")||b.startsWith("data:"))return b}else b="";return c.setAttribute("href",b),c.href}function fG(a,b,c,d,e,f,g){if(!d)return d;if("src"===c||"href"===c&&("use"!==b||"#"!==d[0])||"xlink:href"===c&&"#"!==d[0])return fE(a,d);if("background"===c&&("table"===b||"td"===b||"th"===b))return fE(a,d);if("srcset"===c)return function(a,b){if(""===b.trim())return b;let c=0;function d(a){let d,e=a.exec(b.substring(c));return e?(d=e[0],c+=d.length,d):""}let e=[];for(;d(fC),!(c>=b.length);){let f=d(fB);if(","===f.slice(-1))f=fE(a,f.substring(0,f.length-1)),e.push(f);else{let d="";f=fE(a,f);let g=!1;for(;;){let a=b.charAt(c);if(""===a){e.push((f+d).trim());break}if(g)")"===a&&(g=!1);else if(","===a){c+=1,e.push((f+d).trim());break}else"("===a&&(g=!0);d+=a,c+=1}}}return e.join(", ")}(a,d);if("style"===c){let b=fA(d,fF(a));return g&&g.size>0&&(b=function(a,b){if(!a||0===b.size)return a;try{let c=a.split(";"),d=[];for(let a of c){if(!(a=a.trim()))continue;let c=a.indexOf(":");if(-1===c){d.push(a);continue}let e=a.slice(0,c).trim();b.has(e)||d.push(a)}return d.join("; ")+(d.length>0&&a.endsWith(";")?";":"")}catch(b){return console.warn("Error filtering CSS properties:",b),a}}(b,g)),b}else if("object"===b&&"data"===c)return fE(a,d);return"function"==typeof f?f(c,d,e):d}function fH(a,b,c){return("video"===a||"audio"===a)&&"autoplay"===b}function fI(a,b,c=1/0,d=0){return!a||a.nodeType!==a.ELEMENT_NODE||d>c?-1:b(a)?d:fI(a.parentNode,b,c,d+1)}function fJ(a,b){return c=>{if(null===c)return!1;try{if(a){if("string"==typeof a){if(c.matches(`.${a}`))return!0}else if(function(a,b){for(let c=a.classList.length;c--;){let d=a.classList[c];if(b.test(d))return!0}return!1}(c,a))return!0}if(b&&c.matches(b))return!0;return!1}catch{return!1}}}function fK(a,b,c,d,e,f){try{let g=a.nodeType===a.ELEMENT_NODE?a:a.parentElement;if(null===g)return!1;if("INPUT"===g.tagName){let a=g.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(a))return!0}let h=-1,i=-1;if(f){if((i=fI(g,fJ(d,e)))<0)return!0;h=fI(g,fJ(b,c),i>=0?i:1/0)}else{if((h=fI(g,fJ(b,c)))<0)return!1;i=fI(g,fJ(d,e),h>=0?h:1/0)}return h>=0?!(i>=0)||h<=i:!(i>=0)&&!!f}catch(a){}return!!f}function fL(a){return null==a?"":a.toLowerCase()}function fM(a,b){let c,{doc:d,mirror:e,blockClass:f,blockSelector:g,unblockSelector:h,maskAllText:i,maskTextClass:j,unmaskTextClass:m,maskTextSelector:n,unmaskTextSelector:o,skipChild:p=!1,inlineStylesheet:q=!0,maskInputOptions:r={},maskAttributeFn:s,maskTextFn:t,maskInputFn:u,slimDOMOptions:v,dataURLOptions:w={},inlineImages:x=!1,recordCanvas:y=!1,onSerialize:z,onIframeLoad:A,iframeLoadTimeout:B=5e3,onBlockedImageLoad:C,onStylesheetLoad:D,stylesheetLoadTimeout:E=5e3,keepIframeSrcFn:F=()=>!1,newlyAddedElement:G=!1,ignoreCSSAttributes:H}=b,{preserveWhiteSpace:I=!0}=b,J=function(a,b){let{doc:c,mirror:d,blockClass:e,blockSelector:f,unblockSelector:g,maskAllText:h,maskAttributeFn:i,maskTextClass:j,unmaskTextClass:m,maskTextSelector:n,unmaskTextSelector:o,inlineStylesheet:p,maskInputOptions:q={},maskTextFn:r,maskInputFn:s,dataURLOptions:t={},inlineImages:u,recordCanvas:v,keepIframeSrcFn:w,newlyAddedElement:x=!1,ignoreCSSAttributes:y}=b,z=function(a,b){if(!b.hasNode(a))return;let c=b.getId(a);return 1===c?void 0:c}(c,d);switch(a.nodeType){case a.DOCUMENT_NODE:if("CSS1Compat"!==a.compatMode)return{type:fa.Document,childNodes:[],compatMode:a.compatMode};return{type:fa.Document,childNodes:[]};case a.DOCUMENT_TYPE_NODE:return{type:fa.DocumentType,name:a.name,publicId:a.publicId,systemId:a.systemId,rootId:z};case a.ELEMENT_NODE:return function(a,b){let c,{doc:d,blockClass:e,blockSelector:f,unblockSelector:g,inlineStylesheet:h,maskInputOptions:i={},maskAttributeFn:j,maskInputFn:m,dataURLOptions:n={},inlineImages:o,recordCanvas:p,keepIframeSrcFn:q,newlyAddedElement:r=!1,rootId:s,maskTextClass:t,unmaskTextClass:u,maskTextSelector:v,unmaskTextSelector:w,ignoreCSSAttributes:x}=b,y=function(a,b,c,d){try{if(d&&a.matches(d))return!1;if("string"==typeof b){if(a.classList.contains(b))return!0}else for(let c=a.classList.length;c--;){let d=a.classList[c];if(b.test(d))return!0}if(c)return a.matches(c)}catch(a){}return!1}(a,e,f,g),z=function(a){if(a instanceof HTMLFormElement)return"form";let b=fi(a.tagName);return fu.test(b)?"div":b}(a),A={},B=a.attributes.length;for(let b=0;b<B;b++){let c=a.attributes[b];c.name&&!fH(z,c.name,c.value)&&(A[c.name]=fG(d,z,fi(c.name),c.value,a,j,x))}if("link"===z&&h){let b=Array.from(d.styleSheets).find(b=>b.href===a.href),c=null;b&&(c=fd(b)),c&&(A.rel=null,A.href=null,A.crossorigin=null,A._cssText=fA(c,b.href))}if("style"===z&&a.sheet&&!(a.innerText||a.textContent||"").trim().length){let b=fd(a.sheet);b&&(A._cssText=fA(b,fF(d)))}if("input"===z||"textarea"===z||"select"===z||"option"===z){let b=fl(a),c=fm(a,fj(z),b),d=a.checked;if("submit"!==b&&"button"!==b&&c){let d=fK(a,t,v,u,w,fg({type:b,tagName:fj(z),maskInputOptions:i}));A.value=fh({isMasked:d,element:a,value:c,maskInputFn:m})}d&&(A.checked=d)}if("option"===z&&(a.selected&&!i.select?A.selected=!0:delete A.selected),"canvas"===z&&p){if("2d"===a.__context)!function(a){let b=a.getContext("2d");if(!b)return!0;for(let c=0;c<a.width;c+=50)for(let d=0;d<a.height;d+=50){let e=b.getImageData;if(new Uint32Array((fk in e?e[fk]:e).call(b,c,d,Math.min(50,a.width-c),Math.min(50,a.height-d)).data.buffer).some(a=>0!==a))return!1}return!0}(a)&&(A.rr_dataURL=a.toDataURL(n.type,n.quality));else if(!("__context"in a)){let b=a.toDataURL(n.type,n.quality),c=d.createElement("canvas");c.width=a.width,c.height=a.height,b!==c.toDataURL(n.type,n.quality)&&(A.rr_dataURL=b)}}if("img"===z&&o){k||(l=(k=d.createElement("canvas")).getContext("2d"));let b=a.currentSrc||a.getAttribute("src")||"<unknown-src>",c=a.crossOrigin,e=()=>{a.removeEventListener("load",e);try{k.width=a.naturalWidth,k.height=a.naturalHeight,l.drawImage(a,0,0),A.rr_dataURL=k.toDataURL(n.type,n.quality)}catch(c){if("anonymous"!==a.crossOrigin){a.crossOrigin="anonymous",a.complete&&0!==a.naturalWidth?e():a.addEventListener("load",e);return}console.warn(`Cannot inline img src=${b}! Error: ${c}`)}"anonymous"===a.crossOrigin&&(c?A.crossOrigin=c:a.removeAttribute("crossorigin"))};a.complete&&0!==a.naturalWidth?e():a.addEventListener("load",e)}if(("audio"===z||"video"===z)&&(A.rr_mediaState=a.paused?"paused":"played",A.rr_mediaCurrentTime=a.currentTime),!r&&(a.scrollLeft&&(A.rr_scrollLeft=a.scrollLeft),a.scrollTop&&(A.rr_scrollTop=a.scrollTop)),y){let{width:b,height:c}=a.getBoundingClientRect();A={class:A.class,rr_width:`${b}px`,rr_height:`${c}px`}}"iframe"!==z||q(A.src)||(y||fs(a)||(A.rr_src=A.src),delete A.src);try{customElements.get(z)&&(c=!0)}catch(a){}return{type:fa.Element,tagName:z,attributes:A,childNodes:[],isSVG:!!("svg"===a.tagName||a.ownerSVGElement)||void 0,needBlock:y,rootId:s,isCustom:c}}(a,{doc:c,blockClass:e,blockSelector:f,unblockSelector:g,inlineStylesheet:p,maskAttributeFn:i,maskInputOptions:q,maskInputFn:s,dataURLOptions:t,inlineImages:u,recordCanvas:v,keepIframeSrcFn:w,newlyAddedElement:x,rootId:z,maskTextClass:j,unmaskTextClass:m,maskTextSelector:n,unmaskTextSelector:o,ignoreCSSAttributes:y});case a.TEXT_NODE:return function(a,b){let{maskAllText:c,maskTextClass:d,unmaskTextClass:e,maskTextSelector:f,unmaskTextSelector:g,maskTextFn:h,maskInputOptions:i,maskInputFn:j,rootId:k}=b,l=a.parentNode&&a.parentNode.tagName,m=a.textContent,n="STYLE"===l||void 0,o="SCRIPT"===l||void 0,p="TEXTAREA"===l||void 0;if(n&&m){try{a.nextSibling||a.previousSibling||a.parentNode.sheet?.cssRules&&(m=fd(a.parentNode.sheet))}catch(b){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${b}`,a)}m=fA(m,fF(b.doc))}o&&(m="SCRIPT_PLACEHOLDER");let q=fK(a,d,f,e,g,c);return n||o||p||!m||!q||(m=h?h(m,a.parentElement):m.replace(/[\S]/g,"*")),p&&m&&(i.textarea||q)&&(m=j?j(m,a.parentNode):m.replace(/[\S]/g,"*")),"OPTION"===l&&m&&(m=fh({isMasked:fK(a,d,f,e,g,fg({type:null,tagName:l,maskInputOptions:i})),element:a,value:m,maskInputFn:j})),{type:fa.Text,textContent:m||"",isStyle:n,rootId:k}}(a,{doc:c,maskAllText:h,maskTextClass:j,unmaskTextClass:m,maskTextSelector:n,unmaskTextSelector:o,maskTextFn:r,maskInputOptions:q,maskInputFn:s,rootId:z});case a.CDATA_SECTION_NODE:return{type:fa.CDATA,textContent:"",rootId:z};case a.COMMENT_NODE:return{type:fa.Comment,textContent:a.textContent||"",rootId:z};default:return!1}}(a,{doc:d,mirror:e,blockClass:f,blockSelector:g,maskAllText:i,unblockSelector:h,maskTextClass:j,unmaskTextClass:m,maskTextSelector:n,unmaskTextSelector:o,inlineStylesheet:q,maskInputOptions:r,maskAttributeFn:s,maskTextFn:t,maskInputFn:u,dataURLOptions:w,inlineImages:x,recordCanvas:y,keepIframeSrcFn:F,newlyAddedElement:G,ignoreCSSAttributes:H});if(!J)return console.warn(a,"not serialized"),null;c=e.hasNode(a)?e.getId(a):!function(a,b){if(b.comment&&a.type===fa.Comment)return!0;if(a.type===fa.Element){if(b.script&&("script"===a.tagName||"link"===a.tagName&&("preload"===a.attributes.rel||"modulepreload"===a.attributes.rel)||"link"===a.tagName&&"prefetch"===a.attributes.rel&&"string"==typeof a.attributes.href&&"js"===fn(a.attributes.href)))return!0;else if(b.headFavicon&&("link"===a.tagName&&"shortcut icon"===a.attributes.rel||"meta"===a.tagName&&(fL(a.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===fL(a.attributes.name)||"icon"===fL(a.attributes.rel)||"apple-touch-icon"===fL(a.attributes.rel)||"shortcut icon"===fL(a.attributes.rel))))return!0;else if("meta"===a.tagName){if(b.headMetaDescKeywords&&fL(a.attributes.name).match(/^description|keywords$/))return!0;else if(b.headMetaSocial&&(fL(a.attributes.property).match(/^(og|twitter|fb):/)||fL(a.attributes.name).match(/^(og|twitter):/)||"pinterest"===fL(a.attributes.name)))return!0;else if(b.headMetaRobots&&("robots"===fL(a.attributes.name)||"googlebot"===fL(a.attributes.name)||"bingbot"===fL(a.attributes.name)))return!0;else if(b.headMetaHttpEquiv&&void 0!==a.attributes["http-equiv"])return!0;else if(b.headMetaAuthorship&&("author"===fL(a.attributes.name)||"generator"===fL(a.attributes.name)||"framework"===fL(a.attributes.name)||"publisher"===fL(a.attributes.name)||"progid"===fL(a.attributes.name)||fL(a.attributes.property).match(/^article:/)||fL(a.attributes.property).match(/^product:/)))return!0;else if(b.headMetaVerification&&("google-site-verification"===fL(a.attributes.name)||"yandex-verification"===fL(a.attributes.name)||"csrf-token"===fL(a.attributes.name)||"p:domain_verify"===fL(a.attributes.name)||"verify-v1"===fL(a.attributes.name)||"verification"===fL(a.attributes.name)||"shopify-checkout-api-token"===fL(a.attributes.name)))return!0}}return!1}(J,v)&&(I||J.type!==fa.Text||J.isStyle||J.textContent.replace(/^\s+|\s+$/gm,"").length)?fv():-2;let K=Object.assign(J,{id:c});if(e.add(a,K),-2===c)return null;z&&z(a);let L=!p;if(K.type===fa.Element){L=L&&!K.needBlock;let b=a.shadowRoot;b&&fc(b)&&(K.isShadowHost=!0)}if((K.type===fa.Document||K.type===fa.Element)&&L){v.headWhitespace&&K.type===fa.Element&&"head"===K.tagName&&(I=!1);let b={doc:d,mirror:e,blockClass:f,blockSelector:g,maskAllText:i,unblockSelector:h,maskTextClass:j,unmaskTextClass:m,maskTextSelector:n,unmaskTextSelector:o,skipChild:p,inlineStylesheet:q,maskInputOptions:r,maskAttributeFn:s,maskTextFn:t,maskInputFn:u,slimDOMOptions:v,dataURLOptions:w,inlineImages:x,recordCanvas:y,preserveWhiteSpace:I,onSerialize:z,onIframeLoad:A,iframeLoadTimeout:B,onBlockedImageLoad:C,onStylesheetLoad:D,stylesheetLoadTimeout:E,keepIframeSrcFn:F,ignoreCSSAttributes:H};for(let c of a.childNodes?Array.from(a.childNodes):[]){let a=fM(c,b);a&&K.childNodes.push(a)}if(a.nodeType===a.ELEMENT_NODE&&a.shadowRoot)for(let c of Array.from(a.shadowRoot.childNodes)){let d=fM(c,b);d&&(fc(a.shadowRoot)&&(d.isShadow=!0),K.childNodes.push(d))}}if(a.parentNode&&fb(a.parentNode)&&fc(a.parentNode)&&(K.isShadow=!0),K.type!==fa.Element||"iframe"!==K.tagName||K.needBlock||function(a,b,c){let d,e=a.contentWindow;if(!e)return;let f=!1;try{d=e.document.readyState}catch(a){return}if("complete"!==d){let d=fq(()=>{f||(b(),f=!0)},c);a.addEventListener("load",()=>{fr(d),f=!0,b()});return}let g="about:blank";if(e.location.href!==g||a.src===g||""===a.src)return fq(b,0),a.addEventListener("load",b);a.addEventListener("load",b)}(a,()=>{let b=fs(a);if(b&&A){let c=fM(b,{doc:b,mirror:e,blockClass:f,blockSelector:g,unblockSelector:h,maskAllText:i,maskTextClass:j,unmaskTextClass:m,maskTextSelector:n,unmaskTextSelector:o,skipChild:!1,inlineStylesheet:q,maskInputOptions:r,maskAttributeFn:s,maskTextFn:t,maskInputFn:u,slimDOMOptions:v,dataURLOptions:w,inlineImages:x,recordCanvas:y,preserveWhiteSpace:I,onSerialize:z,onIframeLoad:A,iframeLoadTimeout:B,onStylesheetLoad:D,stylesheetLoadTimeout:E,keepIframeSrcFn:F,ignoreCSSAttributes:H});c&&A(a,c)}},B),K.type===fa.Element&&"img"===K.tagName&&!a.complete&&K.needBlock){let b=()=>{if(a.isConnected&&!a.complete&&C)try{let b=a.getBoundingClientRect();b.width>0&&b.height>0&&C(a,K,b)}catch(a){}a.removeEventListener("load",b)};a.isConnected&&a.addEventListener("load",b)}return K.type===fa.Element&&"link"===K.tagName&&"string"==typeof K.attributes.rel&&("stylesheet"===K.attributes.rel||"preload"===K.attributes.rel&&"string"==typeof K.attributes.href&&"css"===fn(K.attributes.href))&&function(a,b,c){let d,e=!1;try{d=a.sheet}catch(a){return}if(d)return;let f=fq(()=>{e||(b(),e=!0)},c);a.addEventListener("load",()=>{fr(f),e=!0,b()})}(a,()=>{if(D){let b=fM(a,{doc:d,mirror:e,blockClass:f,blockSelector:g,unblockSelector:h,maskAllText:i,maskTextClass:j,unmaskTextClass:m,maskTextSelector:n,unmaskTextSelector:o,skipChild:!1,inlineStylesheet:q,maskInputOptions:r,maskAttributeFn:s,maskTextFn:t,maskInputFn:u,slimDOMOptions:v,dataURLOptions:w,inlineImages:x,recordCanvas:y,preserveWhiteSpace:I,onSerialize:z,onIframeLoad:A,iframeLoadTimeout:B,onStylesheetLoad:D,stylesheetLoadTimeout:E,keepIframeSrcFn:F,ignoreCSSAttributes:H});b&&D(a,b)}},E),K.type===fa.Element&&delete K.needBlock,K}function fN(a,b,c=document){let d={capture:!0,passive:!0};return c.addEventListener(a,b,d),()=>c.removeEventListener(a,b,d)}function fO(a,b,c={}){let d=null,e=0;return function(...f){let g=Date.now();e||!1!==c.leading||(e=g);let h=b-(g-e),i=this;h<=0||h>b?(d&&(function(...a){f3("clearTimeout")(...a)}(d),d=null),e=g,a.apply(i,f)):d||!1===c.trailing||(d=f4(()=>{e=!1===c.leading?0:Date.now(),d=null,a.apply(i,f)},h))}}function fP(a,b,c){try{if(!(b in a))return()=>{};let d=a[b],e=c(d);return"function"==typeof e&&(e.prototype=e.prototype||{},Object.defineProperties(e,{__rrweb_original__:{enumerable:!1,value:d}})),a[b]=e,()=>{a[b]=d}}catch{return()=>{}}}let fQ=Date.now;function fR(a){let b=a.document;return{left:b.scrollingElement?b.scrollingElement.scrollLeft:void 0!==a.pageXOffset?a.pageXOffset:b?.documentElement.scrollLeft||b?.body?.parentElement?.scrollLeft||b?.body?.scrollLeft||0,top:b.scrollingElement?b.scrollingElement.scrollTop:void 0!==a.pageYOffset?a.pageYOffset:b?.documentElement.scrollTop||b?.body?.parentElement?.scrollTop||b?.body?.scrollTop||0}}function fS(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function fT(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function fU(a){if(!a)return null;try{return a.nodeType===a.ELEMENT_NODE?a:a.parentElement}catch(a){return null}}function fV(a,b,c,d,e){if(!a)return!1;let f=fU(a);if(!f)return!1;let g=fJ(b,c);if(!e){let a=d&&f.matches(d);return g(f)&&!a}let h=fI(f,g),i=-1;return!(h<0)&&(d&&(i=fI(f,fJ(null,d))),h>-1&&i<0||h<i)}function fW(a,b){return -2===b.getId(a)}function fX(a){return!!a.changedTouches}function fY(a,b){return!!("IFRAME"===a.nodeName&&b.getMeta(a))}function fZ(a,b){return!!("LINK"===a.nodeName&&a.nodeType===a.ELEMENT_NODE&&a.getAttribute&&"stylesheet"===a.getAttribute("rel")&&b.getMeta(a))}function f$(a){return!!a?.shadowRoot}/[1-9][0-9]{12}/.test(Date.now().toString())||(fQ=()=>new Date().getTime());class f_{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(a){return this.styleIDMap.get(a)??-1}has(a){return this.styleIDMap.has(a)}add(a,b){let c;return this.has(a)?this.getId(a):(c=void 0===b?this.id++:b,this.styleIDMap.set(a,c),this.idStyleMap.set(c,a),c)}getStyle(a){return this.idStyleMap.get(a)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function f0(a){let b=null;return a.getRootNode?.()?.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&a.getRootNode().host&&(b=a.getRootNode().host),b}function f1(a){let b=a.ownerDocument;return!!b&&(b.contains(a)||function(a){let b=a.ownerDocument;if(!b)return!1;let c=function(a){let b,c=a;for(;b=f0(c);)c=b;return c}(a);return b.contains(c)}(a))}let f2={};function f3(a){let b=f2[a];if(b)return b;let c=window.document,d=window[a];if(c&&"function"==typeof c.createElement)try{let b=c.createElement("iframe");b.hidden=!0,c.head.appendChild(b);let e=b.contentWindow;e&&e[a]&&(d=e[a]),c.head.removeChild(b)}catch(a){}return f2[a]=d.bind(window)}function f4(...a){return f3("setTimeout")(...a)}var f5=((x=f5||{})[x.DomContentLoaded=0]="DomContentLoaded",x[x.Load=1]="Load",x[x.FullSnapshot=2]="FullSnapshot",x[x.IncrementalSnapshot=3]="IncrementalSnapshot",x[x.Meta=4]="Meta",x[x.Custom=5]="Custom",x[x.Plugin=6]="Plugin",x),f6=((y=f6||{})[y.Mutation=0]="Mutation",y[y.MouseMove=1]="MouseMove",y[y.MouseInteraction=2]="MouseInteraction",y[y.Scroll=3]="Scroll",y[y.ViewportResize=4]="ViewportResize",y[y.Input=5]="Input",y[y.TouchMove=6]="TouchMove",y[y.MediaInteraction=7]="MediaInteraction",y[y.StyleSheetRule=8]="StyleSheetRule",y[y.CanvasMutation=9]="CanvasMutation",y[y.Font=10]="Font",y[y.Log=11]="Log",y[y.Drag=12]="Drag",y[y.StyleDeclaration=13]="StyleDeclaration",y[y.Selection=14]="Selection",y[y.AdoptedStyleSheet=15]="AdoptedStyleSheet",y[y.CustomElement=16]="CustomElement",y),f7=((z=f7||{})[z.MouseUp=0]="MouseUp",z[z.MouseDown=1]="MouseDown",z[z.Click=2]="Click",z[z.ContextMenu=3]="ContextMenu",z[z.DblClick=4]="DblClick",z[z.Focus=5]="Focus",z[z.Blur=6]="Blur",z[z.TouchStart=7]="TouchStart",z[z.TouchMove_Departed=8]="TouchMove_Departed",z[z.TouchEnd=9]="TouchEnd",z[z.TouchCancel=10]="TouchCancel",z),f8=((A=f8||{})[A.Mouse=0]="Mouse",A[A.Pen=1]="Pen",A[A.Touch=2]="Touch",A),f9=((B=f9||{})[B.Play=0]="Play",B[B.Pause=1]="Pause",B[B.Seeked=2]="Seeked",B[B.VolumeChange=3]="VolumeChange",B[B.RateChange=4]="RateChange",B);function ga(a){try{return a.contentDocument}catch(a){}}class gb{constructor(){this.length=0,this.head=null,this.tail=null}get(a){if(a>=this.length)throw Error("Position outside of list range");let b=this.head;for(let c=0;c<a;c++)b=b?.next||null;return b}addNode(a){let b={value:a,previous:null,next:null};if(a.__ln=b,a.previousSibling&&"__ln"in a.previousSibling){let c=a.previousSibling.__ln.next;b.next=c,b.previous=a.previousSibling.__ln,a.previousSibling.__ln.next=b,c&&(c.previous=b)}else if(a.nextSibling&&"__ln"in a.nextSibling&&a.nextSibling.__ln.previous){let c=a.nextSibling.__ln.previous;b.previous=c,b.next=a.nextSibling.__ln,a.nextSibling.__ln.previous=b,c&&(c.next=b)}else this.head&&(this.head.previous=b),b.next=this.head,this.head=b;null===b.next&&(this.tail=b),this.length++}removeNode(a){let b=a.__ln;this.head&&(b.previous?(b.previous.next=b.next,b.next?b.next.previous=b.previous:this.tail=b.previous):(this.head=b.next,this.head?this.head.previous=null:this.tail=null),a.__ln&&delete a.__ln,this.length--)}}let gc=(a,b)=>`${a}@${b}`;class gd{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=a=>{a.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;let a=[],b=new Set,c=new gb,d=a=>{let b=a,c=-2;for(;-2===c;)c=(b=b&&b.nextSibling)&&this.mirror.getId(b);return c},e=e=>{if(!e.parentNode||!f1(e))return;let f=fb(e.parentNode)?this.mirror.getId(f0(e)):this.mirror.getId(e.parentNode),g=d(e);if(-1===f||-1===g)return c.addNode(e);let h=fM(e,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:a=>{fY(a,this.mirror)&&!fV(a,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(a),fZ(a,this.mirror)&&this.stylesheetManager.trackLinkElement(a),f$(e)&&this.shadowDomManager.addShadowRoot(e.shadowRoot,this.doc)},onIframeLoad:(a,b)=>{fV(a,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(a,b),a.contentWindow&&this.canvasManager.addWindow(a.contentWindow),this.shadowDomManager.observeAttachShadow(a))},onStylesheetLoad:(a,b)=>{this.stylesheetManager.attachLinkElement(a,b)},onBlockedImageLoad:(a,b,{width:c,height:d})=>{this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:b.id,attributes:{style:{width:`${c}px`,height:`${d}px`}}}]})},ignoreCSSAttributes:this.ignoreCSSAttributes});h&&(a.push({parentId:f,nextId:g,node:h}),b.add(h.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(let a of this.movedSet)(!gf(this.removes,a,this.mirror)||this.movedSet.has(a.parentNode))&&e(a);for(let a of this.addedSet)gg(this.droppedSet,a)||gf(this.removes,a,this.mirror)?gg(this.movedSet,a)?e(a):this.droppedSet.add(a):e(a);let f=null;for(;c.length;){let a=null;if(f){let b=this.mirror.getId(f.value.parentNode),c=d(f.value);-1!==b&&-1!==c&&(a=f)}if(!a){let b=c.tail;for(;b;){let c=b;if(b=b.previous,c){let b=this.mirror.getId(c.value.parentNode);if(-1===d(c.value))continue;if(-1!==b){a=c;break}{let b=c.value;if(b.parentNode&&b.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let d=b.parentNode.host;if(-1!==this.mirror.getId(d)){a=c;break}}}}}}if(!a){for(;c.head;)c.removeNode(c.head.value);break}f=a.previous,c.removeNode(a.value),e(a.value)}let g={texts:this.texts.map(a=>({id:this.mirror.getId(a.node),value:a.value})).filter(a=>!b.has(a.id)).filter(a=>this.mirror.has(a.id)),attributes:this.attributes.map(a=>{let{attributes:b}=a;if("string"==typeof b.style){let c=JSON.stringify(a.styleDiff),d=JSON.stringify(a._unchangedStyles);c.length<b.style.length&&(c+d).split("var(").length===b.style.split("var(").length&&(b.style=a.styleDiff)}return{id:this.mirror.getId(a.node),attributes:b}}).filter(a=>!b.has(a.id)).filter(a=>this.mirror.has(a.id)),removes:this.removes,adds:a};(g.texts.length||g.attributes.length||g.removes.length||g.adds.length)&&(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(g))},this.processMutation=a=>{if(!fW(a.target,this.mirror))switch(a.type){case"characterData":{let b=a.target.textContent;fV(a.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||b===a.oldValue||this.texts.push({value:fK(a.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&b?this.maskTextFn?this.maskTextFn(b,fU(a.target)):b.replace(/[\S]/g,"*"):b,node:a.target});break}case"attributes":{let b=a.target,c=a.attributeName,d=a.target.getAttribute(c);if("value"===c){let c=fl(b),e=b.tagName;d=fm(b,e,c);let f=fg({maskInputOptions:this.maskInputOptions,tagName:e,type:c});d=fh({isMasked:fK(a.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,f),element:b,value:d,maskInputFn:this.maskInputFn})}if(fV(a.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||d===a.oldValue)return;let e=this.attributeMap.get(a.target);if("IFRAME"===b.tagName&&"src"===c&&!this.keepIframeSrcFn(d)){if(ga(b))return;c="rr_src"}if(e||(e={node:a.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(e),this.attributeMap.set(a.target,e)),"type"===c&&"INPUT"===b.tagName&&"password"===(a.oldValue||"").toLowerCase()&&b.setAttribute("data-rr-is-password","true"),!fH(b.tagName,c)&&(e.attributes[c]=fG(this.doc,fi(b.tagName),fi(c),d,b,this.maskAttributeFn),"style"===c)){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(a){this.unattachedDoc=this.doc}let c=this.unattachedDoc.createElement("span");for(let d of(a.oldValue&&c.setAttribute("style",a.oldValue),Array.from(b.style))){let a=b.style.getPropertyValue(d),f=b.style.getPropertyPriority(d);a!==c.style.getPropertyValue(d)||f!==c.style.getPropertyPriority(d)?""===f?e.styleDiff[d]=a:e.styleDiff[d]=[a,f]:e._unchangedStyles[d]=[a,f]}for(let a of Array.from(c.style))""===b.style.getPropertyValue(a)&&(e.styleDiff[a]=!1)}break}case"childList":if(fV(a.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;a.addedNodes.forEach(b=>this.genAdds(b,a.target)),a.removedNodes.forEach(b=>{let c=this.mirror.getId(b),d=fb(a.target)?this.mirror.getId(a.target.host):this.mirror.getId(a.target);fV(a.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||fW(b,this.mirror)||-1===this.mirror.getId(b)||(this.addedSet.has(b)?(ge(this.addedSet,b),this.droppedSet.add(b)):this.addedSet.has(a.target)&&-1===c||function a(b,c){if(fb(b))return!1;let d=c.getId(b);return!c.has(d)||(!b.parentNode||b.parentNode.nodeType!==b.DOCUMENT_NODE)&&(!b.parentNode||a(b.parentNode,c))}(a.target,this.mirror)||(this.movedSet.has(b)&&this.movedMap[gc(c,d)]?ge(this.movedSet,b):this.removes.push({parentId:d,id:c,isShadow:!!(fb(a.target)&&fc(a.target))||void 0})),this.mapRemoves.push(b))})}},this.genAdds=(a,b)=>{if(!this.processedNodeManager.inOtherBuffer(a,this)&&!(this.addedSet.has(a)||this.movedSet.has(a))){if(this.mirror.hasNode(a)){if(fW(a,this.mirror))return;this.movedSet.add(a);let c=null;b&&this.mirror.hasNode(b)&&(c=this.mirror.getId(b)),c&&-1!==c&&(this.movedMap[gc(this.mirror.getId(a),c)]=!0)}else this.addedSet.add(a),this.droppedSet.delete(a);!fV(a,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&(a.childNodes&&a.childNodes.forEach(a=>this.genAdds(a)),f$(a)&&a.shadowRoot.childNodes.forEach(b=>{this.processedNodeManager.add(b,this),this.genAdds(b,a)}))}}}init(a){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager","ignoreCSSAttributes"].forEach(b=>{this[b]=a[b]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function ge(a,b){a.delete(b),b.childNodes?.forEach(b=>ge(a,b))}function gf(a,b,c){return 0!==a.length&&function(a,b,c){let d=b.parentNode;for(;d;){let b=c.getId(d);if(a.some(a=>a.id===b))return!0;d=d.parentNode}return!1}(a,b,c)}function gg(a,b){return 0!==a.size&&function a(b,c){let{parentNode:d}=c;return!!d&&(!!b.has(d)||a(b,d))}(a,b)}let gh=a=>m?(...b)=>{try{return a(...b)}catch(a){if(m&&!0===m(a))return()=>{};throw a}}:a,gi=[];function gj(a){try{if("composedPath"in a){let b=a.composedPath();if(b.length)return b[0]}else if("path"in a&&a.path.length)return a.path[0]}catch{}return a&&a.target}function gk(a,b){let c=new gd;gi.push(c),c.init(a);let d=window.MutationObserver||window.__rrMutationObserver,e=window?.Zone?.__symbol__?.("MutationObserver");e&&window[e]&&(d=window[e]);let f=new d(gh(b=>{a.onMutation&&!1===a.onMutation(b)||c.processMutations.bind(c)(b)}));return f.observe(b,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),f}function gl({scrollCb:a,doc:b,mirror:c,blockClass:d,blockSelector:e,unblockSelector:f,sampling:g}){return fN("scroll",gh(fO(gh(g=>{let h=gj(g);if(!h||fV(h,d,e,f,!0))return;let i=c.getId(h);if(h===b&&b.defaultView){let c=fR(b.defaultView);a({id:i,x:c.left,y:c.top})}else a({id:i,x:h.scrollLeft,y:h.scrollTop})}),g.scroll||100)),b)}let gm=["INPUT","TEXTAREA","SELECT"],gn=new WeakMap;function go(a){var b=[];if(gs("CSSGroupingRule")&&a.parentRule instanceof CSSGroupingRule||gs("CSSMediaRule")&&a.parentRule instanceof CSSMediaRule||gs("CSSSupportsRule")&&a.parentRule instanceof CSSSupportsRule||gs("CSSConditionRule")&&a.parentRule instanceof CSSConditionRule){let c=Array.from(a.parentRule.cssRules).indexOf(a);b.unshift(c)}else if(a.parentStyleSheet){let c=Array.from(a.parentStyleSheet.cssRules).indexOf(a);b.unshift(c)}return b}function gp(a,b,c){let d,e;return a?(a.ownerNode?d=b.getId(a.ownerNode):e=c.getId(a),{styleId:e,id:d}):{}}function gq({mirror:a,stylesheetManager:b},c){let d=null;d="#document"===c.nodeName?a.getId(c):a.getId(c.host);let e="#document"===c.nodeName?c.defaultView?.Document:c.ownerDocument?.defaultView?.ShadowRoot,f=e?.prototype?Object.getOwnPropertyDescriptor(e?.prototype,"adoptedStyleSheets"):void 0;return null!==d&&-1!==d&&e&&f?(Object.defineProperty(c,"adoptedStyleSheets",{configurable:f.configurable,enumerable:f.enumerable,get(){return f.get?.call(this)},set(a){let c=f.set?.call(this,a);if(null!==d&&-1!==d)try{b.adoptStyleSheets(a,d)}catch(a){}return c}}),gh(()=>{Object.defineProperty(c,"adoptedStyleSheets",{configurable:f.configurable,enumerable:f.enumerable,get:f.get,set:f.set})})):()=>{}}function gr(a,b={}){let c,d=a.doc.defaultView;if(!d)return()=>{};a.recordDOM&&(c=gk(a,a.doc));let e=function({mousemoveCb:a,sampling:b,doc:c,mirror:d}){let e;if(!1===b.mousemove)return()=>{};let f="number"==typeof b.mousemove?b.mousemove:50,g="number"==typeof b.mousemoveCallback?b.mousemoveCallback:500,h=[],i=fO(gh(b=>{let c=Date.now()-e;a(h.map(a=>(a.timeOffset-=c,a)),b),h=[],e=null}),g),j=gh(fO(gh(a=>{let b=gj(a),{clientX:c,clientY:f}=fX(a)?a.changedTouches[0]:a;e||(e=fQ()),h.push({x:c,y:f,id:d.getId(b),timeOffset:fQ()-e}),i("undefined"!=typeof DragEvent&&a instanceof DragEvent?f6.Drag:a instanceof MouseEvent?f6.MouseMove:f6.TouchMove)}),f,{trailing:!1})),k=[fN("mousemove",j,c),fN("touchmove",j,c),fN("drag",j,c)];return gh(()=>{k.forEach(a=>a())})}(a),f=function({mouseInteractionCb:a,doc:b,mirror:c,blockClass:d,blockSelector:e,unblockSelector:f,sampling:g}){if(!1===g.mouseInteraction)return()=>{};let h=!0===g.mouseInteraction||void 0===g.mouseInteraction?{}:g.mouseInteraction,i=[],j=null;return Object.keys(f7).filter(a=>Number.isNaN(Number(a))&&!a.endsWith("_Departed")&&!1!==h[a]).forEach(g=>{let h=fi(g),k=b=>{let h=gj(b);if(fV(h,d,e,f,!0))return;let i=null,k=g;if("pointerType"in b){switch(b.pointerType){case"mouse":i=f8.Mouse;break;case"touch":i=f8.Touch;break;case"pen":i=f8.Pen}i===f8.Touch?f7[g]===f7.MouseDown?k="TouchStart":f7[g]===f7.MouseUp&&(k="TouchEnd"):f8.Pen}else fX(b)&&(i=f8.Touch);null!==i?(j=i,(k.startsWith("Touch")&&i===f8.Touch||k.startsWith("Mouse")&&i===f8.Mouse)&&(i=null)):f7[g]===f7.Click&&(i=j,j=null);let l=fX(b)?b.changedTouches[0]:b;if(!l)return;let m=c.getId(h),{clientX:n,clientY:o}=l;gh(a)({type:f7[k],id:m,x:n,y:o,...null!==i&&{pointerType:i}})};if(window.PointerEvent)switch(f7[g]){case f7.MouseDown:case f7.MouseUp:h=h.replace("mouse","pointer");break;case f7.TouchStart:case f7.TouchEnd:return}i.push(fN(h,k,b))}),gh(()=>{i.forEach(a=>a())})}(a),g=gl(a),h=function({viewportResizeCb:a},{win:b}){let c=-1,d=-1;return fN("resize",gh(fO(gh(()=>{let b=fS(),e=fT();(c!==b||d!==e)&&(a({width:Number(e),height:Number(b)}),c=b,d=e)}),200)),b)}(a,{win:d}),i=function({inputCb:a,doc:b,mirror:c,blockClass:d,blockSelector:e,unblockSelector:f,ignoreClass:g,ignoreSelector:h,maskInputOptions:i,maskInputFn:j,sampling:k,userTriggeredOnInput:l,maskTextClass:m,unmaskTextClass:n,maskTextSelector:o,unmaskTextSelector:p}){function q(a){let c=gj(a),k=a.isTrusted,q=c&&fj(c.tagName);if("OPTION"===q&&(c=c.parentElement),!c||!q||0>gm.indexOf(q)||fV(c,d,e,f,!0))return;let s=c;if(s.classList.contains(g)||h&&s.matches(h))return;let t=fl(c),u=fm(s,q,t),v=!1,w=fg({maskInputOptions:i,tagName:q,type:t}),x=fK(c,m,o,n,p,w);("radio"===t||"checkbox"===t)&&(v=c.checked),u=fh({isMasked:x,element:c,value:u,maskInputFn:j}),r(c,l?{text:u,isChecked:v,userTriggered:k}:{text:u,isChecked:v});let y=c.name;"radio"===t&&y&&v&&b.querySelectorAll(`input[type="radio"][name="${y}"]`).forEach(a=>{if(a!==c){let b=fh({isMasked:x,element:a,value:fm(a,q,t),maskInputFn:j});r(a,l?{text:b,isChecked:!v,userTriggered:!1}:{text:b,isChecked:!v})}})}function r(b,d){let e=gn.get(b);if(!e||e.text!==d.text||e.isChecked!==d.isChecked){gn.set(b,d);let e=c.getId(b);gh(a)({...d,id:e})}}let s=("last"===k.input?["change"]:["input","change"]).map(a=>fN(a,gh(q),b)),t=b.defaultView;if(!t)return()=>{s.forEach(a=>a())};let u=t.Object.getOwnPropertyDescriptor(t.HTMLInputElement.prototype,"value"),v=[[t.HTMLInputElement.prototype,"value"],[t.HTMLInputElement.prototype,"checked"],[t.HTMLSelectElement.prototype,"value"],[t.HTMLTextAreaElement.prototype,"value"],[t.HTMLSelectElement.prototype,"selectedIndex"],[t.HTMLOptionElement.prototype,"selected"]];return u&&u.set&&s.push(...v.map(a=>(function a(b,c,d,e,f=window){let g=f.Object.getOwnPropertyDescriptor(b,c);return f.Object.defineProperty(b,c,e?d:{set(a){f4(()=>{d.set.call(this,a)},0),g&&g.set&&g.set.call(this,a)}}),()=>a(b,c,g||{},!0)})(a[0],a[1],{set(){gh(q)({target:this,isTrusted:!1})}},!1,t))),gh(()=>{s.forEach(a=>a())})}(a),j=function({mediaInteractionCb:a,blockClass:b,blockSelector:c,unblockSelector:d,mirror:e,sampling:f,doc:g}){let h=gh(g=>fO(gh(f=>{let h=gj(f);if(!h||fV(h,b,c,d,!0))return;let{currentTime:i,volume:j,muted:k,playbackRate:l}=h;a({type:g,id:e.getId(h),currentTime:i,volume:j,muted:k,playbackRate:l})}),f.media||500)),i=[fN("play",h(f9.Play),g),fN("pause",h(f9.Pause),g),fN("seeked",h(f9.Seeked),g),fN("volumechange",h(f9.VolumeChange),g),fN("ratechange",h(f9.RateChange),g)];return gh(()=>{i.forEach(a=>a())})}(a),k=()=>{},l=()=>{},m=()=>{},n=()=>{};a.recordDOM&&(k=function({styleSheetRuleCb:a,mirror:b,stylesheetManager:c},{win:d}){let e,f;if(!d.CSSStyleSheet||!d.CSSStyleSheet.prototype)return()=>{};let g=d.CSSStyleSheet.prototype.insertRule;d.CSSStyleSheet.prototype.insertRule=new Proxy(g,{apply:gh((d,e,f)=>{let[g,h]=f,{id:i,styleId:j}=gp(e,b,c.styleMirror);return(i&&-1!==i||j&&-1!==j)&&a({id:i,styleId:j,adds:[{rule:g,index:h}]}),d.apply(e,f)})});let h=d.CSSStyleSheet.prototype.deleteRule;d.CSSStyleSheet.prototype.deleteRule=new Proxy(h,{apply:gh((d,e,f)=>{let[g]=f,{id:h,styleId:i}=gp(e,b,c.styleMirror);return(h&&-1!==h||i&&-1!==i)&&a({id:h,styleId:i,removes:[{index:g}]}),d.apply(e,f)})}),d.CSSStyleSheet.prototype.replace&&(e=d.CSSStyleSheet.prototype.replace,d.CSSStyleSheet.prototype.replace=new Proxy(e,{apply:gh((d,e,f)=>{let[g]=f,{id:h,styleId:i}=gp(e,b,c.styleMirror);return(h&&-1!==h||i&&-1!==i)&&a({id:h,styleId:i,replace:g}),d.apply(e,f)})})),d.CSSStyleSheet.prototype.replaceSync&&(f=d.CSSStyleSheet.prototype.replaceSync,d.CSSStyleSheet.prototype.replaceSync=new Proxy(f,{apply:gh((d,e,f)=>{let[g]=f,{id:h,styleId:i}=gp(e,b,c.styleMirror);return(h&&-1!==h||i&&-1!==i)&&a({id:h,styleId:i,replaceSync:g}),d.apply(e,f)})}));let i={};gt("CSSGroupingRule")?i.CSSGroupingRule=d.CSSGroupingRule:(gt("CSSMediaRule")&&(i.CSSMediaRule=d.CSSMediaRule),gt("CSSConditionRule")&&(i.CSSConditionRule=d.CSSConditionRule),gt("CSSSupportsRule")&&(i.CSSSupportsRule=d.CSSSupportsRule));let j={};return Object.entries(i).forEach(([d,e])=>{j[d]={insertRule:e.prototype.insertRule,deleteRule:e.prototype.deleteRule},e.prototype.insertRule=new Proxy(j[d].insertRule,{apply:gh((d,e,f)=>{let[g,h]=f,{id:i,styleId:j}=gp(e.parentStyleSheet,b,c.styleMirror);return(i&&-1!==i||j&&-1!==j)&&a({id:i,styleId:j,adds:[{rule:g,index:[...go(e),h||0]}]}),d.apply(e,f)})}),e.prototype.deleteRule=new Proxy(j[d].deleteRule,{apply:gh((d,e,f)=>{let[g]=f,{id:h,styleId:i}=gp(e.parentStyleSheet,b,c.styleMirror);return(h&&-1!==h||i&&-1!==i)&&a({id:h,styleId:i,removes:[{index:[...go(e),g]}]}),d.apply(e,f)})})}),gh(()=>{d.CSSStyleSheet.prototype.insertRule=g,d.CSSStyleSheet.prototype.deleteRule=h,e&&(d.CSSStyleSheet.prototype.replace=e),f&&(d.CSSStyleSheet.prototype.replaceSync=f),Object.entries(i).forEach(([a,b])=>{b.prototype.insertRule=j[a].insertRule,b.prototype.deleteRule=j[a].deleteRule})})}(a,{win:d}),l=gq(a,a.doc),m=function({styleDeclarationCb:a,mirror:b,ignoreCSSAttributes:c,stylesheetManager:d},{win:e}){let f=e.CSSStyleDeclaration.prototype.setProperty;e.CSSStyleDeclaration.prototype.setProperty=new Proxy(f,{apply:gh((e,g,h)=>{let[i,j,k]=h;if(c.has(i))return f.apply(g,[i,j,k]);let{id:l,styleId:m}=gp(g.parentRule?.parentStyleSheet,b,d.styleMirror);return(l&&-1!==l||m&&-1!==m)&&a({id:l,styleId:m,set:{property:i,value:j,priority:k},index:go(g.parentRule)}),e.apply(g,h)})});let g=e.CSSStyleDeclaration.prototype.removeProperty;return e.CSSStyleDeclaration.prototype.removeProperty=new Proxy(g,{apply:gh((e,f,h)=>{let[i]=h;if(c.has(i))return g.apply(f,[i]);let{id:j,styleId:k}=gp(f.parentRule?.parentStyleSheet,b,d.styleMirror);return(j&&-1!==j||k&&-1!==k)&&a({id:j,styleId:k,remove:{property:i},index:go(f.parentRule)}),e.apply(f,h)})}),gh(()=>{e.CSSStyleDeclaration.prototype.setProperty=f,e.CSSStyleDeclaration.prototype.removeProperty=g})}(a,{win:d}),a.collectFonts&&(n=function({fontCb:a,doc:b}){let c=b.defaultView;if(!c)return()=>{};let d=[],e=new WeakMap,f=c.FontFace;c.FontFace=function(a,b,c){let d=new f(a,b,c);return e.set(d,{family:a,buffer:"string"!=typeof b,descriptors:c,fontSource:"string"==typeof b?b:JSON.stringify(Array.from(new Uint8Array(b)))}),d};let g=fP(b.fonts,"add",function(b){return function(c){return f4(gh(()=>{let b=e.get(c);b&&(a(b),e.delete(c))}),0),b.apply(this,[c])}});return d.push(()=>{c.FontFace=f}),d.push(g),gh(()=>{d.forEach(a=>a())})}(a)));let o=function(a){let{doc:b,mirror:c,blockClass:d,blockSelector:e,unblockSelector:f,selectionCb:g}=a,h=!0,i=gh(()=>{let a=b.getSelection();if(!a||h&&a?.isCollapsed)return;h=a.isCollapsed||!1;let i=[],j=a.rangeCount||0;for(let b=0;b<j;b++){let{startContainer:g,startOffset:h,endContainer:j,endOffset:k}=a.getRangeAt(b);fV(g,d,e,f,!0)||fV(j,d,e,f,!0)||i.push({start:c.getId(g),startOffset:h,end:c.getId(j),endOffset:k})}g({ranges:i})});return i(),fN("selectionchange",i)}(a),p=function({doc:a,customElementCb:b}){let c=a.defaultView;return c&&c.customElements?fP(c.customElements,"define",function(a){return function(c,d,e){try{b({define:{name:c}})}catch(a){}return a.apply(this,[c,d,e])}}):()=>{}}(a),q=[];for(let b of a.plugins)q.push(b.observer(b.callback,d,b.options));return gh(()=>{gi.forEach(a=>a.reset()),c?.disconnect(),e(),f(),g(),h(),i(),j(),k(),l(),m(),n(),o(),p(),q.forEach(a=>a())})}function gs(a){return void 0!==window[a]}function gt(a){return!!(void 0!==window[a]&&window[a].prototype&&"insertRule"in window[a].prototype&&"deleteRule"in window[a].prototype)}class gu{constructor(a){this.generateIdFn=a,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(a,b,c,d){let e=c||this.getIdToRemoteIdMap(a),f=d||this.getRemoteIdToIdMap(a),g=e.get(b);return g||(g=this.generateIdFn(),e.set(b,g),f.set(g,b)),g}getIds(a,b){let c=this.getIdToRemoteIdMap(a),d=this.getRemoteIdToIdMap(a);return b.map(b=>this.getId(a,b,c,d))}getRemoteId(a,b,c){let d=c||this.getRemoteIdToIdMap(a);if("number"!=typeof b)return b;let e=d.get(b);return e||-1}getRemoteIds(a,b){let c=this.getRemoteIdToIdMap(a);return b.map(b=>this.getRemoteId(a,b,c))}reset(a){if(!a){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(a),this.iframeRemoteIdToIdMap.delete(a)}getIdToRemoteIdMap(a){let b=this.iframeIdToRemoteIdMap.get(a);return b||(b=new Map,this.iframeIdToRemoteIdMap.set(a,b)),b}getRemoteIdToIdMap(a){let b=this.iframeRemoteIdToIdMap.get(a);return b||(b=new Map,this.iframeRemoteIdToIdMap.set(a,b)),b}}class gv{constructor(){this.crossOriginIframeMirror=new gu(fv),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class gw{constructor(a){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new gu(fv),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=a.mutationCb,this.wrappedEmit=a.wrappedEmit,this.stylesheetManager=a.stylesheetManager,this.recordCrossOriginIframes=a.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new gu(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=a.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(a){this.iframes.set(a,!0),a.contentWindow&&this.crossOriginIframeMap.set(a.contentWindow,a)}addLoadListener(a){this.loadListener=a}attachIframe(a,b){this.mutationCb({adds:[{parentId:this.mirror.getId(a),nextId:null,node:b}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&a.contentWindow?.addEventListener("message",this.handleMessage.bind(this)),this.loadListener?.(a);let c=ga(a);c&&c.adoptedStyleSheets&&c.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(c.adoptedStyleSheets,this.mirror.getId(c))}handleMessage(a){if("rrweb"!==a.data.type||a.origin!==a.data.origin||!a.source)return;let b=this.crossOriginIframeMap.get(a.source);if(!b)return;let c=this.transformCrossOriginEvent(b,a.data.event);c&&this.wrappedEmit(c,a.data.isCheckout)}transformCrossOriginEvent(a,b){switch(b.type){case f5.FullSnapshot:{this.crossOriginIframeMirror.reset(a),this.crossOriginIframeStyleMirror.reset(a),this.replaceIdOnNode(b.data.node,a);let c=b.data.node.id;return this.crossOriginIframeRootIdMap.set(a,c),this.patchRootIdOnNode(b.data.node,c),{timestamp:b.timestamp,type:f5.IncrementalSnapshot,data:{source:f6.Mutation,adds:[{parentId:this.mirror.getId(a),nextId:null,node:b.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case f5.Meta:case f5.Load:case f5.DomContentLoaded:break;case f5.Plugin:return b;case f5.Custom:return this.replaceIds(b.data.payload,a,["id","parentId","previousId","nextId"]),b;case f5.IncrementalSnapshot:switch(b.data.source){case f6.Mutation:return b.data.adds.forEach(b=>{this.replaceIds(b,a,["parentId","nextId","previousId"]),this.replaceIdOnNode(b.node,a);let c=this.crossOriginIframeRootIdMap.get(a);c&&this.patchRootIdOnNode(b.node,c)}),b.data.removes.forEach(b=>{this.replaceIds(b,a,["parentId","id"])}),b.data.attributes.forEach(b=>{this.replaceIds(b,a,["id"])}),b.data.texts.forEach(b=>{this.replaceIds(b,a,["id"])}),b;case f6.Drag:case f6.TouchMove:case f6.MouseMove:return b.data.positions.forEach(b=>{this.replaceIds(b,a,["id"])}),b;case f6.ViewportResize:return!1;case f6.MediaInteraction:case f6.MouseInteraction:case f6.Scroll:case f6.CanvasMutation:case f6.Input:return this.replaceIds(b.data,a,["id"]),b;case f6.StyleSheetRule:case f6.StyleDeclaration:return this.replaceIds(b.data,a,["id"]),this.replaceStyleIds(b.data,a,["styleId"]),b;case f6.Font:return b;case f6.Selection:return b.data.ranges.forEach(b=>{this.replaceIds(b,a,["start","end"])}),b;case f6.AdoptedStyleSheet:return this.replaceIds(b.data,a,["id"]),this.replaceStyleIds(b.data,a,["styleIds"]),b.data.styles?.forEach(b=>{this.replaceStyleIds(b,a,["styleId"])}),b}}return!1}replace(a,b,c,d){for(let e of d)(Array.isArray(b[e])||"number"==typeof b[e])&&(Array.isArray(b[e])?b[e]=a.getIds(c,b[e]):b[e]=a.getId(c,b[e]));return b}replaceIds(a,b,c){return this.replace(this.crossOriginIframeMirror,a,b,c)}replaceStyleIds(a,b,c){return this.replace(this.crossOriginIframeStyleMirror,a,b,c)}replaceIdOnNode(a,b){this.replaceIds(a,b,["id","rootId"]),"childNodes"in a&&a.childNodes.forEach(a=>{this.replaceIdOnNode(a,b)})}patchRootIdOnNode(a,b){a.type===fa.Document||a.rootId||(a.rootId=b),"childNodes"in a&&a.childNodes.forEach(a=>{this.patchRootIdOnNode(a,b)})}}class gx{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class gy{constructor(a){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=a.mutationCb,this.scrollCb=a.scrollCb,this.bypassOptions=a.bypassOptions,this.mirror=a.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(a,b){if(!fc(a)||this.shadowDoms.has(a))return;this.shadowDoms.add(a),this.bypassOptions.canvasManager.addShadowRoot(a);let c=gk({...this.bypassOptions,doc:b,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},a);this.restoreHandlers.push(()=>c.disconnect()),this.restoreHandlers.push(gl({...this.bypassOptions,scrollCb:this.scrollCb,doc:a,mirror:this.mirror})),f4(()=>{a.adoptedStyleSheets&&a.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(a.adoptedStyleSheets,this.mirror.getId(a.host)),this.restoreHandlers.push(gq({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},a))},0)}observeAttachShadow(a){let b=ga(a),c=function(a){try{return a.contentWindow}catch(a){}}(a);b&&c&&this.patchAttachShadow(c.Element,b)}patchAttachShadow(a,b){let c=this;this.restoreHandlers.push(fP(a.prototype,"attachShadow",function(a){return function(d){let e=a.call(this,d);return this.shadowRoot&&f1(this)&&c.addShadowRoot(this.shadowRoot,b),e}}))}reset(){this.restoreHandlers.forEach(a=>{try{a()}catch(a){}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}for(var gz="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",gA="undefined"==typeof Uint8Array?[]:new Uint8Array(256),gB=0;gB<gz.length;gB++)gA[gz.charCodeAt(gB)]=gB;class gC{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class gD{constructor(a){this.trackedLinkElements=new WeakSet,this.styleMirror=new f_,this.mutationCb=a.mutationCb,this.adoptedStyleSheetCb=a.adoptedStyleSheetCb}attachLinkElement(a,b){"_cssText"in b.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:b.id,attributes:b.attributes}]}),this.trackLinkElement(a)}trackLinkElement(a){this.trackedLinkElements.has(a)||(this.trackedLinkElements.add(a),this.trackStylesheetInLinkElement(a))}adoptStyleSheets(a,b){if(0===a.length)return;let c={id:b,styleIds:[]},d=[];for(let b of a){let a;this.styleMirror.has(b)?a=this.styleMirror.getId(b):(a=this.styleMirror.add(b),d.push({styleId:a,rules:Array.from(b.rules||CSSRule,(a,b)=>({rule:fe(a),index:b}))})),c.styleIds.push(a)}d.length>0&&(c.styles=d),this.adoptedStyleSheetCb(c)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(a){}}class gE{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(a,b){let c=this.nodeMap.get(a);return c&&Array.from(c).some(a=>a!==b)}add(a,b){this.active||(this.active=!0,function(...a){f3("requestAnimationFrame")(...a)}(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(a,(this.nodeMap.get(a)||new Set).add(b))}destroy(){}}try{if(2!==Array.from([1],a=>2*a)[0]){let a=document.createElement("iframe");document.body.appendChild(a),Array.from=a.contentWindow?.Array.from||Array.from,document.body.removeChild(a)}}catch(a){console.debug("Unable to override Array.from",a)}let gF=new ff;function gG(a={}){let b,{emit:c,checkoutEveryNms:d,checkoutEveryNth:e,blockClass:f="rr-block",blockSelector:g=null,unblockSelector:h=null,ignoreClass:i="rr-ignore",ignoreSelector:j=null,maskAllText:k=!1,maskTextClass:l="rr-mask",unmaskTextClass:p=null,maskTextSelector:q=null,unmaskTextSelector:r=null,inlineStylesheet:s=!0,maskAllInputs:t,maskInputOptions:u,slimDOMOptions:v,maskAttributeFn:w,maskInputFn:x,maskTextFn:y,maxCanvasSize:z=null,packFn:A,sampling:B={},dataURLOptions:C={},mousemoveWait:D,recordDOM:E=!0,recordCanvas:F=!1,recordCrossOriginIframes:G=!1,recordAfter:H="DOMContentLoaded"===a.recordAfter?a.recordAfter:"load",userTriggeredOnInput:I=!1,collectFonts:J=!1,inlineImages:K=!1,plugins:L,keepIframeSrcFn:M=()=>!1,ignoreCSSAttributes:N=new Set([]),errorHandler:O,onMutation:P,getCanvasManager:Q}=a;m=O;let R=!G||window.parent===window,S=!1;if(!R)try{window.parent.document&&(S=!1)}catch(a){S=!0}if(R&&!c)throw Error("emit function is required");if(!R&&!S)return()=>{};void 0!==D&&void 0===B.mousemove&&(B.mousemove=D),gF.reset();let T=!0===t?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==u?u:{},U=!0===v||"all"===v?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===v,headMetaDescKeywords:"all"===v}:v||{};!function(a=window){"NodeList"in a&&!a.NodeList.prototype.forEach&&(a.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in a&&!a.DOMTokenList.prototype.forEach&&(a.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...a)=>{let b=a[0];if(!(0 in a))throw TypeError("1 argument is required");do if(this===b)return!0;while(b=b&&b.parentNode)return!1})}();let V=0,W=a=>{for(let b of L||[])b.eventProcessor&&(a=b.eventProcessor(a));return A&&!S&&(a=A(a)),a};n=(a,f)=>{if(a.timestamp=fQ(),gi[0]?.isFrozen()&&a.type!==f5.FullSnapshot&&(a.type!==f5.IncrementalSnapshot||a.data.source!==f6.Mutation)&&gi.forEach(a=>a.unfreeze()),R)c?.(W(a),f);else if(S){let b={type:"rrweb",event:W(a),origin:window.location.origin,isCheckout:f};window.parent.postMessage(b,"*")}if(a.type===f5.FullSnapshot)b=a,V=0;else if(a.type===f5.IncrementalSnapshot){if(a.data.source===f6.Mutation&&a.data.isAttachIframe)return;V++;let c=e&&V>=e,f=d&&b&&a.timestamp-b.timestamp>d;(c||f)&&ad(!0)}};let X=a=>{n({type:f5.IncrementalSnapshot,data:{source:f6.Mutation,...a}})},Y=a=>n({type:f5.IncrementalSnapshot,data:{source:f6.Scroll,...a}}),Z=a=>n({type:f5.IncrementalSnapshot,data:{source:f6.CanvasMutation,...a}}),$=new gD({mutationCb:X,adoptedStyleSheetCb:a=>n({type:f5.IncrementalSnapshot,data:{source:f6.AdoptedStyleSheet,...a}})}),_="boolean"==typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new gv:new gw({mirror:gF,mutationCb:X,stylesheetManager:$,recordCrossOriginIframes:G,wrappedEmit:n});for(let a of L||[])a.getMirror&&a.getMirror({nodeMirror:gF,crossOriginIframeMirror:_.crossOriginIframeMirror,crossOriginIframeStyleMirror:_.crossOriginIframeStyleMirror});let aa=new gE,ab=function(a,b){try{return a?a(b):new gC}catch{return console.warn("Unable to initialize CanvasManager"),new gC}}(Q,{mirror:gF,win:window,mutationCb:a=>n({type:f5.IncrementalSnapshot,data:{source:f6.CanvasMutation,...a}}),recordCanvas:F,blockClass:f,blockSelector:g,unblockSelector:h,maxCanvasSize:z,sampling:B.canvas,dataURLOptions:C,errorHandler:O}),ac="boolean"==typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new gx:new gy({mutationCb:X,scrollCb:Y,bypassOptions:{onMutation:P,blockClass:f,blockSelector:g,unblockSelector:h,maskAllText:k,maskTextClass:l,unmaskTextClass:p,maskTextSelector:q,unmaskTextSelector:r,inlineStylesheet:s,maskInputOptions:T,dataURLOptions:C,maskAttributeFn:w,maskTextFn:y,maskInputFn:x,recordCanvas:F,inlineImages:K,sampling:B,slimDOMOptions:U,iframeManager:_,stylesheetManager:$,canvasManager:ab,keepIframeSrcFn:M,processedNodeManager:aa,ignoreCSSAttributes:N},mirror:gF}),ad=(a=!1)=>{if(!E)return;n({type:f5.Meta,data:{href:window.location.href,width:fT(),height:fS()}},a),$.reset(),ac.init(),gi.forEach(a=>a.lock());let b=function(a,b){let{mirror:c=new ff,blockClass:d="rr-block",blockSelector:e=null,unblockSelector:f=null,maskAllText:g=!1,maskTextClass:h="rr-mask",unmaskTextClass:i=null,maskTextSelector:j=null,unmaskTextSelector:k=null,inlineStylesheet:l=!0,inlineImages:m=!1,recordCanvas:n=!1,maskAllInputs:o=!1,maskAttributeFn:p,maskTextFn:q,maskInputFn:r,slimDOM:s=!1,dataURLOptions:t,preserveWhiteSpace:u,onSerialize:v,onIframeLoad:w,iframeLoadTimeout:x,onBlockedImageLoad:y,onStylesheetLoad:z,stylesheetLoadTimeout:A,keepIframeSrcFn:B=()=>!1,ignoreCSSAttributes:C=new Set([])}=b||{};return fM(a,{doc:a,mirror:c,blockClass:d,blockSelector:e,unblockSelector:f,maskAllText:g,maskTextClass:h,unmaskTextClass:i,maskTextSelector:j,unmaskTextSelector:k,skipChild:!1,inlineStylesheet:l,maskInputOptions:!0===o?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===o?{}:o,maskAttributeFn:p,maskTextFn:q,maskInputFn:r,slimDOMOptions:!0===s||"all"===s?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===s,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===s?{}:s,dataURLOptions:t,inlineImages:m,recordCanvas:n,preserveWhiteSpace:u,onSerialize:v,onIframeLoad:w,iframeLoadTimeout:x,onBlockedImageLoad:y,onStylesheetLoad:z,stylesheetLoadTimeout:A,keepIframeSrcFn:B,newlyAddedElement:!1,ignoreCSSAttributes:C})}(document,{mirror:gF,blockClass:f,blockSelector:g,unblockSelector:h,maskAllText:k,maskTextClass:l,unmaskTextClass:p,maskTextSelector:q,unmaskTextSelector:r,inlineStylesheet:s,maskAllInputs:T,maskAttributeFn:w,maskInputFn:x,maskTextFn:y,slimDOM:U,dataURLOptions:C,recordCanvas:F,inlineImages:K,onSerialize:a=>{fY(a,gF)&&_.addIframe(a),fZ(a,gF)&&$.trackLinkElement(a),f$(a)&&ac.addShadowRoot(a.shadowRoot,document)},onIframeLoad:(a,b)=>{_.attachIframe(a,b),a.contentWindow&&ab.addWindow(a.contentWindow),ac.observeAttachShadow(a)},onStylesheetLoad:(a,b)=>{$.attachLinkElement(a,b)},onBlockedImageLoad:(a,b,{width:c,height:d})=>{X({adds:[],removes:[],texts:[],attributes:[{id:b.id,attributes:{style:{width:`${c}px`,height:`${d}px`}}}]})},keepIframeSrcFn:M,ignoreCSSAttributes:N});if(!b)return console.warn("Failed to snapshot the document");n({type:f5.FullSnapshot,data:{node:b,initialOffset:fR(window)}}),gi.forEach(a=>a.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&$.adoptStyleSheets(document.adoptedStyleSheets,gF.getId(document))};o=ad;try{let a=[],b=a=>gh(gr)({onMutation:P,mutationCb:X,mousemoveCb:(a,b)=>n({type:f5.IncrementalSnapshot,data:{source:b,positions:a}}),mouseInteractionCb:a=>n({type:f5.IncrementalSnapshot,data:{source:f6.MouseInteraction,...a}}),scrollCb:Y,viewportResizeCb:a=>n({type:f5.IncrementalSnapshot,data:{source:f6.ViewportResize,...a}}),inputCb:a=>n({type:f5.IncrementalSnapshot,data:{source:f6.Input,...a}}),mediaInteractionCb:a=>n({type:f5.IncrementalSnapshot,data:{source:f6.MediaInteraction,...a}}),styleSheetRuleCb:a=>n({type:f5.IncrementalSnapshot,data:{source:f6.StyleSheetRule,...a}}),styleDeclarationCb:a=>n({type:f5.IncrementalSnapshot,data:{source:f6.StyleDeclaration,...a}}),canvasMutationCb:Z,fontCb:a=>n({type:f5.IncrementalSnapshot,data:{source:f6.Font,...a}}),selectionCb:a=>{n({type:f5.IncrementalSnapshot,data:{source:f6.Selection,...a}})},customElementCb:a=>{n({type:f5.IncrementalSnapshot,data:{source:f6.CustomElement,...a}})},blockClass:f,ignoreClass:i,ignoreSelector:j,maskAllText:k,maskTextClass:l,unmaskTextClass:p,maskTextSelector:q,unmaskTextSelector:r,maskInputOptions:T,inlineStylesheet:s,sampling:B,recordDOM:E,recordCanvas:F,inlineImages:K,userTriggeredOnInput:I,collectFonts:J,doc:a,maskAttributeFn:w,maskInputFn:x,maskTextFn:y,keepIframeSrcFn:M,blockSelector:g,unblockSelector:h,slimDOMOptions:U,dataURLOptions:C,mirror:gF,iframeManager:_,stylesheetManager:$,shadowDomManager:ac,processedNodeManager:aa,canvasManager:ab,ignoreCSSAttributes:N,plugins:L?.filter(a=>a.observer)?.map(a=>({observer:a.observer,options:a.options,callback:b=>n({type:f5.Plugin,data:{plugin:a.name,payload:b}})}))||[]},{});_.addLoadListener(c=>{try{a.push(b(c.contentDocument))}catch(a){console.warn(a)}});let c=()=>{ad(),a.push(b(document))};return"interactive"===document.readyState||"complete"===document.readyState?c():(a.push(fN("DOMContentLoaded",()=>{n({type:f5.DomContentLoaded,data:{}}),"DOMContentLoaded"===H&&c()})),a.push(fN("load",()=>{n({type:f5.Load,data:{}}),"load"===H&&c()},window))),()=>{a.forEach(a=>a()),aa.destroy(),o=void 0,m=void 0}}catch(a){console.warn(a)}}function gH(a){return a>0x2540be3ff?a:1e3*a}function gI(a){return a>0x2540be3ff?a/1e3:a}function gJ(a,b){"sentry.transaction"!==b.category&&(["ui.click","ui.input"].includes(b.category)?a.triggerUserActivity():a.checkAndHandleExpiredSession(),a.addUpdate(()=>(a.throttledAddEvent({type:f5.Custom,timestamp:1e3*(b.timestamp||0),data:{tag:"breadcrumb",payload:(0,cE.normalize)(b,10,1e3)}}),"console"===b.category)))}function gK(a){return a.closest("button,a")||a}function gL(a){let b=gM(a);return b&&b instanceof Element?gK(b):b}function gM(a){var b;return"object"==typeof(b=a)&&b&&"target"in b?a.target:a}gG.mirror=gF,gG.takeFullSnapshot=function(a){if(!o)throw Error("please take full snapshot after start recording");o(a)},(C=G||(G={}))[C.NotStarted=0]="NotStarted",C[C.Running=1]="Running",C[C.Stopped=2]="Stopped";let gN=new Set([f6.Mutation,f6.StyleSheetRule,f6.StyleDeclaration,f6.AdoptedStyleSheet,f6.CanvasMutation,f6.Selection,f6.MediaInteraction]);class gO{constructor(a,b,c=gJ){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=b.timeout/1e3,this._threshold=b.threshold/1e3,this._scrollTimeout=b.scrollTimeout/1e3,this._replay=a,this._ignoreSelector=b.ignoreSelector,this._addBreadcrumbEvent=c}addListeners(){var a;let b=(a=()=>{this._lastMutation=gQ()},p||(p=[],(0,bB.fill)(e5,"open",function(a){return function(...b){if(p)try{p.forEach(a=>a())}catch{}return a.apply(e5,b)}})),p.push(a),()=>{let b=p?p.indexOf(a):-1;b>-1&&p.splice(b,1)});this._teardown=()=>{b(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(a,b){var c,d,e;if(c=b,d=this._ignoreSelector,!gP.includes(c.tagName)||"INPUT"===c.tagName&&!["submit","button"].includes(c.getAttribute("type")||"")||"A"===c.tagName&&(c.hasAttribute("download")||c.hasAttribute("target")&&"_self"!==c.getAttribute("target"))||d&&c.matches(d)||!((e=a).data&&"number"==typeof e.data.nodeId&&e.timestamp))return;let f={timestamp:gI(a.timestamp),clickBreadcrumb:a,clickCount:0,node:b};this._clicks.some(a=>a.node===f.node&&1>Math.abs(a.timestamp-f.timestamp))||(this._clicks.push(f),1===this._clicks.length&&this._scheduleCheckClicks())}registerMutation(a=Date.now()){this._lastMutation=gI(a)}registerScroll(a=Date.now()){this._lastScroll=gI(a)}registerClick(a){let b=gK(a);this._handleMultiClick(b)}_handleMultiClick(a){this._getClicks(a).forEach(a=>{a.clickCount++})}_getClicks(a){return this._clicks.filter(b=>b.node===a)}_checkClicks(){let a=[],b=gQ();for(let c of(this._clicks.forEach(c=>{!c.mutationAfter&&this._lastMutation&&(c.mutationAfter=c.timestamp<=this._lastMutation?this._lastMutation-c.timestamp:void 0),!c.scrollAfter&&this._lastScroll&&(c.scrollAfter=c.timestamp<=this._lastScroll?this._lastScroll-c.timestamp:void 0),c.timestamp+this._timeout<=b&&a.push(c)}),a)){let a=this._clicks.indexOf(c);a>-1&&(this._generateBreadcrumbs(c),this._clicks.splice(a,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(a){let b=this._replay,c=a.scrollAfter&&a.scrollAfter<=this._scrollTimeout,d=a.mutationAfter&&a.mutationAfter<=this._threshold,{clickCount:e,clickBreadcrumb:f}=a;if(!c&&!d){let c=1e3*Math.min(a.mutationAfter||this._timeout,this._timeout),d=c<1e3*this._timeout?"mutation":"timeout",g={type:"default",message:f.message,timestamp:f.timestamp,category:"ui.slowClickDetected",data:{...f.data,url:e5.location.href,route:b.getCurrentRoute(),timeAfterClickMs:c,endReason:d,clickCount:e||1}};this._addBreadcrumbEvent(b,g);return}if(e>1){let a={type:"default",message:f.message,timestamp:f.timestamp,category:"ui.multiClick",data:{...f.data,url:e5.location.href,route:b.getCurrentRoute(),clickCount:e,metric:!0}};this._addBreadcrumbEvent(b,a)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=cZ(()=>this._checkClicks(),1e3)}}let gP=["A","BUTTON","INPUT"];function gQ(){return Date.now()/1e3}function gR(a){return{timestamp:Date.now()/1e3,type:"default",...a}}var gS=((D=gS||{})[D.Document=0]="Document",D[D.DocumentType=1]="DocumentType",D[D.Element=2]="Element",D[D.Text=3]="Text",D[D.CDATA=4]="CDATA",D[D.Comment=5]="Comment",D);let gT=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function gU(a,b){let c=gG.mirror.getId(a),d=c&&gG.mirror.getNode(c),e=d&&gG.mirror.getMeta(d),f=e&&e.type===gS.Element?e:null;return{message:b,data:f?{nodeId:c,node:{id:c,tagName:f.tagName,textContent:Array.from(f.childNodes).map(a=>a.type===gS.Text&&a.textContent).filter(Boolean).map(a=>a.trim()).join(""),attributes:function(a){let b={};for(let c in!a["data-sentry-component"]&&a["data-sentry-element"]&&(a["data-sentry-component"]=a["data-sentry-element"]),a)if(gT.has(c)){let d=c;("data-testid"===c||"data-test-id"===c)&&(d="testId"),b[d]=a[c]}return b}(f.attributes)}}:{}}}let gV={resource:function(a){let{entryType:b,initiatorType:c,name:d,responseEnd:e,startTime:f,decodedBodySize:g,encodedBodySize:h,responseStatus:i,transferSize:j}=a;return["fetch","xmlhttprequest"].includes(c)?null:{type:`${b}.${c}`,start:gY(f),end:gY(e),name:d,data:{size:j,statusCode:i,decodedBodySize:g,encodedBodySize:h}}},paint:function(a){let{duration:b,entryType:c,name:d,startTime:e}=a,f=gY(e);return{type:c,name:d,start:f,end:f+b,data:void 0}},navigation:function(a){let{entryType:b,name:c,decodedBodySize:d,duration:e,domComplete:f,encodedBodySize:g,domContentLoadedEventStart:h,domContentLoadedEventEnd:i,domInteractive:j,loadEventStart:k,loadEventEnd:l,redirectCount:m,startTime:n,transferSize:o,type:p}=a;return 0===e?null:{type:`${b}.${p}`,start:gY(n),end:gY(f),name:c,data:{size:o,decodedBodySize:d,encodedBodySize:g,duration:e,domInteractive:j,domContentLoadedEventStart:h,domContentLoadedEventEnd:i,loadEventStart:k,loadEventEnd:l,domComplete:f,redirectCount:m}}}};function gW(a,b){return({metric:c})=>void b.replayPerformanceEntries.push(a(c))}function gX(a){let b=gV[a.entryType];return b?b(a):null}function gY(a){return(((0,dj.browserPerformanceTimeOrigin)()||e5.performance.timeOrigin)+a)/1e3}function gZ(a){let b=a.entries[a.entries.length-1];return g0(a,"largest-contentful-paint",b?.element?[b.element]:void 0)}function g$(a){let b=[],c=[];for(let d of a.entries)if(void 0!==d.sources){let a=[];for(let b of d.sources)if(b.node){c.push(b.node);let d=gG.mirror.getId(b.node);d&&a.push(d)}b.push({value:d.value,nodeIds:a.length?a:void 0})}return g0(a,"cumulative-layout-shift",c,b)}function g_(a){let b=a.entries[a.entries.length-1];return g0(a,"interaction-to-next-paint",b?.target?[b.target]:void 0)}function g0(a,b,c,d){let e=a.value,f=a.rating,g=gY(e);return{type:"web-vital",name:b,start:g,end:g,data:{value:e,size:e,rating:f,nodeIds:c?c.map(a=>gG.mirror.getId(a)):void 0,attributions:d}}}let g1="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,g2=["log","warn","error"],g3="[Replay] ";function g4(a,b="info"){(0,bO.addBreadcrumb)({category:"console",data:{logger:"replay"},level:b,message:`${g3}${a}`},{level:b})}let g5=(t=!1,u=!1,v={exception:()=>void 0,infoTick:()=>void 0,setConfig:a=>{t=!!a.captureExceptions,u=!!a.traceInternals}},g1?(g2.forEach(a=>{v[a]=(...b)=>{N.debug[a](g3,...b),u&&g4(b.join(""),(0,dt.severityLevelFromString)(a))}}),v.exception=(a,...b)=>{b.length&&v.error&&v.error(...b),N.debug.error(g3,a),t?(0,bD.captureException)(a,{mechanism:{handled:!0,type:"auto.function.replay.debug"}}):u&&g4(a,"error")},v.infoTick=(...a)=>{N.debug.log(g3,...a),u&&setTimeout(()=>g4(a[0]),0)}):g2.forEach(a=>{v[a]=()=>void 0}),v);class g6 extends Error{constructor(){super("Event buffer exceeded maximum size of 20000000.")}}class g7{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(a){let b=JSON.stringify(a).length;if(this._totalSize+=b,this._totalSize>2e7)throw new g6;this.events.push(a)}finish(){return new Promise(a=>{let b=this.events;this.clear(),a(JSON.stringify(b))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){let a=this.events.map(a=>a.timestamp).sort()[0];return a?gH(a):null}}class g8{constructor(a){this._worker=a,this._id=0}ensureReady(){return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise((a,b)=>{this._worker.addEventListener("message",({data:c})=>{c.success?a():b()},{once:!0}),this._worker.addEventListener("error",a=>{b(a)},{once:!0})})),this._ensureReadyPromise}destroy(){g1&&g5.log("Destroying compression worker"),this._worker.terminate()}postMessage(a,b){let c=this._getAndIncrementId();return new Promise((d,e)=>{let f=({data:b})=>{if(b.method===a&&b.id===c){if(this._worker.removeEventListener("message",f),!b.success){g1&&g5.error("Error in compression worker: ",b.response),e(Error("Error in compression worker"));return}d(b.response)}};this._worker.addEventListener("message",f),this._worker.postMessage({id:c,method:a,arg:b})})}_getAndIncrementId(){return this._id++}}class g9{constructor(a){this._worker=new g8(a),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(a){let b=gH(a.timestamp);(!this._earliestTimestamp||b<this._earliestTimestamp)&&(this._earliestTimestamp=b);let c=JSON.stringify(a);return(this._totalSize+=c.length,this._totalSize>2e7)?Promise.reject(new g6):this._sendEventToWorker(c)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,a=>{g1&&g5.exception(a,'Sending "clear" message to worker failed',a)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(a){return this._worker.postMessage("addEvent",a)}async _finishRequest(){let a=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,a}}class ha{constructor(a){this._fallback=new g7,this._compression=new g9(a),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(a){this._used.hasCheckout=a}set waitForCheckout(a){this._used.waitForCheckout=a}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(a){return this._used.addEvent(a)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(a){g1&&g5.exception(a,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){let{events:a,hasCheckout:b,waitForCheckout:c}=this._fallback,d=[];for(let b of a)d.push(this._compression.addEvent(b));this._compression.hasCheckout=b,this._compression.waitForCheckout=c,this._used=this._compression;try{await Promise.all(d),this._fallback.clear()}catch(a){g1&&g5.exception(a,"Failed to add events when switching buffers.")}}}function hb(){try{return"sessionStorage"in e5&&!!e5.sessionStorage}catch{return!1}}function hc(a){return void 0!==a&&Math.random()<a}function hd(a){if(hb())try{e5.sessionStorage.setItem(e6,JSON.stringify(a))}catch{}}function he(a){let b=Date.now(),c=a.id||(0,bC.uuid4)(),d=a.started||b,e=a.lastActivity||b,f=a.segmentId||0,g=a.sampled;return{id:c,started:d,lastActivity:e,segmentId:f,sampled:g,previousSessionId:a.previousSessionId,dirty:a.dirty||!1}}function hf({sessionSampleRate:a,allowBuffering:b,stickySession:c=!1},{previousSessionId:d}={}){let e=he({sampled:hc(a)?"session":!!b&&"buffer",previousSessionId:d});return c&&hd(e),e}function hg(a,b,c=+new Date){return null===a||void 0===b||b<0||0!==b&&a+b<=c}function hh(a,{maxReplayDuration:b,sessionIdleExpire:c,targetTime:d=Date.now()}){return hg(a.started,b,d)||hg(a.lastActivity,c,d)}function hi(a,{sessionIdleExpire:b,maxReplayDuration:c}){return!!hh(a,{sessionIdleExpire:b,maxReplayDuration:c})&&("buffer"!==a.sampled||0!==a.segmentId)}function hj({sessionIdleExpire:a,maxReplayDuration:b,previousSessionId:c},d){let e=d.stickySession&&function(){if(!hb())return null;try{let a=e5.sessionStorage.getItem(e6);if(!a)return null;let b=JSON.parse(a);return g1&&g5.infoTick("Loading existing session"),he(b)}catch{return null}}();return e?hi(e,{sessionIdleExpire:a,maxReplayDuration:b})?(g1&&g5.infoTick("Session in sessionStorage is expired, creating new one..."),hf(d,{previousSessionId:e.id})):e:(g1&&g5.infoTick("Creating new session"),hf(d,{previousSessionId:c}))}function hk(a,b,c){return!!hm(a,b)&&(hl(a,b,c),!0)}async function hl(a,b,c){let{eventBuffer:d}=a;if(!d||d.waitForCheckout&&!c)return null;let e="buffer"===a.recordingMode;try{c&&e&&d.clear(),c&&(d.hasCheckout=!0,d.waitForCheckout=!1);let f=a.getOptions(),g=function(a,b){try{if("function"==typeof b&&a.type===f5.Custom)return b(a)}catch(a){return g1&&g5.exception(a,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return a}(b,f.beforeAddRecordingEvent);if(!g)return;return await d.addEvent(g)}catch(f){let b=f&&f instanceof g6,c=(0,J.getClient)();if(c&&c.recordDroppedEvent(b?"buffer_overflow":"internal_sdk_error","replay"),b&&e)return d.clear(),d.waitForCheckout=!0,null;a.handleException(f),await a.stop({reason:b?"addEventSizeExceeded":"addEvent"})}}function hm(a,b){if(!a.eventBuffer||a.isPaused()||!a.isEnabled())return!1;let c=gH(b.timestamp);return!(c+a.timeouts.sessionIdlePause<Date.now())&&(!(c>a.getContext().initialTimestamp+a.getOptions().maxReplayDuration)||(g1&&g5.infoTick(`Skipping event with timestamp ${c} because it is after maxReplayDuration`),!1))}function hn(a){return"transaction"===a.type}function ho(a){return"feedback"===a.type}function hp(a){return!!a.category}function hq(){let a=(0,J.getCurrentScope)().getPropagationContext().dsc;a&&delete a.replay_id;let b=(0,bZ.getActiveSpan)();if(b){let a=(0,ct.getDynamicSamplingContextFromSpan)(b);delete a.replay_id}}function hr(a,b){return b.map(({type:b,start:c,end:d,name:e,data:f})=>{let g=a.throttledAddEvent({type:f5.Custom,timestamp:c,data:{tag:"performanceSpan",payload:{op:b,description:e,startTimestamp:c,endTimestamp:d,data:f}}});return"string"==typeof g?Promise.resolve(null):g})}function hs(a,b){var c;a.isEnabled()&&null!==b&&(c=b.name,(!g1||!a.getOptions()._experiments.traceInternals)&&(0,d2.isSentryRequestUrl)(c,(0,J.getClient)())||a.addUpdate(()=>(hr(a,[b]),!0)))}function ht(a){if(!a)return;let b=new TextEncoder;try{if("string"==typeof a)return b.encode(a).length;if(a instanceof URLSearchParams)return b.encode(a.toString()).length;if(a instanceof FormData){let c=eb(a);return b.encode(c).length}if(a instanceof Blob)return a.size;if(a instanceof ArrayBuffer)return a.byteLength}catch{}}function hu(a){if(!a)return;let b=parseInt(a,10);return isNaN(b)?void 0:b}function hv(a,b){if(!a)return{headers:{},size:void 0,_meta:{warnings:[b]}};let c={...a._meta},d=c.warnings||[];return c.warnings=[...d,b],a._meta=c,a}function hw(a,b){if(!b)return null;let{startTimestamp:c,endTimestamp:d,url:e,method:f,statusCode:g,request:h,response:i}=b;return{type:a,start:c/1e3,end:d/1e3,name:e,data:{method:f,statusCode:g,request:h,response:i}}}function hx(a){return{headers:{},size:a,_meta:{warnings:["URL_SKIPPED"]}}}function hy(a,b,c){if(!b&&0===Object.keys(a).length)return;if(!b)return{headers:a};if(!c)return{headers:a,size:b};let d={headers:a,size:b},{body:e,warnings:f}=function(a){var b;let c,d;if(!a||"string"!=typeof a)return{body:a};let e=a.length>15e4,f=(c=(b=a)[0],d=b[b.length-1],"["===c&&"]"===d||"{"===c&&"}"===d);if(e){let b=a.slice(0,15e4);return f?{body:b,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${b}`,warnings:["TEXT_TRUNCATED"]}}if(f)try{return{body:JSON.parse(a)}}catch{}return{body:a}}(c);return d.body=e,f?.length&&(d._meta={warnings:f}),d}function hz(a,b){return Object.entries(a).reduce((c,[d,e])=>{let f=d.toLowerCase();return b.includes(f)&&a[d]&&(c[f]=e),c},{})}function hA(a,b){let c=function(a,b=e5.document.baseURI){if(a.startsWith("http://")||a.startsWith("https://")||a.startsWith(e5.location.origin))return a;let c=new URL(a,b);if(c.origin!==new URL(b).origin)return a;let d=c.href;return!a.endsWith("/")&&d.endsWith("/")?d.slice(0,-1):d}(a);return(0,ds.stringMatchesSomePattern)(c,b)}async function hB(a,b,c){try{let d=await hC(a,b,c),e=hw("resource.fetch",d);hs(c.replay,e)}catch(a){g1&&g5.exception(a,"Failed to capture fetch breadcrumb")}}async function hC(a,b,c){let d=Date.now(),{startTimestamp:e=d,endTimestamp:f=d}=b,{url:g,method:h,status_code:i=0,request_body_size:j,response_body_size:k}=a.data,l=hA(g,c.networkDetailAllowUrls)&&!hA(g,c.networkDetailDenyUrls);return{startTimestamp:e,endTimestamp:f,url:g,method:h,statusCode:i,request:l?function({networkCaptureBodies:a,networkRequestHeaders:b},c,d){var e,f;let g=c?(e=c,f=b,1===e.length&&"string"!=typeof e[0]?hG(e[0],f):2===e.length?hG(e[1],f):{}):{};if(!a)return hy(g,d,void 0);let[h,i]=ec(ed(c),g5),j=hy(g,d,h);return i?hv(j,i):j}(c,b.input,j):hx(j),response:await hD(l,c,b.response,k)}}async function hD(a,{networkCaptureBodies:b,networkResponseHeaders:c},d,e){if(!a&&void 0!==e)return hx(e);let f=d?hF(d.headers,c):{};if(!d||!b&&void 0!==e)return hy(f,e,void 0);let[g,h]=await hE(d),i=function(a,{networkCaptureBodies:b,responseBodySize:c,captureDetails:d,headers:e}){try{let f=a?.length&&void 0===c?ht(a):c;if(!d)return hx(f);if(b)return hy(e,f,a);return hy(e,f,void 0)}catch(a){return g1&&g5.exception(a,"Failed to serialize response body"),hy(e,c,void 0)}}(g,{networkCaptureBodies:b,responseBodySize:e,captureDetails:a,headers:f});return h?hv(i,h):i}async function hE(a){let b=function(a){try{return a.clone()}catch(a){g1&&g5.exception(a,"Failed to clone response body")}}(a);if(!b)return[void 0,"BODY_PARSE_ERROR"];try{var c;return[await (c=b,new Promise((a,b)=>{let d=cZ(()=>b(Error("Timeout while trying to read response body")),500);hH(c).then(b=>a(b),a=>b(a)).finally(()=>clearTimeout(d))}))]}catch(a){if(a instanceof Error&&a.message.indexOf("Timeout")>-1)return g1&&g5.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"];return g1&&g5.exception(a,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"]}}function hF(a,b){let c={};return b.forEach(b=>{a.get(b)&&(c[b]=a.get(b))}),c}function hG(a,b){if(!a)return{};let c=a.headers;return c?c instanceof Headers?hF(c,b):Array.isArray(c)?{}:hz(c,b):{}}async function hH(a){return await a.text()}async function hI(a,b,c){try{let d=function(a,b,c){let d=Date.now(),{startTimestamp:e=d,endTimestamp:f=d,input:g,xhr:h}=b,{url:i,method:j,status_code:k=0,request_body_size:l,response_body_size:m}=a.data;if(!i)return null;if(!h||!hA(i,c.networkDetailAllowUrls)||hA(i,c.networkDetailDenyUrls)){let a=hx(l);return{startTimestamp:e,endTimestamp:f,url:i,method:j,statusCode:k,request:a,response:hx(m)}}let n=h[dz],o=n?hz(n.request_headers,c.networkRequestHeaders):{},p=hz(ee(h),c.networkResponseHeaders),[q,r]=c.networkCaptureBodies?ec(g,g5):[void 0],[s,t]=c.networkCaptureBodies?function(a){let b=[];try{return[a.responseText]}catch(a){b.push(a)}try{var c=a.response,d=a.responseType;try{if("string"==typeof c)return[c];if(c instanceof Document)return[c.body.outerHTML];if("json"===d&&c&&"object"==typeof c)return[JSON.stringify(c)];if(!c)return[void 0]}catch(a){return g1&&g5.exception(a,"Failed to serialize body",c),[void 0,"BODY_PARSE_ERROR"]}return g1&&g5.log("Skipping network body because of body type",c),[void 0,"UNPARSEABLE_BODY_TYPE"]}catch(a){b.push(a)}return g1&&g5.warn("Failed to get xhr response body",...b),[void 0]}(h):[void 0],u=hy(o,l,q),v=hy(p,m,s);return{startTimestamp:e,endTimestamp:f,url:i,method:j,statusCode:k,request:r?hv(u,r):u,response:t?hv(v,t):v}}(a,b,c),e=hw("resource.xhr",d);hs(c.replay,e)}catch(a){g1&&g5.exception(a,"Failed to capture xhr breadcrumb")}}async function hJ(a){try{return Promise.all(hr(a,[function(a){let{jsHeapSizeLimit:b,totalJSHeapSize:c,usedJSHeapSize:d}=a,e=Date.now()/1e3;return{type:"memory",name:"memory",start:e,end:e,data:{memory:{jsHeapSizeLimit:b,totalJSHeapSize:c,usedJSHeapSize:d}}}}(e5.performance.memory)]))}catch{return[]}}let hK=I.GLOBAL_OBJ.navigator;async function hL({client:a,scope:b,replayId:c,event:d}){let e={event_id:c,integrations:"object"!=typeof a._integrations||null===a._integrations||Array.isArray(a._integrations)?void 0:Object.keys(a._integrations)};a.emit("preprocessEvent",d,e);let f=await (0,ek.prepareEvent)(a.getOptions(),d,e,b,a,(0,J.getIsolationScope)());if(!f)return null;a.emit("postprocessEvent",f,e),f.platform=f.platform||"javascript";let g=a.getSdkMetadata(),{name:h,version:i,settings:j}=g?.sdk||{};return f.sdk={...f.sdk,name:h||"sentry.javascript.unknown",version:i||"0.0.0",settings:j},f}async function hM({recordingData:a,replayId:b,segmentId:c,eventContext:d,timestamp:e,session:f}){var g;let h,i=function({recordingData:a,headers:b}){let c,d=`${JSON.stringify(b)}
`;if("string"==typeof a)c=`${d}${a}`;else{let b=new TextEncoder().encode(d);(c=new Uint8Array(b.length+a.length)).set(b),c.set(a,b.length)}return c}({recordingData:a,headers:{segment_id:c}}),{urls:j,errorIds:k,traceIds:l,initialTimestamp:m}=d,n=(0,J.getClient)(),o=(0,J.getCurrentScope)(),p=n?.getTransport(),q=n?.getDsn();if(!n||!p||!q||!f.sampled)return Promise.resolve({});let r={type:"replay_event",replay_start_timestamp:m/1e3,timestamp:e/1e3,error_ids:k,trace_ids:l,urls:j,replay_id:b,segment_id:c,replay_type:f.sampled},s=await hL({scope:o,client:n,replayId:b,event:r});if(!s)return n.recordDroppedEvent("event_processor","replay"),g1&&g5.log("An event processor returned `null`, will not send event."),Promise.resolve({});delete s.sdkProcessingMetadata;let t=(g=n.getOptions().tunnel,(0,cg.createEnvelope)((0,cg.createEventEnvelopeHeaders)(s,(0,cg.getSdkMetadataForEnvelopeHeader)(s),g,q),[[{type:"replay_event"},s],[{type:"replay_recording",length:"string"==typeof i?new TextEncoder().encode(i).length:i.length},i]]));try{h=await p.send(t)}catch(b){let a=Error(e7);try{a.cause=b}catch{}throw a}if("number"==typeof h.statusCode&&(h.statusCode<200||h.statusCode>=300))throw new hN(h.statusCode);let u=(0,el.updateRateLimits)({},h);if((0,el.isRateLimited)(u,"replay"))throw new hO(u);return h}class hN extends Error{constructor(a){super(`Transport returned status code ${a}`)}}class hO extends Error{constructor(a){super("Rate limit hit"),this.rateLimits=a}}async function hP(a,b={count:0,interval:5e3}){let{recordingData:c,onError:d}=a;if(c.length)try{return await hM(a),!0}catch(c){if(c instanceof hN||c instanceof hO)throw c;if((0,bD.setContext)("Replays",{_retryCount:b.count}),d&&d(c),b.count>=3){let a=Error(`${e7} - max retries exceeded`);try{a.cause=c}catch{}throw a}return b.interval*=++b.count,new Promise((c,d)=>{cZ(async()=>{try{await hP(a,b),c(!0)}catch(a){d(a)}},b.interval)})}}let hQ="__THROTTLED";class hR{constructor({options:a,recordingOptions:b}){var c,d,e;this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=b,this._options=a,this._debouncedFlush=(c=()=>this._flush(),d=this._options.flushMinDelay,e={maxWait:this._options.flushMaxDelay},(0,ej.debounce)(c,d,{...e,setTimeoutImpl:cZ})),this._throttledAddEvent=function(a,b,c){let d=new Map,e=!1;return(...b)=>{let c,f=Math.floor(Date.now()/1e3);if(c=f-5,d.forEach((a,b)=>{b<c&&d.delete(b)}),[...d.values()].reduce((a,b)=>a+b,0)>=300){let a=e;return e=!0,a?"__SKIPPED":hQ}e=!1;let g=d.get(f)||0;return d.set(f,g+1),a(...b)}}((a,b)=>hm(this,a)?hl(this,a,b):Promise.resolve(null),0,0);const{slowClickTimeout:f,slowClickIgnoreSelectors:g}=this.getOptions(),h=f?{threshold:Math.min(3e3,f),timeout:f,scrollTimeout:300,ignoreSelector:g?g.join(","):""}:void 0;if(h&&(this.clickDetector=new gO(this,h)),g1){const b=a._experiments;g5.setConfig({captureExceptions:!!b.captureExceptions,traceInternals:!!b.traceInternals})}this._handleVisibilityChange=()=>{"visible"===e5.document.visibilityState?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{let a=gR({category:"ui.blur"});this._doChangeToBackgroundTasks(a)},this._handleWindowFocus=()=>{let a=gR({category:"ui.focus"});this._doChangeToForegroundTasks(a)},this._handleKeyboardEvent=a=>{!function(a,b){if(!a.isEnabled())return;a.updateUserActivity();let c=function(a){var b;let{metaKey:c,shiftKey:d,ctrlKey:e,altKey:f,key:g,target:h}=a;if(!h||"INPUT"===(b=h).tagName||"TEXTAREA"===b.tagName||b.isContentEditable||!g)return null;let i=c||e||f,j=1===g.length;if(!i&&j)return null;let k=(0,L.htmlTreeAsString)(h,{maxStringLength:200})||"<unknown>",l=gU(h,k);return gR({category:"ui.keyDown",message:k,data:{...l.data,metaKey:c,shiftKey:d,ctrlKey:e,altKey:f,key:g}})}(b);c&&gJ(a,c)}(this,a)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(a){g1&&g5.exception(a),this._options.onError&&this._options.onError(a)}initializeSampling(a){let{errorSampleRate:b,sessionSampleRate:c}=this._options,d=b<=0&&c<=0;if(this._requiresManualStart=d,!d){if(this._initializeSessionForSampling(a),!this.session){g1&&g5.exception(Error("Unable to initialize and create session"));return}!1!==this.session.sampled&&(this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session",g1&&g5.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&"session"===this.recordingMode){g1&&g5.log("Recording is already in progress");return}if(this._isEnabled&&"buffer"===this.recordingMode){g1&&g5.log("Buffering is in progress, call `flush()` to save the replay");return}g1&&g5.infoTick("Starting replay in session mode"),this._updateUserActivity();let a=hj({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=a,this.recordingMode="session",this._initializeRecording()}startBuffering(){if(this._isEnabled){g1&&g5.log("Buffering is in progress, call `flush()` to save the replay");return}g1&&g5.infoTick("Starting replay in buffer mode");let a=hj({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=a,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{var a;let b,c=this._canvas;this._stopRecording=gG({...this._recordingOptions,..."buffer"===this.recordingMode?{checkoutEveryNms:6e4}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:(a=this,b=!1,(c,d)=>{if(!a.checkAndHandleExpiredSession()){g1&&g5.warn("Received replay event after session expired.");return}let e=d||!b;b=!0,a.clickDetector&&function(a,b){try{var c;if(c=b,3!==c.type)return;let{source:d}=b.data;if(gN.has(d)&&a.registerMutation(b.timestamp),d===f6.Scroll&&a.registerScroll(b.timestamp),b.data.source===f6.MouseInteraction){let{type:c,id:d}=b.data,e=gG.mirror.getNode(d);e instanceof HTMLElement&&c===f7.Click&&a.registerClick(e)}}catch{}}(a.clickDetector,c),a.addUpdate(()=>{if("buffer"===a.recordingMode&&e&&a.setInitialState(),!hk(a,c,e))return!0;if(!e)return!1;let b=a.session;if(function(a,b){if(b&&a.session&&0===a.session.segmentId){let b;hk(a,(b=a.getOptions(),{type:f5.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:a.isRecordingCanvas(),sessionSampleRate:b.sessionSampleRate,errorSampleRate:b.errorSampleRate,useCompressionOption:b.useCompression,blockAllMedia:b.blockAllMedia,maskAllText:b.maskAllText,maskAllInputs:b.maskAllInputs,useCompression:!!a.eventBuffer&&"worker"===a.eventBuffer.type,networkDetailHasUrls:b.networkDetailAllowUrls.length>0,networkCaptureBodies:b.networkCaptureBodies,networkRequestHasHeaders:b.networkRequestHeaders.length>0,networkResponseHasHeaders:b.networkResponseHeaders.length>0}}}),!1)}}(a,e),"buffer"===a.recordingMode&&b&&a.eventBuffer&&!b.dirty){let c=a.eventBuffer.getEarliestTimestamp();c&&(g1&&g5.log(`Updating session start time to earliest event in buffer to ${new Date(c)}`),b.started=c,a.getOptions().stickySession&&hd(b))}return!!b?.previousSessionId||("session"===a.recordingMode&&a.flush(),!0)})}),.../iPhone|iPad|iPod/i.test(hK?.userAgent??"")||/Macintosh/i.test(hK?.userAgent??"")&&hK?.maxTouchPoints&&hK?.maxTouchPoints>1?{sampling:{mousemove:!1}}:{},onMutation:this._onMutationHandler.bind(this),...c?{recordCanvas:c.recordCanvas,getCanvasManager:c.getCanvasManager,sampling:c.sampling,dataURLOptions:c.dataURLOptions}:{}})}catch(a){this.handleException(a)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(a){return this.handleException(a),!1}}async stop({forceFlush:a=!1,reason:b}={}){if(this._isEnabled){this._isEnabled=!1,this.recordingMode="buffer";try{g1&&g5.log(`Stopping Replay${b?` triggered by ${b}`:""}`),hq(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),a&&await this._flush({force:!0}),this.eventBuffer?.destroy(),this.eventBuffer=null,function(){if(hb())try{e5.sessionStorage.removeItem(e6)}catch{}}(),this.session=void 0}catch(a){this.handleException(a)}}}pause(){!this._isPaused&&(this._isPaused=!0,this.stopRecording(),g1&&g5.log("Pausing replay"))}resume(){this._isPaused&&this._checkSession()&&(this._isPaused=!1,this.startRecording(),g1&&g5.log("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:a=!0}={}){if("session"===this.recordingMode)return this.flushImmediate();let b=Date.now();g1&&g5.log("Converting buffer to session"),await this.flushImmediate();let c=this.stopRecording();a&&c&&"session"!==this.recordingMode&&(this.recordingMode="session",this.session&&(this.session.dirty=!1,this._updateUserActivity(b),this._updateSessionActivity(b),this._maybeSaveSession()),this.startRecording())}addUpdate(a){let b=a();"buffer"!==this.recordingMode&&this._isEnabled&&!0!==b&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return"buffer"===this.recordingMode?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(a){if(!a||this.session?.sampled!==!1)return this.session?.id}checkAndHandleExpiredSession(){return this._lastActivity&&hg(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled?void this.pause():!!this._checkSession()}setInitialState(){let a=`${e5.location.pathname}${e5.location.hash}${e5.location.search}`,b=`${e5.location.origin}${a}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=b,this._context.initialTimestamp=Date.now(),this._context.urls.push(b)}throttledAddEvent(a,b){let c=this._throttledAddEvent(a,b);if(c===hQ){let a=gR({category:"replay.throttled"});this.addUpdate(()=>!hk(this,{type:5,timestamp:a.timestamp||0,data:{tag:"breadcrumb",payload:a,metric:!0}}))}return c}getCurrentRoute(){let a=this.lastActiveSpan||(0,bZ.getActiveSpan)(),b=a&&(0,bZ.getRootSpan)(a),c=(b&&(0,bZ.spanToJSON)(b).data||{})[bM.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE];if(b&&c&&["route","custom"].includes(c))return(0,bZ.spanToJSON)(b).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=function({useCompression:a,workerUrl:b}){if(a&&window.Worker){let a=function(a){try{let b=a||function(){if("undefined"==typeof __SENTRY_EXCLUDE_REPLAY_WORKER__||!__SENTRY_EXCLUDE_REPLAY_WORKER__){let a;return a=new Blob(['var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort(function(t,n){return t.f-n.f}),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort(function(t,n){return p[n.s]-p[t.s]||t.f-n.f});s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,s=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),a=s.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(s,n),O(s,a-8,r.d()),O(s,a-4,e),s}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){j.prototype.flush.call(this)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(G)return G.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J((t,n)=>{this.deflate.push(t,n)}),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}}),postMessage({id:void 0,method:"init",success:!0,response:void 0});']),URL.createObjectURL(a)}return""}();if(!b)return;g1&&g5.log(`Using compression worker${a?` from ${a}`:""}`);let c=new Worker(b);return new ha(c)}catch(a){g1&&g5.exception(a,"Failed to create compression worker")}}(b);if(a)return a}return g1&&g5.log("Using simple buffer"),new g7}({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(a){let b=this._options.errorSampleRate>0,c=hj({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:a},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:b});this.session=c}_checkSession(){if(!this.session)return!1;let a=this.session;return!hi(a,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})||(this._refreshSession(a),!1)}async _refreshSession(a){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(a.id))}_addListeners(){try{e5.document.addEventListener("visibilitychange",this._handleVisibilityChange),e5.addEventListener("blur",this._handleWindowBlur),e5.addEventListener("focus",this._handleWindowFocus),e5.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(!function(a){let b,c=(0,J.getClient)();dw(b=>{var c,d;if(!a.isEnabled())return;let e=function(a){let{target:b,message:c}=function(a){let b,c="click"===a.name,d=null;try{d=c?gL(a.event):gM(a.event),b=(0,L.htmlTreeAsString)(d,{maxStringLength:200})||"<unknown>"}catch{b="<unknown>"}return{target:d,message:b}}(a);return gR({category:`ui.${a.name}`,...gU(b,c)})}(b);if(!e)return;let f="click"===b.name,g=f?b.event:void 0;f&&a.clickDetector&&g?.target&&!g.altKey&&!g.metaKey&&!g.ctrlKey&&!g.shiftKey&&(c=a.clickDetector,d=gL(b.event),c.handleClick(e,d)),gJ(a,e)}),dC(b=>{if(!a.isEnabled())return;let c=function(a){let{from:b,to:c}=a,d=Date.now()/1e3;return{type:"navigation.push",start:d,end:d,name:c,data:{previous:b}}}(b);null!==c&&(a.getContext().urls.push(c.name),a.triggerUserActivity(),a.addUpdate(()=>(hr(a,[c]),!1)))}),(b=(0,J.getClient)())&&b.on("beforeAddBreadcrumb",b=>(function(a,b){var c;if(!a.isEnabled()||!hp(b))return;let d=(c=b,!hp(c)||["fetch","xhr","sentry.event","sentry.transaction"].includes(c.category)||c.category.startsWith("ui.")?null:"console"===c.category?function(a){let b=a.data?.arguments;if(!Array.isArray(b)||0===b.length)return gR(a);let c=!1,d=b.map(a=>{if(!a)return a;if("string"==typeof a)return a.length>5e3?(c=!0,`${a.slice(0,5e3)}`):a;if("object"==typeof a)try{let b=(0,cE.normalize)(a,7);if(JSON.stringify(b).length>5e3)return c=!0,`${JSON.stringify(b,null,2).slice(0,5e3)}`;return b}catch{}return a});return gR({...a,data:{...a.data,arguments:d,...c?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}(c):gR(c));d&&gJ(a,d)})(a,b));let d=(0,J.getClient)();try{let{networkDetailAllowUrls:b,networkDetailDenyUrls:c,networkCaptureBodies:e,networkRequestHeaders:f,networkResponseHeaders:g}=a.getOptions(),h={replay:a,networkDetailAllowUrls:b,networkDetailDenyUrls:c,networkCaptureBodies:e,networkRequestHeaders:f,networkResponseHeaders:g};d&&d.on("beforeAddBreadcrumb",(a,b)=>(function(a,b,c){if(b.data)try{var d,e,f,g;d=b,"xhr"===d.category&&(e=c,e?.xhr)&&(!function(a,b){let{xhr:c,input:d}=b;if(!c)return;let e=ht(d),f=c.getResponseHeader("content-length")?hu(c.getResponseHeader("content-length")):function(a,b){try{let c="json"===b&&a&&"object"==typeof a?JSON.stringify(a):a;return ht(c)}catch{return}}(c.response,c.responseType);void 0!==e&&(a.data.request_body_size=e),void 0!==f&&(a.data.response_body_size=f)}(b,c),hI(b,c,a)),f=b,"fetch"===f.category&&(g=c,g?.response)&&(!function(a,b){let{input:c,response:d}=b,e=ht(c?ed(c):void 0),f=d?hu(d.headers.get("content-length")):void 0;void 0!==e&&(a.data.request_body_size=e),void 0!==f&&(a.data.response_body_size=f)}(b,c),hB(b,c,a))}catch(a){g1&&g5.exception(a,"Error when enriching network breadcrumb")}})(h,a,b))}catch{}let e=Object.assign((b,c)=>{if(!a.isEnabled()||a.isPaused())return b;if("replay_event"===b.type)return delete b.breadcrumbs,b;if(b.type&&!hn(b)&&!ho(b))return b;if(!a.checkAndHandleExpiredSession())return hq(),b;if(ho(b))return a.flush(),b.contexts.feedback.replay_id=a.getSessionId(),a.triggerUserActivity(),a.addUpdate(()=>!b.timestamp||(a.throttledAddEvent({type:f5.Custom,timestamp:1e3*b.timestamp,data:{tag:"breadcrumb",payload:{timestamp:b.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:b.event_id}}}}),!1)),b;if(!b.type&&b.exception?.values?.length&&c.originalException?.__rrweb__&&!a.getOptions()._experiments.captureExceptions)return g1&&g5.log("Ignoring error from rrweb internals",b),null;let d="buffer"===a.recordingMode&&b.message!==e7&&!!b.exception&&!b.type&&hc(a.getOptions().errorSampleRate);if((d||"session"===a.recordingMode)&&(b.tags={...b.tags,replayId:a.getSessionId()}),d&&"buffer"===a.recordingMode&&a.session?.sampled==="buffer"){let b=a.session;b.dirty=!0,a.getOptions().stickySession&&hd(b)}return b},{id:"Replay"});(0,bD.addEventProcessor)(e),c&&(c.on("beforeSendEvent",b=>{var c,d;let e;a.isEnabled()&&!b.type&&(c=a,d=b,e=d.exception?.values?.[0]?.value,"string"==typeof e&&(e.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||e.match(/(does not match server-rendered HTML|Hydration failed because)/i))&&gJ(c,gR({category:"replay.hydrate-error",data:{url:(0,L.getLocationHref)()}})))}),c.on("afterSendEvent",(b,c)=>{if(!a.isEnabled()||b.type&&!hn(b))return;let d=c.statusCode;if(d&&!(d<200)&&!(d>=300)){if(hn(b)){var e,f;let c;return void(e=a,f=b,c=e.getContext(),f.contexts?.trace?.trace_id&&c.traceIds.size<100&&c.traceIds.add(f.contexts.trace.trace_id))}!function(a,b){let c=a.getContext();if(b.event_id&&c.errorIds.size<100&&c.errorIds.add(b.event_id),"buffer"!==a.recordingMode||!b.tags||!b.tags.replayId)return;let{beforeErrorSampling:d}=a.getOptions();("function"!=typeof d||d(b))&&cZ(async()=>{try{await a.sendBufferedReplayOrFlush()}catch(b){a.handleException(b)}})}(a,b)}}),c.on("createDsc",b=>{let c=a.getSessionId();c&&a.isEnabled()&&"session"===a.recordingMode&&a.checkAndHandleExpiredSession()&&(b.replay_id=c)}),c.on("spanStart",b=>{a.lastActiveSpan=b}),c.on("spanEnd",b=>{a.lastActiveSpan=b}),c.on("beforeSendFeedback",async(b,c)=>{let d=a.getSessionId();c?.includeReplay&&a.isEnabled()&&d&&b.contexts?.feedback&&("api"===b.contexts.feedback.source&&await a.sendBufferedReplayOrFlush(),b.contexts.feedback.replay_id=d)}),c.on("openFeedbackWidget",async()=>{await a.sendBufferedReplayOrFlush()}))}(this),this._hasInitializedCoreListeners=!0)}catch(a){this.handleException(a)}this._performanceCleanupCallback=function(a){function b(b){a.performanceEntries.includes(b)||a.performanceEntries.push(b)}function c({entries:a}){a.forEach(b)}let d=[];return["navigation","paint","resource"].forEach(a=>{d.push(eY(a,c))}),d.push(eW(gW(gZ,a)),eV(gW(g$,a)),eX(gW(g_,a))),()=>{d.forEach(a=>a())}}(this)}_removeListeners(){try{e5.document.removeEventListener("visibilitychange",this._handleVisibilityChange),e5.removeEventListener("blur",this._handleWindowBlur),e5.removeEventListener("focus",this._handleWindowFocus),e5.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(a){this.handleException(a)}}_doChangeToBackgroundTasks(a){!this.session||hh(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(a&&this._createCustomBreadcrumb(a),this.conditionalFlush())}_doChangeToForegroundTasks(a){if(this.session){if(!this.checkAndHandleExpiredSession()){g1&&g5.log("Document has become active, but session has expired");return}a&&this._createCustomBreadcrumb(a)}}_updateUserActivity(a=Date.now()){this._lastActivity=a}_updateSessionActivity(a=Date.now()){this.session&&(this.session.lastActivity=a,this._maybeSaveSession())}_createCustomBreadcrumb(a){this.addUpdate(()=>{this.throttledAddEvent({type:f5.Custom,timestamp:a.timestamp||0,data:{tag:"breadcrumb",payload:a}})})}_addPerformanceEntries(){let a=this.performanceEntries.map(gX).filter(Boolean).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){let b=this._context.initialTimestamp/1e3;a=a.filter(a=>a.start>=b)}return Promise.all(hr(this,a))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){let{session:a,eventBuffer:b}=this;if(!a||!b||this._requiresManualStart||a.segmentId)return;let c=b.getEarliestTimestamp();c&&c<this._context.initialTimestamp&&(this._context.initialTimestamp=c)}_popEventContext(){let a={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),a}async _runFlush(){let a=this.getSessionId();if(!this.session||!this.eventBuffer||!a){g1&&g5.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),this.eventBuffer?.hasEvents){if((await hJ(this),this.eventBuffer)&&a===this.getSessionId())try{this._updateInitialTimestampFromEventBuffer();let b=Date.now();if(b-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw Error("Session is too long, not sending replay");let c=this._popEventContext(),d=this.session.segmentId++;this._maybeSaveSession();let e=await this.eventBuffer.finish();await hP({replayId:a,recordingData:e,segmentId:d,eventContext:c,session:this.session,timestamp:b,onError:a=>this.handleException(a)})}catch(b){this.handleException(b),this.stop({reason:"sendReplay"});let a=(0,J.getClient)();a&&a.recordDroppedEvent(b instanceof hO?"ratelimit_backoff":"send_error","replay")}}}async _flush({force:a=!1}={}){if(!this._isEnabled&&!a)return;if(!this.checkAndHandleExpiredSession()){g1&&g5.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;let b=this.session.started,c=Date.now()-b;this._debouncedFlush.cancel();let d=c<this._options.minReplayDuration,e=c>this._options.maxReplayDuration+5e3;if(d||e){g1&&g5.log(`Session duration (${Math.floor(c/1e3)}s) is too ${d?"short":"long"}, not sending replay.`),d&&this._debouncedFlush();return}let f=this.eventBuffer;f&&0===this.session.segmentId&&!f.hasCheckout&&g1&&g5.log("Flushing initial segment without checkout.");let g=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(a){this.handleException(a)}finally{this._flushLock=void 0,g&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&hd(this.session)}_onMutationHandler(a){let{ignoreMutations:b}=this._options._experiments;if(b?.length&&a.some(a=>{let c=function(a){if(!a)return null;try{return a.nodeType===a.ELEMENT_NODE?a:a.parentElement}catch{return null}}(a.target),d=b.join(",");return c?.matches(d)}))return!1;let c=a.length,d=this._options.mutationLimit,e=this._options.mutationBreadcrumbLimit,f=d&&c>d;if(c>e||f){let a=gR({category:"replay.mutations",data:{count:c,limit:f}});this._createCustomBreadcrumb(a)}return!f||(this.stop({reason:"mutationLimit",forceFlush:"session"===this.recordingMode}),!1)}}function hS(a,b){return[...a,...b].join(",")}let hT='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',hU=["content-length","content-type","accept"],hV=!1,hW=a=>new hX(a);class hX{constructor({flushMinDelay:a=5e3,flushMaxDelay:b=5500,minReplayDuration:c=4999,maxReplayDuration:d=36e5,stickySession:e=!0,useCompression:f=!0,workerUrl:g,_experiments:h={},maskAllText:i=!0,maskAllInputs:j=!0,blockAllMedia:k=!0,mutationBreadcrumbLimit:l=750,mutationLimit:m=1e4,slowClickTimeout:n=7e3,slowClickIgnoreSelectors:o=[],networkDetailAllowUrls:p=[],networkDetailDenyUrls:q=[],networkCaptureBodies:r=!0,networkRequestHeaders:s=[],networkResponseHeaders:t=[],mask:u=[],maskAttributes:v=["title","placeholder","aria-label"],unmask:w=[],block:x=[],unblock:y=[],ignore:z=[],maskFn:A,beforeAddRecordingEvent:B,beforeErrorSampling:C,onError:D}={}){this.name="Replay";const E=function({mask:a,unmask:b,block:c,unblock:d,ignore:e}){return{maskTextSelector:hS(a,[".sentry-mask","[data-sentry-mask]"]),unmaskTextSelector:hS(b,[]),blockSelector:hS(c,[".sentry-block","[data-sentry-block]","base","iframe[srcdoc]:not([src])"]),unblockSelector:hS(d,[]),ignoreSelector:hS(e,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}({mask:u,unmask:w,block:x,unblock:y,ignore:z});if(this._recordingOptions={maskAllInputs:j,maskAllText:i,maskInputOptions:{password:!0},maskTextFn:A,maskInputFn:A,maskAttributeFn:(a,b,c)=>(function({el:a,key:b,maskAttributes:c,maskAllText:d,privacyOptions:e,value:f}){return!d||e.unmaskTextSelector&&a.matches(e.unmaskTextSelector)?f:c.includes(b)||"value"===b&&"INPUT"===a.tagName&&["submit","button"].includes(a.getAttribute("type")||"")?f.replace(/[\S]/g,"*"):f})({maskAttributes:v,maskAllText:i,privacyOptions:E,key:a,value:b,el:c}),...E,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:a=>{try{a.__rrweb__=!0}catch{}},recordCrossOriginIframes:!!h.recordCrossOriginIframes},this._initialOptions={flushMinDelay:a,flushMaxDelay:b,minReplayDuration:Math.min(c,5e4),maxReplayDuration:Math.min(d,36e5),stickySession:e,useCompression:f,workerUrl:g,blockAllMedia:k,maskAllInputs:j,maskAllText:i,mutationBreadcrumbLimit:l,mutationLimit:m,slowClickTimeout:n,slowClickIgnoreSelectors:o,networkDetailAllowUrls:p,networkDetailDenyUrls:q,networkCaptureBodies:r,networkRequestHeaders:hY(s),networkResponseHeaders:hY(t),beforeAddRecordingEvent:B,beforeErrorSampling:C,onError:D,_experiments:h},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${hT}`:hT,this._recordingOptions.ignoreCSSAttributes=new Set(["background-image"])),this._isInitialized&&(0,M.isBrowser)())throw Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return hV}set _isInitialized(a){hV=a}afterAllSetup(a){(0,M.isBrowser)()&&!this._replay&&(this._setup(a),this._initialize(a))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:"session"===this._replay.recordingMode}):Promise.resolve()}flush(a){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(a):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(a){if(this._replay?.isEnabled())return this._replay.getSessionId(a)}getRecordingMode(){if(this._replay?.isEnabled())return this._replay.recordingMode}_initialize(a){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(a),this._replay.initializeSampling())}_setup(a){var b;let c,d,e,f,g=(b=this._initialOptions,c=a.getOptions(),d={sessionSampleRate:0,errorSampleRate:0,...b},e=(0,em.parseSampleRate)(c.replaysSessionSampleRate),f=(0,em.parseSampleRate)(c.replaysOnErrorSampleRate),null==e&&null==f&&(0,N.consoleSandbox)(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),null!=e&&(d.sessionSampleRate=e),null!=f&&(d.errorSampleRate=f),d);this._replay=new hR({options:g,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(a){try{let b=a.getIntegrationByName("ReplayCanvas");if(!b)return;this._replay._canvas=b.getOptions()}catch{}}}function hY(a){return[...hU,...a.map(a=>a.toLowerCase())]}function hZ(){let a=(0,J.getClient)();return a?.getIntegrationByName("Replay")}var h$=Object.defineProperty,h_=(a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?h$(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c};function h0(a,b,c=1/0,d=0){return!a||a.nodeType!==a.ELEMENT_NODE||d>c?-1:b(a)?d:h0(a.parentNode,b,c,d+1)}function h1(a,b){return c=>{if(null===c)return!1;try{if(a){if("string"==typeof a){if(c.matches(`.${a}`))return!0}else if(function(a,b){for(let c=a.classList.length;c--;){let d=a.classList[c];if(b.test(d))return!0}return!1}(c,a))return!0}if(b&&c.matches(b))return!0;return!1}catch{return!1}}}function h2(a,b,c,d,e=window){let f=e.Object.getOwnPropertyDescriptor(a,b);return e.Object.defineProperty(a,b,d?c:{set(a){h8(()=>{c.set.call(this,a)},0),f&&f.set&&f.set.call(this,a)}}),()=>h2(a,b,f||{},!0)}function h3(a,b,c){try{if(!(b in a))return()=>{};let d=a[b],e=c(d);return"function"==typeof e&&(e.prototype=e.prototype||{},Object.defineProperties(e,{__rrweb_original__:{enumerable:!1,value:d}})),a[b]=e,()=>{a[b]=d}}catch{return()=>{}}}function h4(a,b,c,d,e){if(!a)return!1;let f=function(a){if(!a)return null;try{return a.nodeType===a.ELEMENT_NODE?a:a.parentElement}catch(a){return null}}(a);if(!f)return!1;let g=h1(b,c);if(!e){let a=d&&f.matches(d);return g(f)&&!a}let h=h0(f,g),i=-1;return!(h<0)&&(d&&(i=h0(f,h1(null,d))),h>-1&&i<0||h<i)}Date.now().toString();let h5={};function h6(a){let b=h5[a];if(b)return b;let c=window.document,d=window[a];if(c&&"function"==typeof c.createElement)try{let b=c.createElement("iframe");b.hidden=!0,c.head.appendChild(b);let e=b.contentWindow;e&&e[a]&&(d=e[a]),c.head.removeChild(b)}catch(a){}return h5[a]=d.bind(window)}function h7(...a){return h6("requestAnimationFrame")(...a)}function h8(...a){return h6("setTimeout")(...a)}var h9=((E=h9||{})[E["2D"]=0]="2D",E[E.WebGL=1]="WebGL",E[E.WebGL2=2]="WebGL2",E);let ia=a=>q?(...b)=>{try{return a(...b)}catch(a){if(q&&!0===q(a))return()=>{};throw a}}:a;for(var ib="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ic="undefined"==typeof Uint8Array?[]:new Uint8Array(256),id=0;id<ib.length;id++)ic[ib.charCodeAt(id)]=id;var ie=function(a){var b,c=new Uint8Array(a),d=c.length,e="";for(b=0;b<d;b+=3)e+=ib[c[b]>>2],e+=ib[(3&c[b])<<4|c[b+1]>>4],e+=ib[(15&c[b+1])<<2|c[b+2]>>6],e+=ib[63&c[b+2]];return d%3==2?e=e.substring(0,e.length-1)+"=":d%3==1&&(e=e.substring(0,e.length-2)+"=="),e};let ig=new Map,ih=(a,b,c)=>{let d;if(!a||!(ij(a,b)||"object"==typeof a))return;let e=a.constructor.name,f=((d=ig.get(c))||(d=new Map,ig.set(c,d)),d.has(e)||d.set(e,[]),d.get(e)),g=f.indexOf(a);return -1===g&&(g=f.length,f.push(a)),g},ii=(a,b,c)=>a.map(a=>(function a(b,c,d){if(b instanceof Array)return b.map(b=>a(b,c,d));if(null===b);else if(b instanceof Float32Array||b instanceof Float64Array||b instanceof Int32Array||b instanceof Uint32Array||b instanceof Uint8Array||b instanceof Uint16Array||b instanceof Int16Array||b instanceof Int8Array||b instanceof Uint8ClampedArray)return{rr_type:b.constructor.name,args:[Object.values(b)]};else if(b instanceof ArrayBuffer)return{rr_type:b.constructor.name,base64:ie(b)};else if(b instanceof DataView)return{rr_type:b.constructor.name,args:[a(b.buffer,c,d),b.byteOffset,b.byteLength]};else if(b instanceof HTMLImageElement){let a=b.constructor.name,{src:c}=b;return{rr_type:a,src:c}}else if(b instanceof HTMLCanvasElement)return{rr_type:"HTMLImageElement",src:b.toDataURL()};else if(b instanceof ImageData)return{rr_type:b.constructor.name,args:[a(b.data,c,d),b.width,b.height]};else if(ij(b,c)||"object"==typeof b)return{rr_type:b.constructor.name,index:ih(b,c,d)};return b})(a,b,c)),ij=(a,b)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(a=>"function"==typeof b[a]).find(c=>a instanceof b[c]);function ik(a,b,c,d,e){let f=[];try{let g=h3(a.HTMLCanvasElement.prototype,"getContext",function(a){return function(f,...g){if(!h4(this,b,c,d,!0)){let a="experimental-webgl"===f?"webgl":f;if("__context"in this||(this.__context=a),e&&["webgl","webgl2"].includes(a))if(g[0]&&"object"==typeof g[0]){let a=g[0];a.preserveDrawingBuffer||(a.preserveDrawingBuffer=!0)}else g.splice(0,1,{preserveDrawingBuffer:!0})}return a.apply(this,[f,...g])}});f.push(g)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{f.forEach(a=>a())}}function il(a,b,c,d,e,f,g,h){let i=[];for(let g of Object.getOwnPropertyNames(a))if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(g))try{if("function"!=typeof a[g])continue;let j=h3(a,g,function(a){return function(...i){let j=a.apply(this,i);if(ih(j,h,this),"tagName"in this.canvas&&!h4(this.canvas,d,e,f,!0)){let a=ii(i,h,this),d={type:b,property:g,args:a};c(this.canvas,d)}return j}});i.push(j)}catch{let d=h2(a,g,{set(a){c(this.canvas,{type:b,property:g,args:[a],setter:!0})}});i.push(d)}return i}class im{constructor(a){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.shadowDoms=new Set,this.windowsSet=new WeakSet,this.windows=[],this.restoreHandlers=[],this.frozen=!1,this.locked=!1,this.snapshotInProgressMap=new Map,this.worker=null,this.lastSnapshotTime=0,this.processMutation=(a,b)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(a)||this.pendingCanvasMutations.set(a,[]),this.pendingCanvasMutations.get(a).push(b)};const{enableManualSnapshot:b,sampling:c="all",win:d,recordCanvas:e,errorHandler:f}=a;if(a.sampling=c,this.mutationCb=a.mutationCb,this.mirror=a.mirror,this.options=a,f&&(q=f),(e&&"number"==typeof c||b)&&(this.worker=this.initFPSWorker()),this.addWindow(d),b)return;ia(()=>{e&&"all"===c&&(this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher()),e&&"number"==typeof c&&this.initCanvasFPSObserver()})()}reset(){this.pendingCanvasMutations.clear(),this.restoreHandlers.forEach(a=>{try{a()}catch(a){}}),this.restoreHandlers=[],this.windowsSet=new WeakSet,this.windows=[],this.shadowDoms=new Set,this.worker?.terminate(),this.worker=null,this.snapshotInProgressMap=new Map}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}addWindow(a){let{sampling:b="all",blockClass:c,blockSelector:d,unblockSelector:e,recordCanvas:f,enableManualSnapshot:g}=this.options;if(!this.windowsSet.has(a)){if(g){this.windowsSet.add(a),this.windows.push(new WeakRef(a));return}ia(()=>{if(f&&"all"===b&&this.initCanvasMutationObserver(a,c,d,e),f&&"number"==typeof b){let b=ik(a,c,d,e,!0);this.restoreHandlers.push(()=>{b()})}})(),this.windowsSet.add(a),this.windows.push(new WeakRef(a))}}addShadowRoot(a){this.shadowDoms.add(new WeakRef(a))}resetShadowRoots(){this.shadowDoms=new Set}snapshot(a,b){b?.skipRequestAnimationFrame?this.takeSnapshot(performance.now(),!0,a):h7(b=>this.takeSnapshot(b,!0,a))}initFPSWorker(){let a,b=new Worker((a=new Blob(['for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w?.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};']),URL.createObjectURL(a)));return b.onmessage=a=>{let b=a.data,{id:c}=b;if(this.snapshotInProgressMap.set(c,!1),!("base64"in b))return;let{base64:d,type:e,width:f,height:g}=b;this.mutationCb({id:c,type:h9["2D"],commands:[{property:"clearRect",args:[0,0,f,g]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:d}],type:e}]},0,0,f,g]}]})},b}initCanvasFPSObserver(){let a;if(!this.windows.length&&!this.shadowDoms.size)return;let b=c=>{this.takeSnapshot(c,!1),a=h7(b)};a=h7(b),this.restoreHandlers.push(()=>{a&&cancelAnimationFrame(a)})}initCanvasMutationObserver(a,b,c,d){var e,f;let g,h=ik(a,b,c,d,!1),i=function(a,b,c,d,e){let f=[];for(let g of Object.getOwnPropertyNames(b.CanvasRenderingContext2D.prototype))try{if("function"!=typeof b.CanvasRenderingContext2D.prototype[g])continue;let h=h3(b.CanvasRenderingContext2D.prototype,g,function(f){return function(...h){return h4(this.canvas,c,d,e,!0)||h8(()=>{let c=ii(h,b,this);a(this.canvas,{type:h9["2D"],property:g,args:c})},0),f.apply(this,h)}});f.push(h)}catch{let c=h2(b.CanvasRenderingContext2D.prototype,g,{set(b){a(this.canvas,{type:h9["2D"],property:g,args:[b],setter:!0})}});f.push(c)}return()=>{f.forEach(a=>a())}}(this.processMutation.bind(this),a,b,c,d),j=(e=this.processMutation.bind(this),f=this.mirror,(g=[]).push(...il(a.WebGLRenderingContext.prototype,h9.WebGL,e,b,c,d,f,a)),void 0!==a.WebGL2RenderingContext&&g.push(...il(a.WebGL2RenderingContext.prototype,h9.WebGL2,e,b,c,d,f,a)),()=>{g.forEach(a=>a())});this.restoreHandlers.push(()=>{h(),i(),j()})}getCanvasElements(a,b,c){let d=[],e=e=>{e.querySelectorAll("canvas").forEach(e=>{h4(e,a,b,c,!0)||d.push(e)})};for(let a of this.windows){let b,c=a.deref();try{b=c&&c.document}catch{}b&&e(b)}for(let a of this.shadowDoms){let b=a.deref();b&&e(b)}return d}takeSnapshot(a,b,c){let{sampling:d,blockClass:e,blockSelector:f,unblockSelector:g,dataURLOptions:h,maxCanvasSize:i}=this.options;return(!this.lastSnapshotTime||!(a-this.lastSnapshotTime<1e3/("all"===d?2:d||2)))&&(this.lastSnapshotTime=a,(c?[c]:this.getCanvasElements(e,f,g)).forEach(a=>{let c=this.mirror.getId(a);if(!(!this.mirror.hasNode(a)||!a.width||!a.height||this.snapshotInProgressMap.get(c))){if(this.snapshotInProgressMap.set(c,!0),!b&&["webgl","webgl2"].includes(a.__context)){let b=a.getContext(a.__context);b?.getContextAttributes()?.preserveDrawingBuffer===!1&&b.clear(b.COLOR_BUFFER_BIT)}createImageBitmap(a).then(b=>{this.worker?.postMessage({id:c,bitmap:b,width:a.width,height:a.height,dataURLOptions:h,maxCanvasSize:i},[b])}).catch(a=>{ia(()=>{throw this.snapshotInProgressMap.delete(c),a})()})}}),!0)}startPendingCanvasMutationFlusher(){h7(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){let a=b=>{this.rafStamps.latestId=b,h7(a)};h7(a)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((a,b)=>{let c=this.mirror.getId(b);this.flushPendingCanvasMutationFor(b,c)}),h7(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(a,b){if(this.frozen||this.locked)return;let c=this.pendingCanvasMutations.get(a);if(!c||-1===b)return;let d=c.map(a=>{let{type:b,...c}=a;return c}),{type:e}=c[0];this.mutationCb({id:b,type:e,commands:d}),this.pendingCanvasMutations.delete(a)}}try{if(2!==Array.from([1],a=>2*a)[0]){let a=document.createElement("iframe");document.body.appendChild(a),Array.from=a.contentWindow?.Array.from||Array.from,document.body.removeChild(a)}}catch(a){console.debug("Unable to override Array.from",a)}new class a{constructor(){h_(this,"idNodeMap",new Map),h_(this,"nodeMetaMap",new WeakMap)}getId(a){return a?this.getMeta(a)?.id??-1:-1}getNode(a){return this.idNodeMap.get(a)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(a){return this.nodeMetaMap.get(a)||null}removeNodeFromMap(a){let b=this.getId(a);this.idNodeMap.delete(b),a.childNodes&&a.childNodes.forEach(a=>this.removeNodeFromMap(a))}has(a){return this.idNodeMap.has(a)}hasNode(a){return this.nodeMetaMap.has(a)}add(a,b){let c=b.id;this.idNodeMap.set(c,a),this.nodeMetaMap.set(a,b)}replace(a,b){let c=this.getNode(a);if(c){let a=this.nodeMetaMap.get(c);a&&this.nodeMetaMap.set(b,a)}this.idNodeMap.set(a,b)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}},(F=H||(H={}))[F.NotStarted=0]="NotStarted",F[F.Running=1]="Running",F[F.Stopped=2]="Stopped";let io={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},ip=(0,O.defineIntegration)((a={})=>{let b,[c,d]=a.maxCanvasSize||[],e={quality:a.quality||"medium",enableManualSnapshot:a.enableManualSnapshot,maxCanvasSize:[c?Math.min(c,1280):1280,d?Math.min(d,1280):1280]},f=new Promise(a=>b=a);return{name:"ReplayCanvas",getOptions(){let{quality:a,enableManualSnapshot:c,maxCanvasSize:d}=e;return{enableManualSnapshot:c,recordCanvas:!0,getCanvasManager:a=>{let e=new im({...a,enableManualSnapshot:c,maxCanvasSize:d,errorHandler:a=>{try{"object"==typeof a&&(a.__rrweb__=!0)}catch{}}});return b(e),e},...io[a]||io.medium}},async snapshot(a,b){(await f).snapshot(a,b)}}});var iq=a.i(30682),ir=a.i(40925),is=a.i(16455);function it(a){return a.split(",").some(a=>a.trim().startsWith(ir.SENTRY_BAGGAGE_KEY_PREFIX))}function iu(a){return"number"==typeof a&&isFinite(a)}function iv(a,b,c,{...d}){let e=(0,bZ.spanToJSON)(a).start_timestamp;return e&&e>b&&"function"==typeof a.updateStartTime&&a.updateStartTime(b),(0,bR.withActiveSpan)(a,()=>{let a=(0,bR.startInactiveSpan)({startTime:b,...d});return a&&a.end(c),a})}function iw(a){let b,c=(0,J.getClient)();if(!c)return;let{name:d,transaction:e,attributes:f,startTime:g}=a,{release:h,environment:i,sendDefaultPii:j}=c.getOptions(),k=c.getIntegrationByName("Replay"),l=k?.getReplayId(),m=(0,J.getCurrentScope)(),n=m.getUser(),o=void 0!==n?n.email||n.id||n.ip_address:void 0;try{b=m.getScopeData().contexts.profile.profile_id}catch{}let p={release:h,environment:i,user:o||void 0,profile_id:b||void 0,replay_id:l||void 0,transaction:e,"user_agent.original":cW.navigator?.userAgent,"client.address":j?"{{auto}}":void 0,...f};return(0,bR.startInactiveSpan)({name:d,attributes:p,startTime:g,experimental:{standalone:!0}})}function ix(){return cW.addEventListener&&cW.performance}function iy(a){return a/1e3}function iz(a){try{return PerformanceObserver.supportedEntryTypes.includes(a)}catch{return!1}}function iA(a,b){let c,d=!1;function e(a){!d&&c&&b(a,c),d=!0}eM(()=>{e("pagehide")});let f=a.on("beforeStartNavigationSpan",(a,b)=>{b?.isRedirect||(e("navigation"),f(),g())}),g=a.on("afterStartPageLoadSpan",a=>{c=a.spanContext().spanId,g()})}function iB(a){return a?(((0,dj.browserPerformanceTimeOrigin)()||performance.timeOrigin)+a)/1e3:a}function iC(a){let b={};if(void 0!=a.nextHopProtocol){let{name:c,version:d}=function(a){let b="unknown",c="unknown",d="";for(let e of a){if("/"===e){[b,c]=a.split("/");break}if(!isNaN(Number(e))){b="h"===d?"http":d,c=a.split(d)[1];break}d+=e}return d===a&&(b=d),{name:b,version:c}}(a.nextHopProtocol);b["network.protocol.version"]=d,b["network.protocol.name"]=c}return(0,dj.browserPerformanceTimeOrigin)()||ix()?.timeOrigin?Object.fromEntries(Object.entries({...b,"http.request.redirect_start":iB(a.redirectStart),"http.request.redirect_end":iB(a.redirectEnd),"http.request.worker_start":iB(a.workerStart),"http.request.fetch_start":iB(a.fetchStart),"http.request.domain_lookup_start":iB(a.domainLookupStart),"http.request.domain_lookup_end":iB(a.domainLookupEnd),"http.request.connect_start":iB(a.connectStart),"http.request.secure_connection_start":iB(a.secureConnectionStart),"http.request.connection_end":iB(a.connectEnd),"http.request.request_start":iB(a.requestStart),"http.request.response_start":iB(a.responseStart),"http.request.response_end":iB(a.responseEnd),"http.request.time_to_first_byte":null!=a.responseStart?a.responseStart/1e3:void 0}).filter(([,a])=>null!=a)):b}function iD(a){try{return new URL(a,bE.location.origin).href}catch{return}}function iE(a){try{return new Headers(a)}catch{return}}let iF=new WeakMap,iG=new Map,iH={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function iI(a,b){let{traceFetch:c,traceXHR:d,trackFetchStreamPerformance:e,shouldCreateSpanForRequest:f,enableHTTPTimings:g,tracePropagationTargets:h,onRequestSpanStart:i,onRequestSpanEnd:j}={...iH,...b},k="function"==typeof f?f:a=>!0,l=a=>(function(a,b){let c=(0,L.getLocationHref)();if(c){let d,e;try{d=new URL(a,c),e=new URL(c).origin}catch{return!1}let f=d.origin===e;return b?(0,ds.stringMatchesSomePattern)(d.toString(),b)||f&&(0,ds.stringMatchesSomePattern)(d.pathname,b):f}{let c=!!a.match(/^\/(?!\/)/);return b?(0,ds.stringMatchesSomePattern)(a,b):c}})(a,h),m={},n=a.getOptions().propagateTraceparent;c&&(a.addEventProcessor(a=>("transaction"===a.type&&a.spans&&a.spans.forEach(a=>{if("http.client"===a.op){let b=iG.get(a.span_id);b&&(a.timestamp=b/1e3,iG.delete(a.span_id))}}),a)),e&&((0,dk.addHandler)("fetch-body-resolved",a=>{if(a.response){let b=iF.get(a.response);b&&a.endTimestamp&&iG.set(b,a.endTimestamp)}}),(0,dk.maybeInstrument)("fetch-body-resolved",()=>dm(dp))),dl(a=>{let b=function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o;let p,q;if(!a.fetchData)return;let{method:r,url:s}=a.fetchData,t=(0,iq.hasSpansEnabled)()&&b(s);if(a.endTimestamp&&t){let b,c=a.fetchData.__span;if(!c)return;let i=d[c];i&&(function(a,b){if(b.response){(0,b$.setHttpStatus)(a,b.response.status);let c=b.response?.headers?.get("content-length");if(c){let b=parseInt(c);b>0&&a.setAttribute("http.response_content_length",b)}}else b.error&&a.setStatus({code:b$.SPAN_STATUS_ERROR,message:"internal_error"});a.end()}(i,a),f=i,g=a,b="object"==typeof(h=e)&&null!==h?h.onRequestSpanEnd:void 0,b?.(f,{headers:g.response?.headers,error:g.error}),delete d[c]);return}let{spanOrigin:u="auto.http.browser",propagateTraceparent:v=!1}="object"==typeof e?e:{spanOrigin:e},w=!!(0,bZ.getActiveSpan)(),x=t&&w?(0,bR.startInactiveSpan)((i=s,j=r,k=u,{name:(p=(0,dv.parseStringToURLObject)(i))?`${j} ${(0,dv.getSanitizedUrlStringFromUrlObject)(p)}`:j,attributes:(l=i,m=p,n=j,o=k,q={url:l,type:"fetch","http.method":n,[bM.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:o,[bM.SEMANTIC_ATTRIBUTE_SENTRY_OP]:"http.client"},m&&((0,dv.isURLObjectRelative)(m)||(q["http.url"]=m.href,q["server.address"]=m.host),m.search&&(q["http.query"]=m.search),m.hash&&(q["http.fragment"]=m.hash)),q)})):new is.SentryNonRecordingSpan;if(a.fetchData.__span=x.spanContext().spanId,d[x.spanContext().spanId]=x,c(a.fetchData.url)){let b=a.args[0],c=a.args[1]||{},d=function(a,b,c,d){var e;let f=(0,b_.getTraceData)({span:c,propagateTraceparent:d}),g=f["sentry-trace"],h=f.baggage,i=f.traceparent;if(!g)return;let j=b.headers||((0,cD.isRequest)(a)?a.headers:void 0);if(!j)return{...f};if(e=j,"undefined"!=typeof Headers&&(0,cD.isInstanceOf)(e,Headers)){let a=new Headers(j);if(a.get("sentry-trace")||a.set("sentry-trace",g),d&&i&&!a.get("traceparent")&&a.set("traceparent",i),h){let b=a.get("baggage");b?it(b)||a.set("baggage",`${b},${h}`):a.set("baggage",h)}return a}if(Array.isArray(j)){let a=[...j];j.find(a=>"sentry-trace"===a[0])||a.push(["sentry-trace",g]),d&&i&&!j.find(a=>"traceparent"===a[0])&&a.push(["traceparent",i]);let b=j.find(a=>"baggage"===a[0]&&it(a[1]));return h&&!b&&a.push(["baggage",h]),a}{let a="sentry-trace"in j?j["sentry-trace"]:void 0,b="traceparent"in j?j.traceparent:void 0,c="baggage"in j?j.baggage:void 0,e=c?Array.isArray(c)?[...c]:[c]:[],f=c&&(Array.isArray(c)?c.find(a=>it(a)):it(c));h&&!f&&e.push(h);let k={...j,"sentry-trace":a??g,baggage:e.length>0?e.join(","):void 0};return d&&i&&!b&&(k.traceparent=i),k}}(b,c,(0,iq.hasSpansEnabled)()&&w?x:void 0,v);d&&(a.args[1]=c,c.headers=d)}let y=(0,J.getClient)();if(y){let b={input:a.args,response:a.response,startTimestamp:a.startTimestamp,endTimestamp:a.endTimestamp};y.emit("beforeOutgoingRequestSpan",x,b)}return x}(a,k,l,m,{propagateTraceparent:n,onRequestSpanEnd:j});if(a.response&&a.fetchData.__span&&iF.set(a.response,a.fetchData.__span),b){let c=iD(a.fetchData.url),d=c?(0,dv.parseUrl)(c).host:void 0;b.setAttributes({"http.url":c,"server.address":d}),g&&iJ(b),i?.(b,{headers:a.headers})}}));d&&dA(a=>{let b=function(a,b,c,d,e,f){let g=a.xhr,h=g?.[dz];if(!g||g.__sentry_own_request__||!h)return;let{url:i,method:j}=h,k=(0,iq.hasSpansEnabled)()&&b(i);if(a.endTimestamp&&k){let b=g.__sentry_xhr_span_id__;if(!b)return;let c=d[b];c&&void 0!==h.status_code&&((0,b$.setHttpStatus)(c,h.status_code),c.end(),f?.(c,{headers:iE(ee(g)),error:a.error}),delete d[b]);return}let l=iD(i),m=l?(0,dv.parseUrl)(l):(0,dv.parseUrl)(i),n=(0,dv.stripUrlQueryAndFragment)(i),o=!!(0,bZ.getActiveSpan)(),p=k&&o?(0,bR.startInactiveSpan)({name:`${j} ${n}`,attributes:{url:i,type:"xhr","http.method":j,"http.url":l,"server.address":m?.host,[bM.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.http.browser",[bM.SEMANTIC_ATTRIBUTE_SENTRY_OP]:"http.client",...m?.search&&{"http.query":m?.search},...m?.hash&&{"http.fragment":m?.hash}}}):new is.SentryNonRecordingSpan;g.__sentry_xhr_span_id__=p.spanContext().spanId,d[g.__sentry_xhr_span_id__]=p,c(i)&&function(a,b,c){let{"sentry-trace":d,baggage:e,traceparent:f}=(0,b_.getTraceData)({span:b,propagateTraceparent:c});d&&function(a,b,c,d){let e=a.__sentry_xhr_v3__?.request_headers;if(!e?.["sentry-trace"]&&a.setRequestHeader)try{if(a.setRequestHeader("sentry-trace",b),d&&!e?.traceparent&&a.setRequestHeader("traceparent",d),c){let b=e?.baggage;b&&b.split(",").some(a=>a.trim().startsWith("sentry-"))||a.setRequestHeader("baggage",c)}}catch{}}(a,d,e,f)}(g,(0,iq.hasSpansEnabled)()&&o?p:void 0,e);let q=(0,J.getClient)();return q&&q.emit("beforeOutgoingRequestSpan",p,a),p}(a,k,l,m,n,j);b&&(g&&iJ(b),i?.(b,{headers:iE(a.xhr.__sentry_xhr_v3__?.request_headers)}))})}function iJ(a){let{url:b}=(0,bZ.spanToJSON)(a).data;if(!b||"string"!=typeof b)return;let c=eY("resource",({entries:d})=>{d.forEach(d=>{"resource"===d.entryType&&"initiatorType"in d&&"string"==typeof d.nextHopProtocol&&("fetch"===d.initiatorType||"xmlhttprequest"===d.initiatorType)&&d.name.endsWith(b)&&(a.setAttributes(iC(d)),setTimeout(c))})})}var iK=a.i(26584),iL=a.i(8146),iM=a.i(3674);let iN={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3};function iO(a,b={}){var c;let d,e,f=new Map,g=!1,h="externalFinish",i=!b.disableAutoFinish,j=[],{idleTimeout:k=iN.idleTimeout,finalTimeout:l=iN.finalTimeout,childSpanTimeout:m=iN.childSpanTimeout,beforeSpanEnd:n,trimIdleSpanEndTimestamp:o=!0}=b,p=(0,J.getClient)();if(!p||!(0,iq.hasSpansEnabled)()){let a=new is.SentryNonRecordingSpan,b={sample_rate:"0",sampled:"false",...(0,ct.getDynamicSamplingContextFromSpan)(a)};return(0,ct.freezeDscOnSpan)(a,b),a}let q=(0,J.getCurrentScope)(),r=(0,bZ.getActiveSpan)(),s=(c=a,d=(0,bR.startInactiveSpan)(c),(0,iL._setSpanForScope)((0,J.getCurrentScope)(),d),cR.DEBUG_BUILD&&N.debug.log("[Tracing] Started span is an idle span"),d);function t(){e&&(clearTimeout(e),e=void 0)}function u(a){t(),e=setTimeout(()=>{!g&&0===f.size&&i&&(h="idleTimeout",s.end(a))},k)}function v(a){e=setTimeout(()=>{!g&&i&&(h="heartbeatFailed",s.end(a))},m)}function w(a){g=!0,f.clear(),j.forEach(a=>a()),(0,iL._setSpanForScope)(q,r);let b=(0,bZ.spanToJSON)(s),{start_timestamp:c}=b;if(!c)return;b.data[bM.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON]||s.setAttribute(bM.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON,h);let d=b.status;d&&"unknown"!==d||s.setStatus({code:b$.SPAN_STATUS_OK}),N.debug.log(`[Tracing] Idle span "${b.op}" finished`);let e=(0,bZ.getSpanDescendants)(s).filter(a=>a!==s),i=0;e.forEach(b=>{b.isRecording()&&(b.setStatus({code:b$.SPAN_STATUS_ERROR,message:"cancelled"}),b.end(a),cR.DEBUG_BUILD&&N.debug.log("[Tracing] Cancelling span since span ended early",JSON.stringify(b,void 0,2)));let{timestamp:c=0,start_timestamp:d=0}=(0,bZ.spanToJSON)(b),e=d<=a,f=c-d<=(l+k)/1e3;if(cR.DEBUG_BUILD){let a=JSON.stringify(b,void 0,2);e?f||N.debug.log("[Tracing] Discarding span since it finished after idle span final timeout",a):N.debug.log("[Tracing] Discarding span since it happened after idle span was finished",a)}(!f||!e)&&((0,bZ.removeChildSpanFromSpan)(s,b),i++)}),i>0&&s.setAttribute("sentry.idle_span_discarded_spans",i)}return s.end=new Proxy(s.end,{apply(a,b,c){if(n&&n(s),b instanceof is.SentryNonRecordingSpan)return;let[d,...e]=c,f=d||(0,dj.timestampInSeconds)(),g=(0,bZ.spanTimeInputToSeconds)(f),h=(0,bZ.getSpanDescendants)(s).filter(a=>a!==s),i=(0,bZ.spanToJSON)(s);if(!h.length||!o)return w(g),Reflect.apply(a,b,[g,...e]);let j=p.getOptions().ignoreSpans,k=h?.reduce((a,b)=>{let c=(0,bZ.spanToJSON)(b);return!c.timestamp||j&&(0,iK.shouldIgnoreSpan)(c,j)?a:a?Math.max(a,c.timestamp):c.timestamp},void 0),m=i.start_timestamp,q=Math.min(m?m+l/1e3:1/0,Math.max(m||-1/0,Math.min(g,k||1/0)));return w(q),Reflect.apply(a,b,[q,...e])}}),j.push(p.on("spanStart",a=>{var b;!(g||a===s||(0,bZ.spanToJSON)(a).timestamp||a instanceof iM.SentrySpan&&a.isStandaloneSpan())&&(0,bZ.getSpanDescendants)(s).includes(a)&&(b=a.spanContext().spanId,t(),f.set(b,!0),v((0,dj.timestampInSeconds)()+m/1e3))})),j.push(p.on("spanEnd",a=>{if(!g){var b;b=a.spanContext().spanId,f.has(b)&&f.delete(b),0===f.size&&u((0,dj.timestampInSeconds)()+k/1e3)}})),j.push(p.on("idleSpanEnableAutoFinish",a=>{a===s&&(i=!0,u(),f.size&&v())})),b.disableAutoFinish||u(),setTimeout(()=>{g||(s.setStatus({code:b$.SPAN_STATUS_ERROR,message:"deadline_exceeded"}),h="finalTimeout",s.end())},l),s}var iP=a.i(64296),iQ=a.i(71389);let iR=[],iS=new Map,iT=new Map,iU={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"},iV=({metric:a})=>{if(void 0==a.value)return;let b=iy(a.value);if(b>60)return;let c=a.entries.find(b=>b.duration===a.value&&iU[b.name]);if(!c)return;let{interactionId:d}=c,e=iU[c.name],f=iy((0,dj.browserPerformanceTimeOrigin)()+c.startTime),g=(0,bZ.getActiveSpan)(),h=g?(0,bZ.getRootSpan)(g):void 0,i=null!=d?iS.get(d):void 0,j=i?.span||h,k=j?(0,bZ.spanToJSON)(j).description:(0,J.getCurrentScope)().getScopeData().transactionName,l=iw({name:i?.elementName||(0,L.htmlTreeAsString)(c.target),transaction:k,attributes:{[bM.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.http.browser.inp",[bM.SEMANTIC_ATTRIBUTE_SENTRY_OP]:`ui.interaction.${e}`,[bM.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME]:c.duration},startTime:f});l&&(l.addEvent("inp",{[bM.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT]:"millisecond",[bM.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE]:a.value}),l.end(f+b))},iW=0,iX={};function iY(a,b,c,d,e=c){var f;let g=b["secureConnection"===(f=c)?"connectEnd":"fetch"===f?"domainLookupStart":`${f}End`],h=b[`${c}Start`];h&&g&&iv(a,d+iy(h),d+iy(g),{op:`browser.${e}`,name:b.name,attributes:{[bM.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics",..."redirect"===c&&null!=b.redirectCount?{"http.redirect_count":b.redirectCount}:{}}})}let iZ=({entries:a})=>{let b=(0,bZ.getActiveSpan)(),c=b?(0,bZ.getRootSpan)(b):void 0,d=c?(0,bZ.spanToJSON)(c).description:(0,J.getCurrentScope)().getScopeData().transactionName;a.forEach(a=>{if(!a.identifier)return;let b=a.name,c=a.renderTime,e=a.loadTime,[f,g]=e?[iy(e),"load-time"]:c?[iy(c),"render-time"]:[(0,dj.timestampInSeconds)(),"entry-emission"],h="image-paint"===b?iy(Math.max(0,(c??0)-(e??0))):0,i={[bM.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.elementtiming",[bM.SEMANTIC_ATTRIBUTE_SENTRY_OP]:"ui.elementtiming",[bM.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:"component","sentry.span_start_time_source":g,"sentry.transaction_name":d,"element.id":a.id,"element.type":a.element?.tagName?.toLowerCase()||"unknown","element.size":a.naturalWidth&&a.naturalHeight?`${a.naturalWidth}x${a.naturalHeight}`:void 0,"element.render_time":c,"element.load_time":e,"element.url":a.url||void 0,"element.identifier":a.identifier,"element.paint_type":b};(0,bR.startSpan)({name:`element[${a.identifier}]`,attributes:i,startTime:f,onlyIfParent:!0},a=>{a.end(f+h)})})},i$="sentry_previous_trace";function i_(a){return 1===a.traceFlags}let i0={...iN,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,enableReportPageLoaded:!1,_experiments:{},...iH},i1=(a={})=>{let b,c,d,e={name:void 0,source:void 0},f=bE.document,{enableInp:g,enableElementTiming:h,enableLongTask:j,enableLongAnimationFrame:k,_experiments:{enableInteractions:l,enableStandaloneClsSpans:m,enableStandaloneLcpSpans:n},beforeStartSpan:o,idleTimeout:p,finalTimeout:q,childSpanTimeout:t,markBackgroundSpan:u,traceFetch:v,traceXHR:w,trackFetchStreamPerformance:x,shouldCreateSpanForRequest:y,enableHTTPTimings:z,ignoreResourceSpans:A,ignorePerformanceApiSpans:B,instrumentPageLoad:C,instrumentNavigation:D,detectRedirects:E,linkPreviousTrace:F,consistentTraceSampling:G,enableReportPageLoaded:H,onRequestSpanStart:K,onRequestSpanEnd:O}={...i0,...a};function P(a,c,g=!0){let h="pageload"===c.op,i=c.name,j=o?o(c):c,k=j.attributes||{};if(i!==j.name&&(k[bM.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]="custom",j.attributes=k),!g){let a=(0,dj.dateTimestampInSeconds)();(0,bR.startInactiveSpan)({...j,startTime:a}).end(a);return}e.name=j.name,e.source=k[bM.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE];let l=iO(j,{idleTimeout:p,finalTimeout:q,childSpanTimeout:t,disableAutoFinish:h,beforeSpanEnd:c=>{b?.(),function(a,b){var c,d;let e=ix(),f=(0,dj.browserPerformanceTimeOrigin)();if(!e?.getEntries||!f)return;let g=iy(f),h=e.getEntries(),{op:i,start_timestamp:j}=(0,bZ.spanToJSON)(a);h.slice(iW).forEach(c=>{let d=iy(c.startTime),e=iy(Math.max(0,c.duration));if("navigation"!==i||!j||!(g+d<j))switch(c.entryType){case"navigation":var f,h,k,l,m,n;let o,p,q;f=a,h=c,k=g,["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(a=>{iY(f,h,a,k)}),iY(f,h,"secureConnection",k,"TLS/SSL"),iY(f,h,"fetch",k,"cache"),iY(f,h,"domainLookup",k,"DNS"),l=f,m=h,o=(n=k)+iy(m.requestStart),p=n+iy(m.responseEnd),q=n+iy(m.responseStart),m.responseEnd&&(iv(l,o,p,{op:"browser.request",name:m.name,attributes:{[bM.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}}),iv(l,q,p,{op:"browser.response",name:m.name,attributes:{[bM.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}}));break;case"mark":case"paint":case"measure":{!function(a,b,c,d,e,f){if(function(a){if(a?.entryType==="measure")try{return"Components "===a.detail.devtools.track}catch{return}}(b)||["mark","measure"].includes(b.entryType)&&(0,ds.stringMatchesSomePattern)(b.name,f))return;let g=eo(!1),h=e+Math.max(c,iy(g?g.requestStart:0)),i=e+c,j=i+d,k={[bM.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.resource.browser.metrics"};h!==i&&(k["sentry.browser.measure_happened_before_request"]=!0,k["sentry.browser.measure_start_time"]=h),function(a,b){try{let c=b.detail;if(!c)return;if("object"==typeof c){for(let[b,d]of Object.entries(c))if(d&&(0,cD.isPrimitive)(d))a[`sentry.browser.measure.detail.${b}`]=d;else if(void 0!==d)try{a[`sentry.browser.measure.detail.${b}`]=JSON.stringify(d)}catch{}return}if((0,cD.isPrimitive)(c)){a["sentry.browser.measure.detail"]=c;return}try{a["sentry.browser.measure.detail"]=JSON.stringify(c)}catch{}}catch{}}(k,b),h<=j&&iv(a,h,j,{name:b.name,op:b.entryType,attributes:k})}(a,c,d,e,g,b.ignorePerformanceApiSpans);let f=ev(),h=c.startTime<f.firstHiddenTime;"first-paint"===c.name&&h&&(iX.fp={value:c.startTime,unit:"millisecond"}),"first-contentful-paint"===c.name&&h&&(iX.fcp={value:c.startTime,unit:"millisecond"});break}case"resource":!function(a,b,c,d,e,f,g){var h,i;if("xmlhttprequest"===b.initiatorType||"fetch"===b.initiatorType)return;let j=b.initiatorType?`resource.${b.initiatorType}`:"resource.other";if(g?.includes(j))return;let k={[bM.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.resource.browser.metrics"},l=(0,dv.parseUrl)(c);l.protocol&&(k["url.scheme"]=l.protocol.split(":").pop()),l.host&&(k["server.address"]=l.host),k["url.same_origin"]=c.includes(cW.location.origin),h=b,i=k,[["responseStatus","http.response.status_code"],["transferSize","http.response_transfer_size"],["encodedBodySize","http.response_content_length"],["decodedBodySize","http.decoded_response_content_length"],["renderBlockingStatus","resource.render_blocking_status"],["deliveryType","http.response_delivery_type"]].forEach(([a,b])=>{let c=h[a];null!=c&&("number"==typeof c&&c<0x7fffffff||"string"==typeof c)&&(i[b]=c)});let m={...k,...iC(b)},n=f+d;iv(a,n,n+e,{name:c.replace(cW.location.origin,""),op:j,attributes:m})}(a,c,c.name,d,e,g,b.ignoreResourceSpans)}}),iW=Math.max(h.length-1,0),function(a){let b=cW.navigator;if(!b)return;let c=b.connection;c&&(c.effectiveType&&a.setAttribute("effectiveConnectionType",c.effectiveType),c.type&&a.setAttribute("connectionType",c.type),iu(c.rtt)&&(iX["connection.rtt"]={value:c.rtt,unit:"millisecond"})),iu(b.deviceMemory)&&a.setAttribute("deviceMemory",`${b.deviceMemory} GB`),iu(b.hardwareConcurrency)&&a.setAttribute("hardwareConcurrency",String(b.hardwareConcurrency))}(a),"pageload"===i&&(function(a){let b=eo(!1);if(!b)return;let{responseStart:c,requestStart:d}=b;d<=c&&(a["ttfb.requestTime"]={value:c-d,unit:"millisecond"})}(iX),b.recordClsOnPageloadSpan||delete iX.cls,b.recordLcpOnPageloadSpan||delete iX.lcp,Object.entries(iX).forEach(([a,b])=>{(0,cs.setMeasurement)(a,b.value,b.unit)}),a.setAttribute("performance.timeOrigin",g),a.setAttribute("performance.activationStart",ep()),c=a,d=b,r&&d.recordLcpOnPageloadSpan&&(r.element&&c.setAttribute("lcp.element",(0,L.htmlTreeAsString)(r.element)),r.id&&c.setAttribute("lcp.id",r.id),r.url&&c.setAttribute("lcp.url",r.url.trim().slice(0,200)),null!=r.loadTime&&c.setAttribute("lcp.loadTime",r.loadTime),null!=r.renderTime&&c.setAttribute("lcp.renderTime",r.renderTime),c.setAttribute("lcp.size",r.size)),s?.sources&&d.recordClsOnPageloadSpan&&s.sources.forEach((a,b)=>c.setAttribute(`cls.source.${b+1}`,(0,L.htmlTreeAsString)(a.node)))),r=void 0,s=void 0,iX={}}(c,{recordClsOnPageloadSpan:!m,recordLcpOnPageloadSpan:!n,ignoreResourceSpans:A,ignorePerformanceApiSpans:B}),i6(a,void 0);let e=(0,J.getCurrentScope)(),f=e.getPropagationContext();e.setPropagationContext({...f,traceId:l.spanContext().traceId,sampled:(0,bZ.spanIsSampled)(l),dsc:(0,ct.getDynamicSamplingContextFromSpan)(c)}),h&&(d=void 0)},trimIdleSpanEndTimestamp:!H});function u(){f&&["interactive","complete"].includes(f.readyState)&&a.emit("idleSpanEnableAutoFinish",l)}h&&H&&(d=l),i6(a,l),h&&!H&&f&&(f.addEventListener("readystatechange",()=>{u()}),u())}return{name:"BrowserTracing",setup(a){if((0,cp.registerSpanErrorInstrumentation)(),b=function({recordClsStandaloneSpans:a,recordLcpStandaloneSpans:b,client:c}){let d=ix();if(d&&(0,dj.browserPerformanceTimeOrigin)()){d.mark&&cW.performance.mark("sentry-tracing-init");let e=b?function(a){let b,c=0;if(!iz("largest-contentful-paint"))return;let d=eW(({metric:a})=>{let d=a.entries[a.entries.length-1];d&&(c=a.value,b=d)},!0);iA(a,(a,e)=>{var f,g,h,i;let j,k,l,m,n;f=c,g=b,h=e,i=a,cV&&N.debug.log(`Sending LCP span (${f})`),j=iy(((0,dj.browserPerformanceTimeOrigin)()||0)+(g?.startTime||0)),k=(0,J.getCurrentScope)().getScopeData().transactionName,l=g?(0,L.htmlTreeAsString)(g.element):"Largest contentful paint",m={[bM.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.http.browser.lcp",[bM.SEMANTIC_ATTRIBUTE_SENTRY_OP]:"ui.webvital.lcp",[bM.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME]:0,"sentry.pageload.span_id":h,"sentry.report_event":i},g&&(g.element&&(m["lcp.element"]=(0,L.htmlTreeAsString)(g.element)),g.id&&(m["lcp.id"]=g.id),g.url&&(m["lcp.url"]=g.url),null!=g.loadTime&&(m["lcp.loadTime"]=g.loadTime),null!=g.renderTime&&(m["lcp.renderTime"]=g.renderTime),null!=g.size&&(m["lcp.size"]=g.size)),(n=iw({name:l,transaction:k,attributes:m,startTime:j}))&&(n.addEvent("lcp",{[bM.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT]:"millisecond",[bM.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE]:f}),n.end(j)),d()})}(c):eW(({metric:a})=>{let b=a.entries[a.entries.length-1];b&&(iX.lcp={value:a.value,unit:"millisecond"},r=b)},!0),f=e2("ttfb",({metric:a})=>{a.entries[a.entries.length-1]&&(iX.ttfb={value:a.value,unit:"millisecond"})},e0,i),g=a?function(a){let b,c=0;if(!iz("layout-shift"))return;let d=eV(({metric:a})=>{let d=a.entries[a.entries.length-1];d&&(c=a.value,b=d)},!0);iA(a,(a,e)=>{var f,g,h,i;let j,k,l,m,n;f=c,g=b,h=e,i=a,cV&&N.debug.log(`Sending CLS span (${f})`),j=g?iy(((0,dj.browserPerformanceTimeOrigin)()||0)+g.startTime):(0,dj.timestampInSeconds)(),k=(0,J.getCurrentScope)().getScopeData().transactionName,l=g?(0,L.htmlTreeAsString)(g.sources[0]?.node):"Layout shift",m={[bM.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.http.browser.cls",[bM.SEMANTIC_ATTRIBUTE_SENTRY_OP]:"ui.webvital.cls",[bM.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME]:0,"sentry.pageload.span_id":h,"sentry.report_event":i},g?.sources&&g.sources.forEach((a,b)=>{m[`cls.source.${b+1}`]=(0,L.htmlTreeAsString)(a.node)}),(n=iw({name:l,transaction:k,attributes:m,startTime:j}))&&(n.addEvent("cls",{[bM.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT]:"",[bM.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE]:f}),n.end(j)),d()})}(c):eV(({metric:a})=>{let b=a.entries[a.entries.length-1];b&&(iX.cls={value:a.value,unit:""},s=b)},!0);return()=>{e?.(),f(),g?.()}}return()=>void 0}({recordClsStandaloneSpans:m||!1,recordLcpStandaloneSpans:n||!1,client:a}),g&&function(){if(ix()&&(0,dj.browserPerformanceTimeOrigin)()){let a=eX(iV);()=>{a()}}}(),h&&ix()&&(0,dj.browserPerformanceTimeOrigin)()&&eY("element",iZ),k&&I.GLOBAL_OBJ.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?new PerformanceObserver(a=>{let b=(0,bZ.getActiveSpan)();if(b)for(let c of a.getEntries()){if(!c.scripts[0])continue;let a=iy((0,dj.browserPerformanceTimeOrigin)()+c.startTime),{start_timestamp:d,op:e}=(0,bZ.spanToJSON)(b);if("navigation"===e&&d&&a<d)continue;let f=iy(c.duration),g={[bM.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"},{invoker:h,invokerType:i,sourceURL:j,sourceFunctionName:k,sourceCharPosition:l}=c.scripts[0];g["browser.script.invoker"]=h,g["browser.script.invoker_type"]=i,j&&(g["code.filepath"]=j),k&&(g["code.function"]=k),-1!==l&&(g["browser.script.source_char_position"]=l),iv(b,a,a+f,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:g})}}).observe({type:"long-animation-frame",buffered:!0}):j&&eY("longtask",({entries:a})=>{let b=(0,bZ.getActiveSpan)();if(!b)return;let{op:c,start_timestamp:d}=(0,bZ.spanToJSON)(b);for(let e of a){let a=iy((0,dj.browserPerformanceTimeOrigin)()+e.startTime),f=iy(e.duration);"navigation"===c&&d&&a<d||iv(b,a,a+f,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[bM.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}})}}),l&&eY("event",({entries:a})=>{let b=(0,bZ.getActiveSpan)();if(b){for(let c of a)if("click"===c.name){let a=iy((0,dj.browserPerformanceTimeOrigin)()+c.startTime),d=iy(c.duration),e={name:(0,L.htmlTreeAsString)(c.target),op:`ui.interaction.${c.name}`,startTime:a,attributes:{[bM.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}},f=(0,L.getComponentName)(c.target);f&&(e.attributes["ui.component_name"]=f),iv(b,a,a+d,e)}}}),E&&f){let a=()=>{c=(0,dj.timestampInSeconds)()};addEventListener("click",a,{capture:!0}),addEventListener("keydown",a,{capture:!0,passive:!0})}function e(){let b=a[i5];b&&!(0,bZ.spanToJSON)(b).timestamp&&(dE&&N.debug.log(`[Tracing] Finishing current active span with op: ${(0,bZ.spanToJSON)(b).op}`),b.setAttribute(bM.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON,"cancelled"),b.end())}a.on("startNavigationSpan",(b,d)=>{if((0,J.getClient)()!==a)return;if(d?.isRedirect){dE&&N.debug.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),P(a,{op:"navigation.redirect",...b},!1);return}c=void 0,e(),(0,J.getIsolationScope)().setPropagationContext({traceId:(0,iP.generateTraceId)(),sampleRand:Math.random(),propagationSpanId:(0,iq.hasSpansEnabled)()?void 0:(0,iP.generateSpanId)()});let f=(0,J.getCurrentScope)();f.setPropagationContext({traceId:(0,iP.generateTraceId)(),sampleRand:Math.random(),propagationSpanId:(0,iq.hasSpansEnabled)()?void 0:(0,iP.generateSpanId)()}),f.setSDKProcessingMetadata({normalizedRequest:void 0}),P(a,{op:"navigation",...b,parentSpan:null,forceTransaction:!0})}),a.on("startPageLoadSpan",(b,c={})=>{if((0,J.getClient)()!==a)return;e();let d=c.sentryTrace||i4("sentry-trace"),f=c.baggage||i4("baggage"),g=(0,iQ.propagationContextFromHeaders)(d,f),h=(0,J.getCurrentScope)();h.setPropagationContext(g),(0,iq.hasSpansEnabled)()||(h.getPropagationContext().propagationSpanId=(0,iP.generateSpanId)()),h.setSDKProcessingMetadata({normalizedRequest:bH()}),P(a,{op:"pageload",...b})}),a.on("endPageloadSpan",()=>{H&&d&&(d.setAttribute(bM.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON,"reportPageLoaded"),d.end())})},afterAllSetup(a){var b,d,f,h,i;let j,k=(0,L.getLocationHref)();if("off"!==F&&function(a,{linkPreviousTrace:b,consistentTraceSampling:c}){let d="session-storage"===b,e=d?function(){try{let a=bE.sessionStorage?.getItem(i$);return JSON.parse(a)}catch{return}}():void 0;a.on("spanStart",a=>{if((0,bZ.getRootSpan)(a)!==a)return;let b=(0,J.getCurrentScope)().getPropagationContext();e=function(a,b,c){let d=(0,bZ.spanToJSON)(b),e={spanContext:b.spanContext(),startTimestamp:d.start_timestamp,sampleRate:function(){try{return Number(c.dsc?.sample_rate)??Number(d.data?.[bM.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE])}catch{return 0}}(),sampleRand:c.sampleRand};if(!a)return e;let f=a.spanContext;return f.traceId===d.trace_id?a:(Date.now()/1e3-a.startTimestamp<=3600&&(dE&&N.debug.log(`Adding previous_trace ${f} link to span ${{op:d.op,...b.spanContext()}}`),b.addLink({context:f,attributes:{[bM.SEMANTIC_LINK_ATTRIBUTE_LINK_TYPE]:"previous_trace"}}),b.setAttribute("sentry.previous_trace",`${f.traceId}-${f.spanId}-${+!!i_(f)}`)),e)}(e,a,b),d&&function(a){try{bE.sessionStorage.setItem(i$,JSON.stringify(a))}catch(a){dE&&N.debug.warn("Could not store previous trace in sessionStorage",a)}}(e)});let f=!0;c&&a.on("beforeSampling",a=>{if(!e)return;let b=(0,J.getCurrentScope)(),c=b.getPropagationContext();if(f&&c.parentSpanId){f=!1;return}b.setPropagationContext({...c,dsc:{...c.dsc,sample_rate:String(e.sampleRate),sampled:String(i_(e.spanContext))},sampleRand:e.sampleRand}),a.parentSampled=i_(e.spanContext),a.parentSampleRate=e.sampleRate,a.spanAttributes={...a.spanAttributes,[bM.SEMANTIC_ATTRIBUTE_SENTRY_PREVIOUS_TRACE_SAMPLE_RATE]:e.sampleRate}})}(a,{linkPreviousTrace:F,consistentTraceSampling:G}),bE.location){if(C){let b=(0,dj.browserPerformanceTimeOrigin)();i2(a,{name:bE.location.pathname,startTime:b?b/1e3:void 0,attributes:{[bM.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:"url",[bM.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.pageload.browser"}})}D&&dC(({to:b,from:d})=>{var e,f;let g,h;if(void 0===d&&k?.indexOf(b)!==-1){k=void 0;return}k=void 0;let i=(0,dv.parseStringToURLObject)(b),j=a[i5],l=j&&E&&(e=j,f=c,g=(0,bZ.spanToJSON)(e),!((h=(0,dj.dateTimestampInSeconds)())-g.start_timestamp>1.5)&&(!f||!(h-f<=1.5)));i3(a,{name:i?.pathname||bE.location.pathname,attributes:{[bM.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:"url",[bM.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.navigation.browser"}},{url:b,isRedirect:l})})}u&&(bE.document?bE.document.addEventListener("visibilitychange",()=>{let a=(0,bZ.getActiveSpan)();if(!a)return;let b=(0,bZ.getRootSpan)(a);if(bE.document.hidden&&b){let a="cancelled",{op:c,status:d}=(0,bZ.spanToJSON)(b);dE&&N.debug.log(`[Tracing] Transaction: ${a} -> since tab moved to the background, op: ${c}`),d||b.setStatus({code:b$.SPAN_STATUS_ERROR,message:a}),b.setAttribute("sentry.cancellation_reason","document.hidden"),b.end()}}):dE&&N.debug.warn("[Tracing] Could not set up background tab detection due to lack of global document")),l&&(b=a,d=p,f=q,h=t,i=e,bE.document&&addEventListener("click",()=>{let a="ui.action.click",c=function(a){return a[i5]}(b);if(c&&["navigation","pageload"].includes((0,bZ.spanToJSON)(c).op)){dE&&N.debug.warn(`[Tracing] Did not create ${a} span because a pageload or navigation span is in progress.`);return}if(j&&(j.setAttribute(bM.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON,"interactionInterrupted"),j.end(),j=void 0),!i.name){dE&&N.debug.warn(`[Tracing] Did not create ${a} transaction because _latestRouteName is missing.`);return}j=iO({name:i.name,op:a,attributes:{[bM.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:i.source||"url"}},{idleTimeout:d,finalTimeout:f,childSpanTimeout:h})},{capture:!0})),g&&function(){let a=Object.keys(iU);function b(a){let b=a.target;if(!b)return;let c=(0,L.htmlTreeAsString)(b),d=Math.round(a.timeStamp);if(iT.set(d,c),iT.size>50){let a=iT.keys().next().value;void 0!==a&&iT.delete(a)}}(0,M.isBrowser)()&&a.forEach(a=>{cW.addEventListener(a,b,{capture:!0,passive:!0})});let c=({entries:a})=>{let b=(0,bZ.getActiveSpan)(),c=b&&(0,bZ.getRootSpan)(b);a.forEach(a=>{if(!("duration"in a))return;let b=a.interactionId;if(null==b||iS.has(b))return;let d=a.target?(0,L.htmlTreeAsString)(a.target):function(a){let b=Math.round(a.startTime),c=iT.get(b);if(!c)for(let a=-5;a<=5;a++){let d=iT.get(b+a);if(d){c=d;break}}return c||"<unknown>"}(a);if(iR.length>10){let a=iR.shift();iS.delete(a)}iR.push(b),iS.set(b,{span:c,elementName:d})})};eY("event",c),eY("first-input",c)}(),iI(a,{traceFetch:v,traceXHR:w,trackFetchStreamPerformance:x,tracePropagationTargets:a.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:y,enableHTTPTimings:z,onRequestSpanStart:K,onRequestSpanEnd:O})}}};function i2(a,b,c){a.emit("startPageLoadSpan",b,c),(0,J.getCurrentScope)().setTransactionName(b.name);let d=a[i5];return d&&a.emit("afterStartPageLoadSpan",d),d}function i3(a,b,c){let{url:d,isRedirect:e}=c||{};a.emit("beforeStartNavigationSpan",b,{isRedirect:e}),a.emit("startNavigationSpan",b,{isRedirect:e});let f=(0,J.getCurrentScope)();return f.setTransactionName(b.name),d&&!e&&f.setSDKProcessingMetadata({normalizedRequest:{...bH(),url:d}}),a[i5]}function i4(a){let b=bE.document,c=b?.querySelector(`meta[name=${a}]`);return c?.getAttribute("content")||void 0}let i5="_sentry_idleSpan";function i6(a,b){(0,bB.addNonEnumerableProperty)(a,i5,b)}function i7(a=(0,J.getClient)()){a?.emit("endPageloadSpan")}function i8(a){let b=(0,bZ.getActiveSpan)();if(b===a)return;let c=(0,J.getCurrentScope)();a.end=new Proxy(a.end,{apply:(a,d,e)=>((0,iL._setSpanForScope)(c,b),Reflect.apply(a,d,e))}),(0,iL._setSpanForScope)(c,a)}function i9(a){return new Promise((b,c)=>{a.oncomplete=a.onsuccess=()=>b(a.result),a.onabort=a.onerror=()=>c(a.error)})}function ja(a){return i9(a.getAllKeys())}function jb(a){let b;function c(){var c,d;let e,f;return void 0==b&&(c=a.dbName||"sentry-offline",d=a.storeName||"queue",(e=indexedDB.open(c)).onupgradeneeded=()=>e.result.createObjectStore(d),f=i9(e),b=a=>f.then(b=>a(b.transaction(d,"readwrite").objectStore(d)))),b}return{push:async b=>{try{var d,e;let f=await (0,cg.serializeEnvelope)(b);await (d=c(),e=a.maxQueueSize||30,d(a=>ja(a).then(b=>{if(!(b.length>=e))return a.put(f,Math.max(...b,0)+1),i9(a.transaction)})))}catch{}},unshift:async b=>{try{var d,e;let f=await (0,cg.serializeEnvelope)(b);await (d=c(),e=a.maxQueueSize||30,d(a=>ja(a).then(b=>{if(!(b.length>=e))return a.put(f,Math.min(...b,0)-1),i9(a.transaction)})))}catch{}},shift:async()=>{try{let a=await c()(a=>ja(a).then(b=>{let c=b[0];if(null!=c)return i9(a.get(c)).then(b=>(a.delete(c),i9(a.transaction).then(()=>b)))}));if(a)return(0,cg.parseEnvelope)(a)}catch{}}}}function jc(a=c$){var b;return b=function(a){function b(...a){cR.DEBUG_BUILD&&N.debug.log("[Offline]:",...a)}return c=>{let d,e=a(c);if(!c.createStore)throw Error("No `createStore` function was provided");let f=c.createStore(c),g=5e3;function h(a){d&&clearTimeout(d),"number"!=typeof(d=setTimeout(async()=>{d=void 0;let a=await f.shift();a&&(b("Attempting to send previously queued event"),a[0].sent_at=new Date().toISOString(),j(a,!0).catch(a=>{b("Failed to retry sending",a)}))},a))&&d.unref&&d.unref()}function i(){d||(h(g),g=Math.min(2*g,36e5))}async function j(a,d=!1){if(!d&&(0,cg.envelopeContainsItemType)(a,["replay_event","replay_recording"]))return await f.push(a),h(100),{};try{if(c.shouldSend&&await c.shouldSend(a)===!1)throw Error("Envelope not sent because `shouldSend` callback returned false");let b=await e.send(a),d=100;if(b){if(b.headers?.["retry-after"])d=(0,el.parseRetryAfterHeader)(b.headers["retry-after"]);else if(b.headers?.["x-sentry-rate-limits"])d=6e4;else if((b.statusCode||0)>=400)return b}return h(d),g=5e3,b}catch(e){var k;if(await (k=g,!(0,cg.envelopeContainsItemType)(a,["client_report"])&&(!c.shouldStore||c.shouldStore(a,e,k))))return d?await f.unshift(a):await f.push(a),i(),b("Error sending. Event queued.",e),{};throw e}}return c.flushAtStartup&&i(),{send:j,flush:a=>(void 0===a&&(g=5e3,h(100)),e.flush(a))}}}(a),a=>{let c=b({...a,createStore:jb});return bE.addEventListener("online",async a=>{await c.flush()}),c}}var jd=a.i(10819),je=a.i(9062);let jf="window"in I.GLOBAL_OBJ&&I.GLOBAL_OBJ.window===I.GLOBAL_OBJ&&"undefined"==typeof importScripts,jg=String(0),jh=jf?"main":"worker",ji=bE.navigator,jj="",jk="",jl="",jm=ji?.userAgent||"",jn="",jo=ji?.language||ji?.languages?.[0]||"",jp=ji?.userAgentData;function jq(a){return"pageload"===(0,bZ.spanToJSON)(a).op}function jr(a){let b=(0,J.getClient)(),c=b?.getOptions(),d=c?.stackParser;return d?(0,je.getDebugImagesForResources)(d,a):[]}function js(a){return"number"!=typeof a&&"boolean"!=typeof a||"number"==typeof a&&isNaN(a)?(dE&&N.debug.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(a)} of type ${JSON.stringify(typeof a)}.`),!1):!0===a||!1===a||!(a<0)&&!(a>1)||(dE&&N.debug.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${a}.`),!1)}"object"==typeof jp&&null!==jp&&"getHighEntropyValues"in jp&&jp.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(a=>{if(jj=a.platform||"",jl=a.architecture||"",jn=a.model||"",jk=a.platformVersion||"",a.fullVersionList?.length){let b=a.fullVersionList[a.fullVersionList.length-1];jm=`${b.brand} ${b.version}`}}).catch(a=>void 0);let jt=!1;function ju(){let a=bE.Profiler;if("function"!=typeof a){dE&&N.debug.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");return}let b=Math.floor(3e3);try{return new a({sampleInterval:10,maxBufferSize:b})}catch(a){dE&&(N.debug.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),N.debug.log("[Profiling] Disabling profiling for current user session.")),jt=!0}}function jv(a){if(jt)return dE&&N.debug.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!a.isRecording())return dE&&N.debug.log("[Profiling] Discarding profile because root span was not sampled."),!1;let b=(0,J.getClient)(),c=b?.getOptions();if(!c)return dE&&N.debug.log("[Profiling] Profiling disabled, no options found."),!1;let d=c.profilesSampleRate;return js(d)?d?!!(!0===d||Math.random()<d)||(dE&&N.debug.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(d)})`),!1):(dE&&N.debug.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):(dE&&N.debug.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)}function jw(a){return void 0!==a.profilesSampleRate}let jx=new Map;function jy(a){let b;jq(a)&&(b=1e3*(0,dj.timestampInSeconds)());let c=ju();if(!c)return;dE&&N.debug.log(`[Profiling] started profiling span: ${(0,bZ.spanToJSON)(a).description}`);let d=(0,bC.uuid4)(),e=null;async function f(){if(a&&c){if(e){dE&&N.debug.log("[Profiling] profile for:",(0,bZ.spanToJSON)(a).description,"already exists, returning early");return}return c.stop().then(b=>{if(g&&(bE.clearTimeout(g),g=void 0),dE&&N.debug.log(`[Profiling] stopped profiling of span: ${(0,bZ.spanToJSON)(a).description}`),!b){dE&&N.debug.log(`[Profiling] profiler returned null profile for: ${(0,bZ.spanToJSON)(a).description}`,"this may indicate an overlapping span or a call to stopProfiling with a profile title that was never started");return}e=b;if(jx.set(d,b),jx.size>30){let a=jx.keys().next().value;void 0!==a&&jx.delete(a)}}).catch(a=>{dE&&N.debug.log("[Profiling] error while stopping profiler:",a)})}}(0,J.getCurrentScope)().setContext("profile",{profile_id:d,start_timestamp:b});let g=bE.setTimeout(()=>{dE&&N.debug.log("[Profiling] max profile duration elapsed, stopping profiling for:",(0,bZ.spanToJSON)(a).description),f()},3e4),h=a.end.bind(a);a.end=function(){return a?(f().then(()=>{h()},()=>{h()}),a):h()}}class jz{constructor(){this._client=void 0,this._profiler=void 0,this._chunkTimer=void 0,this._activeRootSpanIds=new Set,this._rootSpanTimeouts=new Map,this._profilerId=void 0,this._isRunning=!1,this._sessionSampled=!1}initialize(a,b){this._profilerId=(0,bC.uuid4)(),dE&&N.debug.log("[Profiling] Initializing profiler (lifecycle='trace')."),this._client=a,this._sessionSampled=b,this._setupTraceLifecycleListeners(a)}notifyRootSpanActive(a){if(!this._sessionSampled)return;let b=a.spanContext().spanId;if(!b||this._activeRootSpanIds.has(b))return;this._activeRootSpanIds.add(b);let c=this._activeRootSpanIds.size;1===c&&(dE&&N.debug.log("[Profiling] Detected already active root span during setup. Active root spans now:",c),this.start())}start(){if(!this._isRunning){if(this._isRunning=!0,dE&&N.debug.log("[Profiling] Started profiling with profile ID:",this._profilerId),(0,J.getGlobalScope)().setContext("profile",{profiler_id:this._profilerId}),this._startProfilerInstance(),!this._profiler){dE&&N.debug.log("[Profiling] Stopping trace lifecycle profiling."),this._resetProfilerInfo();return}this._startPeriodicChunking()}}stop(){this._isRunning&&(this._isRunning=!1,this._chunkTimer&&(clearTimeout(this._chunkTimer),this._chunkTimer=void 0),this._clearAllRootSpanTimeouts(),this._collectCurrentChunk().catch(a=>{dE&&N.debug.error("[Profiling] Failed to collect current profile chunk on `stop()`:",a)}))}_setupTraceLifecycleListeners(a){a.on("spanStart",a=>{if(!this._sessionSampled){dE&&N.debug.log("[Profiling] Session not sampled because of negative sampling decision.");return}if(a!==(0,bZ.getRootSpan)(a))return;if(!a.isRecording()){dE&&N.debug.log("[Profiling] Discarding profile because root span was not sampled.");return}let b=a.spanContext().spanId;if(!b||this._activeRootSpanIds.has(b))return;this._registerTraceRootSpan(b);let c=this._activeRootSpanIds.size;1===c&&(dE&&N.debug.log(`[Profiling] Root span ${b} started. Profiling active while there are active root spans (count=${c}).`),this.start())}),a.on("spanEnd",a=>{if(!this._sessionSampled)return;let b=a.spanContext().spanId;if(!b||!this._activeRootSpanIds.has(b))return;this._activeRootSpanIds.delete(b);let c=this._activeRootSpanIds.size;dE&&N.debug.log(`[Profiling] Root span with ID ${b} ended. Will continue profiling for as long as there are active root spans (currently: ${c}).`),0===c&&(this._collectCurrentChunk().catch(a=>{dE&&N.debug.error("[Profiling] Failed to collect current profile chunk on last `spanEnd`:",a)}),this.stop())})}_resetProfilerInfo(){this._isRunning=!1,(0,J.getGlobalScope)().setContext("profile",{})}_clearAllRootSpanTimeouts(){this._rootSpanTimeouts.forEach(a=>clearTimeout(a)),this._rootSpanTimeouts.clear()}_registerTraceRootSpan(a){this._activeRootSpanIds.add(a);let b=setTimeout(()=>this._onRootSpanTimeout(a),3e5);this._rootSpanTimeouts.set(a,b)}_startProfilerInstance(){if(this._profiler?.stopped===!1)return;let a=ju();if(!a){dE&&N.debug.log("[Profiling] Failed to start JS Profiler in trace lifecycle.");return}this._profiler=a}_startPeriodicChunking(){this._isRunning&&(this._chunkTimer=setTimeout(()=>{if(this._collectCurrentChunk().catch(a=>{dE&&N.debug.error("[Profiling] Failed to collect current profile chunk during periodic chunking:",a)}),this._isRunning){if(this._startProfilerInstance(),!this._profiler)return void this._resetProfilerInfo();this._startPeriodicChunking()}},6e4))}_onRootSpanTimeout(a){!this._rootSpanTimeouts.has(a)||(this._rootSpanTimeouts.delete(a),this._activeRootSpanIds.has(a)&&(dE&&N.debug.log(`[Profiling] Reached 5-minute timeout for root span ${a}. You likely started a manual root span that never called \`.end()\`.`),this._activeRootSpanIds.delete(a),0===this._activeRootSpanIds.size&&this.stop()))}async _collectCurrentChunk(){let a=this._profiler;if(this._profiler=void 0,a)try{let b=await a.stop(),c=function(a,b,c){if(null==a)throw TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${a} instead.`);let d=function(a){let b=[];for(let c=0;c<a.frames.length;c++){let d=a.frames[c];d&&(b[c]={function:d.name,abs_path:"number"==typeof d.resourceId?a.resources[d.resourceId]:void 0,lineno:d.line,colno:d.column})}let c=[];for(let b=0;b<a.stacks.length;b++){let d=a.stacks[b];if(!d)continue;let e=[],f=d;for(;f;)e.push(f.frameId),f=void 0===f.parentId?void 0:a.stacks[f.parentId];c[b]=e}let d=(0,dj.browserPerformanceTimeOrigin)(),e="number"==typeof performance.timeOrigin?performance.timeOrigin:d||0,f=e-(d||e),g=[];for(let b=0;b<a.samples.length;b++){let c=a.samples[b];if(!c)continue;let d=(e+(c.timestamp-f))/1e3;g[b]={stack_id:c.stackId??0,thread_id:jg,timestamp:d}}return{frames:b,stacks:c,samples:g,thread_metadata:{[jg]:{name:jh}}}}(a),e=b.getOptions(),f=b.getSdkMetadata?.()?.sdk;return{chunk_id:(0,bC.uuid4)(),client_sdk:{name:f?.name??"sentry.javascript.browser",version:f?.version??"0.0.0"},profiler_id:c||(0,bC.uuid4)(),platform:"javascript",version:"2",release:e.release??"",environment:e.environment??"production",debug_meta:{images:jr(a.resources)},profile:d}}(b,this._client,this._profilerId),d=function(a){try{if(!a||"object"!=typeof a)return{reason:"chunk is not an object"};let b=a=>"string"==typeof a&&/^[a-f0-9]{32}$/.test(a);if(!b(a.profiler_id))return{reason:"missing or invalid profiler_id"};if(!b(a.chunk_id))return{reason:"missing or invalid chunk_id"};if(!a.client_sdk)return{reason:"missing client_sdk metadata"};let c=a.profile;if(!c)return{reason:"missing profile data"};if(!Array.isArray(c.frames)||!c.frames.length)return{reason:"profile has no frames"};if(!Array.isArray(c.stacks)||!c.stacks.length)return{reason:"profile has no stacks"};if(!Array.isArray(c.samples)||!c.samples.length)return{reason:"profile has no samples"};return{valid:!0}}catch(a){return{reason:`unknown validation error: ${a}`}}}(c);if("reason"in d){dE&&N.debug.log("[Profiling] Discarding invalid profile chunk (this is probably a bug in the SDK):",d.reason);return}this._sendProfileChunk(c),dE&&N.debug.log("[Profiling] Collected browser profile chunk.")}catch(a){dE&&N.debug.log("[Profiling] Error while stopping JS Profiler for chunk:",a)}}_sendProfileChunk(a){let b=this._client,c=(0,cg.getSdkMetadataForEnvelopeHeader)(b.getSdkMetadata?.()),d=b.getDsn(),e=b.getOptions().tunnel,f=(0,cg.createEnvelope)({event_id:(0,bC.uuid4)(),sent_at:new Date().toISOString(),...c&&{sdk:c},...!!e&&d&&{dsn:(0,cf.dsnToString)(d)}},[[{type:"profile_chunk"},a]]);b.sendEnvelope(f).then(null,a=>{dE&&N.debug.error("Error while sending profile chunk envelope:",a)})}}let jA=(0,O.defineIntegration)(()=>({name:"BrowserProfiling",setup(a){let b=a.getOptions();if(jw(b)||b.profileLifecycle||(b.profileLifecycle="manual"),jw(b)&&!b.profilesSampleRate){dE&&N.debug.log("[Profiling] Profiling disabled, no profiling options found.");return}let c=(0,bZ.getActiveSpan)(),d=c&&(0,bZ.getRootSpan)(c);if(jw(b)&&void 0!==b.profileSessionSampleRate&&dE&&N.debug.warn("[Profiling] Both legacy profiling (`profilesSampleRate`) and UI profiling settings are defined. `profileSessionSampleRate` has no effect when legacy profiling is enabled."),jw(b))d&&jq(d)&&jv(d)&&jy(d),a.on("spanStart",a=>{a===(0,bZ.getRootSpan)(a)&&jv(a)&&jy(a)}),a.on("beforeEnvelope",a=>{let b;if(!jx.size)return;let c=(b=[],(0,cg.forEachEnvelopeItem)(a,(a,c)=>{if("transaction"===c)for(let c=1;c<a.length;c++){let d=a[c];d?.contexts?.profile?.profile_id&&b.push(a[c])}}),b);if(!c.length)return;let d=[];for(let a of c){let b=a?.contexts,c=b?.profile?.profile_id,e=b?.profile?.start_timestamp;if("string"!=typeof c||!c){dE&&N.debug.log("[Profiling] cannot find profile for a span without a profile context");continue}b?.profile&&delete b.profile;let f=function(a){let b=jx.get(a);return b&&jx.delete(a),b}(c);if(!f){dE&&N.debug.log(`[Profiling] Could not retrieve profile for span: ${c}`);continue}let g=function(a,b,c,d){return(c.samples.length<2?(dE&&N.debug.log("[Profiling] Discarding profile because it contains less than 2 samples"),1):!c.frames.length&&(dE&&N.debug.log("[Profiling] Discarding profile because it contains no frames"),1))?null:function(a,b,c,d){var e;let f;if("transaction"!==d.type)throw TypeError("Profiling events may only be attached to transactions, this should never occur.");if(null==c)throw TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${c} instead.`);let g=("string"==typeof(f=d.contexts?.trace?.trace_id)&&32!==f.length&&dE&&N.debug.log(`[Profiling] Invalid traceId: ${f} on profiled event`),"string"!=typeof f)?"":f,h="thread_metadata"in(e=c)?e:function(a){let b,c=0,d={samples:[],stacks:[],frames:[],thread_metadata:{[jg]:{name:jh}}},e=a.samples[0];if(!e)return d;let f=e.timestamp,g=(0,dj.browserPerformanceTimeOrigin)(),h="number"==typeof performance.timeOrigin?performance.timeOrigin:g||0,i=h-(g||h);return a.samples.forEach((e,g)=>{if(void 0===e.stackId){void 0===b&&(b=c,d.stacks[b]=[],c++),d.samples[g]={elapsed_since_start_ns:((e.timestamp+i-f)*1e6).toFixed(0),stack_id:b,thread_id:jg};return}let h=a.stacks[e.stackId],j=[];for(;h;){j.push(h.frameId);let b=a.frames[h.frameId];b&&void 0===d.frames[h.frameId]&&(d.frames[h.frameId]={function:b.name,abs_path:"number"==typeof b.resourceId?a.resources[b.resourceId]:void 0,lineno:b.line,colno:b.column}),h=void 0===h.parentId?void 0:a.stacks[h.parentId]}let k={elapsed_since_start_ns:((e.timestamp+i-f)*1e6).toFixed(0),stack_id:c,thread_id:jg};d.stacks[c]=j,d.samples[g]=k,c++}),d}(e),i=b||("number"==typeof d.start_timestamp?1e3*d.start_timestamp:1e3*(0,dj.timestampInSeconds)()),j="number"==typeof d.timestamp?1e3*d.timestamp:1e3*(0,dj.timestampInSeconds)();return{event_id:a,timestamp:new Date(i).toISOString(),platform:"javascript",version:"1",release:d.release||"",environment:d.environment||jd.DEFAULT_ENVIRONMENT,runtime:{name:"javascript",version:bE.navigator.userAgent},os:{name:jj,version:jk,build_number:jm},device:{locale:jo,model:jn,manufacturer:jm,architecture:jl,is_emulator:!1},debug_meta:{images:jr(c.resources)},profile:h,transactions:[{name:d.transaction||"",id:d.event_id||(0,bC.uuid4)(),trace_id:g,active_thread_id:jg,relative_start_ns:"0",relative_end_ns:((j-i)*1e6).toFixed(0)}]}}(a,b,c,d)}(c,e,f,a);g&&d.push(g)}!function(a,b){if(b.length)for(let c of b)a[1].push([{type:"profile"},c])}(a,d)});else{let c=function(a){if(jt)return dE&&N.debug.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if("trace"!==a.profileLifecycle)return!1;let b=a.profileSessionSampleRate;return js(b)?b?Math.random()<=b:(dE&&N.debug.log("[Profiling] Discarding profile because profileSessionSampleRate is not defined or set to 0"),!1):(dE&&N.debug.warn("[Profiling] Discarding profile because of invalid profileSessionSampleRate."),!1)}(b);if(!c&&dE&&N.debug.log("[Profiling] Session not sampled. Skipping lifecycle profiler initialization."),"trace"===b.profileLifecycle){if(!(0,iq.hasSpansEnabled)(b)){dE&&N.debug.warn("[Profiling] `profileLifecycle` is 'trace' but tracing is disabled. Set a `tracesSampleRate` or `tracesSampler` to enable span tracing.");return}let e=new jz;e.initialize(a,c),d&&e.notifyRootSpanActive(d),bE.setTimeout(()=>{let a=(0,bZ.getActiveSpan)(),b=a&&(0,bZ.getRootSpan)(a);b&&e.notifyRootSpanActive(b)},0)}}},processEvent:a=>(a?.contexts?.profile&&a.contexts&&(a.contexts.trace={...a.contexts?.trace??{},data:{...a.contexts?.trace?.data??{},"thread.id":jg,"thread.name":jh}},a.spans?.forEach(a=>{a.data={...a.data||{},"thread.id":jg,"thread.name":jh}})),a)})),jB=(0,O.defineIntegration)((a={})=>{let b=a.sidecarUrl||"http://localhost:8969/stream";return{name:"SpotlightBrowser",setup:()=>{dE&&N.debug.log("Using Sidecar URL",b)},processEvent:a=>{var b;return"transaction"===(b=a).type&&b.spans&&b.contexts?.trace&&"ui.action.click"===b.contexts.trace.op&&b.spans.some(({description:a})=>a?.includes("#sentry-spotlight"))?null:a},afterAllSetup:a=>{var c,d;let e,f;c=a,d=b,e=cY("fetch"),f=0,c.on("beforeEnvelope",a=>{f>3?N.debug.warn("[Spotlight] Disabled Sentry -> Spotlight integration due to too many failed requests:",f):e(d,{method:"POST",body:(0,cg.serializeEnvelope)(a),headers:{"Content-Type":"application/x-sentry-envelope"},mode:"cors"}).then(a=>{a.status>=200&&a.status<400&&(f=0)},a=>{f++,N.debug.error("Sentry SDK can't connect to Sidecar is it running? See: https://spotlightjs.com/sidecar/npx/",a)})})}}});var jC=a.i(36292);let jD=(0,O.defineIntegration)(()=>({name:"LaunchDarkly",processEvent:(a,b,c)=>(0,jC._INTERNAL_copyFlagsFromScopeToEvent)(a)}));function jE(){return{name:"sentry-flag-auditor",type:"flag-used",synchronous:!0,method:(a,b,c)=>{(0,jC._INTERNAL_insertFlagToScope)(a,b.value),(0,jC._INTERNAL_addFeatureFlagToActiveSpan)(a,b.value)}}}let jF=(0,O.defineIntegration)(()=>({name:"OpenFeature",processEvent:(a,b,c)=>(0,jC._INTERNAL_copyFlagsFromScopeToEvent)(a)}));class jG{after(a,b){(0,jC._INTERNAL_insertFlagToScope)(b.flagKey,b.value),(0,jC._INTERNAL_addFeatureFlagToActiveSpan)(b.flagKey,b.value)}error(a,b,c){(0,jC._INTERNAL_insertFlagToScope)(a.flagKey,a.defaultValue),(0,jC._INTERNAL_addFeatureFlagToActiveSpan)(a.flagKey,a.defaultValue)}}let jH=(0,O.defineIntegration)(({featureFlagClientClass:a})=>({name:"Unleash",setupOnce(){let b=a.prototype;(0,bB.fill)(b,"isEnabled",jI)},processEvent:(a,b,c)=>(0,jC._INTERNAL_copyFlagsFromScopeToEvent)(a)}));function jI(a){return function(...b){let c=b[0],d=a.apply(this,b);return"string"==typeof c&&"boolean"==typeof d?((0,jC._INTERNAL_insertFlagToScope)(c,d),(0,jC._INTERNAL_addFeatureFlagToActiveSpan)(c,d)):dE&&N.debug.error(`[Feature Flags] UnleashClient.isEnabled does not match expected signature. arg0: ${c} (${typeof c}), result: ${d} (${typeof d})`),d}}var jJ=a.i(49293);let jK=({growthbookClass:a})=>(0,jJ.growthbookIntegration)({growthbookClass:a}),jL=(0,O.defineIntegration)(({featureFlagClient:a})=>({name:"Statsig",setup(b){a.on("gate_evaluation",a=>{(0,jC._INTERNAL_insertFlagToScope)(a.gate.name,a.gate.value),(0,jC._INTERNAL_addFeatureFlagToActiveSpan)(a.gate.name,a.gate.value)})},processEvent:(a,b,c)=>(0,jC._INTERNAL_copyFlagsFromScopeToEvent)(a)}));async function jM(){let a=(0,J.getClient)();if(!a)return"no-client-active";if(!a.getDsn())return"no-dsn-configured";try{await (0,bR.suppressTracing)(()=>fetch("https://o447951.ingest.sentry.io/api/4509632503087104/envelope/?sentry_version=7&sentry_key=c1dfb07d783ad5325c245c1fd3725390&sentry_client=sentry.javascript.browser%2F1.33.7",{body:"{}",method:"POST",mode:"cors",credentials:"omit"}))}catch{return"sentry-unreachable"}}let jN=(0,O.defineIntegration)(({worker:a})=>({name:"WebWorker",setupOnce:()=>{(Array.isArray(a)?a:[a]).forEach(a=>jO(a))},addWorker:a=>jO(a)}));function jO(a){a.addEventListener("message",a=>{(function(a){if(!(0,cD.isPlainObject)(a)||!0!==a._sentryMessage)return!1;let b="_sentryDebugIds"in a,c="_sentryWorkerError"in a;return(!!b||!!c)&&(!b||!!((0,cD.isPlainObject)(a._sentryDebugIds)||void 0===a._sentryDebugIds))&&(!c||!!(0,cD.isPlainObject)(a._sentryWorkerError))})(a.data)&&(a.stopImmediatePropagation(),a.data._sentryDebugIds&&(dE&&N.debug.log("Sentry debugId web worker message received",a.data),bE._sentryDebugIds={...a.data._sentryDebugIds,...bE._sentryDebugIds}),a.data._sentryWorkerError&&(dE&&N.debug.log("Sentry worker rejection message received",a.data._sentryWorkerError),function(a){let b=(0,J.getClient)();if(!b)return;let c=b.getOptions().stackParser,d=b.getOptions().attachStacktrace,e=a.reason,f=(0,cD.isPrimitive)(e)?dQ(e):cN(c,e,void 0,d,!0);f.level="error",a.filename&&(f.contexts={...f.contexts,worker:{filename:a.filename}}),(0,bD.captureEvent)(f,{originalException:e,mechanism:{handled:!1,type:"auto.browser.web_worker.onunhandledrejection"}}),dE&&N.debug.log("Captured worker unhandled rejection",e)}(a.data._sentryWorkerError)))})}function jP({self:a}){a.postMessage({_sentryMessage:!0,_sentryDebugIds:a._sentryDebugIds??void 0}),a.addEventListener("unhandledrejection",b=>{let c={reason:dP(b),filename:a.location?.href};a.postMessage({_sentryMessage:!0,_sentryWorkerError:c}),dE&&N.debug.log("[Sentry Worker] Forwarding unhandled rejection to parent",c)}),dE&&N.debug.log("[Sentry Worker] Registered worker with unhandled rejection handling")}a.s(["BrowserClient",()=>cP,"OpenFeatureIntegrationHook",()=>jG,"SDK_VERSION",()=>bA.SDK_VERSION,"SEMANTIC_ATTRIBUTE_SENTRY_OP",()=>bM.SEMANTIC_ATTRIBUTE_SENTRY_OP,"SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN",()=>bM.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,"SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE",()=>bM.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,"SEMANTIC_ATTRIBUTE_SENTRY_SOURCE",()=>bM.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,"Scope",()=>bN.Scope,"WINDOW",()=>bE,"addBreadcrumb",()=>bO.addBreadcrumb,"addEventProcessor",()=>bD.addEventProcessor,"addIntegration",()=>O.addIntegration,"breadcrumbsIntegration",()=>dF,"browserApiErrorsIntegration",()=>dH,"browserProfilingIntegration",()=>jA,"browserSessionIntegration",()=>dL,"browserTracingIntegration",()=>i1,"buildLaunchDarklyFlagUsedHandler",()=>jE,"captureConsoleIntegration",()=>bP.captureConsoleIntegration,"captureEvent",()=>bD.captureEvent,"captureException",()=>bD.captureException,"captureFeedback",()=>K.captureFeedback,"captureMessage",()=>bD.captureMessage,"captureSession",()=>bD.captureSession,"chromeStackLineParser",()=>c4,"close",()=>bD.close,"consoleLoggingIntegration",()=>bQ.consoleLoggingIntegration,"contextLinesIntegration",()=>ea,"continueTrace",()=>bR.continueTrace,"createConsolaReporter",()=>bS.createConsolaReporter,"createTransport",()=>bT.createTransport,"createUserFeedbackEnvelope",()=>dh,"dedupeIntegration",()=>bU.dedupeIntegration,"defaultRequestInstrumentationOptions",()=>iH,"defaultStackLineParsers",()=>de,"defaultStackParser",()=>df,"diagnoseSdkConnectivity",()=>jM,"endSession",()=>bD.endSession,"eventFiltersIntegration",()=>bV.eventFiltersIntegration,"eventFromException",()=>cL,"eventFromMessage",()=>cM,"exceptionFromError",()=>cG,"extraErrorDataIntegration",()=>bW.extraErrorDataIntegration,"featureFlagsIntegration",()=>bX.featureFlagsIntegration,"feedbackAsyncIntegration",()=>bK,"feedbackIntegration",()=>bL,"feedbackSyncIntegration",()=>bL,"flush",()=>bD.flush,"forceLoad",()=>dY,"functionToStringIntegration",()=>bY.functionToStringIntegration,"geckoStackLineParser",()=>c7,"getActiveSpan",()=>bZ.getActiveSpan,"getClient",()=>J.getClient,"getCurrentScope",()=>J.getCurrentScope,"getDefaultIntegrations",()=>dW,"getFeedback",()=>ar,"getGlobalScope",()=>J.getGlobalScope,"getIsolationScope",()=>J.getIsolationScope,"getReplay",()=>hZ,"getRootSpan",()=>bZ.getRootSpan,"getSpanDescendants",()=>bZ.getSpanDescendants,"getSpanStatusFromHttpCode",()=>b$.getSpanStatusFromHttpCode,"getTraceData",()=>b_.getTraceData,"globalHandlersIntegration",()=>dO,"graphqlClientIntegration",()=>ei,"growthbookIntegration",()=>jK,"httpClientIntegration",()=>d3,"httpContextIntegration",()=>dT,"inboundFiltersIntegration",()=>bV.inboundFiltersIntegration,"init",()=>dX,"instrumentAnthropicAiClient",()=>b0.instrumentAnthropicAiClient,"instrumentGoogleGenAIClient",()=>b1.instrumentGoogleGenAIClient,"instrumentOpenAiClient",()=>b2.instrumentOpenAiClient,"instrumentOutgoingRequests",()=>iI,"instrumentSupabaseClient",()=>b3.instrumentSupabaseClient,"isEnabled",()=>bD.isEnabled,"isInitialized",()=>bD.isInitialized,"lastEventId",()=>bD.lastEventId,"launchDarklyIntegration",()=>jD,"lazyLoadIntegration",()=>bJ,"linkedErrorsIntegration",()=>dV,"logger",()=>cd,"makeBrowserOfflineTransport",()=>jc,"makeFetchTransport",()=>c$,"makeMultiplexedTransport",()=>ci,"metrics",()=>cj.metrics,"moduleMetadataIntegration",()=>co,"onLoad",()=>dZ,"openFeatureIntegration",()=>jF,"opera10StackLineParser",()=>db,"opera11StackLineParser",()=>dd,"parameterize",()=>cc.parameterize,"registerSpanErrorInstrumentation",()=>cp.registerSpanErrorInstrumentation,"registerWebWorker",()=>jP,"replayCanvasIntegration",()=>ip,"replayIntegration",()=>hW,"reportPageLoaded",()=>i7,"reportingObserverIntegration",()=>d1,"rewriteFramesIntegration",()=>cq.rewriteFramesIntegration,"sendFeedback",()=>ai,"setActiveSpanInBrowser",()=>i8,"setContext",()=>bD.setContext,"setCurrentClient",()=>cr.setCurrentClient,"setExtra",()=>bD.setExtra,"setExtras",()=>bD.setExtras,"setHttpStatus",()=>b$.setHttpStatus,"setMeasurement",()=>cs.setMeasurement,"setTag",()=>bD.setTag,"setTags",()=>bD.setTags,"setUser",()=>bD.setUser,"showReportDialog",()=>d$,"spanToBaggageHeader",()=>ct.spanToBaggageHeader,"spanToJSON",()=>bZ.spanToJSON,"spanToTraceHeader",()=>bZ.spanToTraceHeader,"spotlightBrowserIntegration",()=>jB,"startBrowserTracingNavigationSpan",()=>i3,"startBrowserTracingPageLoadSpan",()=>i2,"startInactiveSpan",()=>bR.startInactiveSpan,"startNewTrace",()=>bR.startNewTrace,"startSession",()=>bD.startSession,"startSpan",()=>bR.startSpan,"startSpanManual",()=>bR.startSpanManual,"statsigIntegration",()=>jL,"supabaseIntegration",()=>b3.supabaseIntegration,"suppressTracing",()=>bR.suppressTracing,"thirdPartyErrorFilterIntegration",()=>cv,"unleashIntegration",()=>jH,"updateSpanName",()=>bZ.updateSpanName,"webWorkerIntegration",()=>jN,"winjsStackLineParser",()=>c9,"withActiveSpan",()=>bR.withActiveSpan,"withIsolationScope",()=>J.withIsolationScope,"withScope",()=>J.withScope,"zodErrorsIntegration",()=>cx.zodErrorsIntegration],89367)}];

//# sourceMappingURL=a6501_%40sentry_browser_build_npm_esm_prod_index_1cbd9e81.js.map